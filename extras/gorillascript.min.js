!function(a){var b=function(a){function b(c){var d=Object.prototype.hasOwnProperty;if(d.call(b._cache,c))return b._cache[c];if(d.call(b,c)){var e=b[c];return delete b[c],b._cache[c]=e.call({})}return a?a(c):void 0}return b._cache={},b["./utils"]=function(){var a={exports:this},c=this;return function(a){"use strict";function d(a,b){return 1>b?"":1===b?a:1&b?""+a+d(a,b-1):d(""+a+a,b/2)}function e(a,b,c){return""+d(c,b-a.length)+a}function f(a,b,c){return""+a+d(c,b-a.length)}function g(a){return G?G(a):-1===a.indexOf("'")?"'"+JSON.stringify(a).slice(1,-1)+"'":JSON.stringify(a)}function h(a){var b,c,d,e,f;for(f=[],b=A(a),c=0,d=b.length;d>c;++c)e=b[c],s(e,f)||f.push(e);return f}function i(a){var b,c;return b=J.join(a,"package.json"),F.existsSync(b)?b:(c=J.normalize(J.join(a,"..")),c!==a?i(c):void 0)}function j(a){var b,c;if("string"!=typeof a||!F||!J)return"";try{b=i(J.dirname(a))}catch(d){}if(!b)return"";try{c=JSON.parse(F.readFileSync(b)).version}catch(d){}return"string"==typeof c?c:""}function k(a){var b;return b=o(),F.exists(a,b.fulfill),b.promise}function l(a,b){return I.sync(a,b,!0)}function m(a,b,c){return M.sync(a,b,c,!0)}var n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M;n="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},o=function(){function a(){function b(a,b){var f;c&&(f=c,c=null,d=a,e=b,f.length&&K(function(){var a,b;for(b=0,a=f.length;a>b;++b)f[b]()}))}var c,d,e;return d=!1,e=null,c=[],{promise:{then:function(b,f,g){function h(){var a,c;try{a=d?f:b,"function"==typeof a?(c=a(e),c&&"function"==typeof c.then?c.then(j,l,g):j(c)):(d?l:j)(e)}catch(h){l(h)}}var i,j,k,l;return g!==!0&&(g=void 0),i=a(),k=i.promise,j=i.fulfill,l=i.reject,c?c.push(h):g?h():K(h),k},sync:function(){var a,b;switch(b=0,a=0,this.then(function(c){return b=1,a=c},function(c){return b=2,a=c},!0),b){case 0:throw Error("Promise did not execute synchronously");case 1:return a;case 2:throw a;default:throw Error("Unknown state")}}},fulfill:function(a){b(!1,a)},reject:function(a){b(!0,a)}}}return a.fulfilled=function(b){var c;return c=a(),c.fulfill(b),c.promise},a.rejected=function(b){var c;return c=a(),c.reject(b),c.promise},a}(),p=function(a,b){function c(c,f){var g;try{g=a[c](f)}catch(h){return o.rejected(h)}return g.done?o.fulfilled(g.value):g.value.then(d,e,b)}function d(a){return c("send",a)}function e(a){return c("throw",a)}if("object"!=typeof a||null===a)throw TypeError("Expected generator to be an Object, got "+C(a));if("function"!=typeof a.send)throw TypeError("Expected generator.send to be a Function, got "+C(a.send));if("function"!=typeof a["throw"])throw TypeError("Expected generator.throw to be a Function, got "+C(a["throw"]));if(null==b)b=!1;else if("boolean"!=typeof b)throw TypeError("Expected allowSync to be a Boolean, got "+C(b));return d(void 0)},q=function(a,b){function c(){var c,f,g,h,i;for(f=e,g=a-1;g>=0;--g)i=null!=(c=arguments[g])?c:d,h=f.get(i),null==h&&(h=0===g?b.apply(this,arguments):L(),f.set(i,h)),f=h;return f}var d,e,f;return e=L(),d={},f=c(),f.generic=c,f},r=function(){function a(){return!0}function b(a){return"string"==typeof a}function c(a){return"number"==typeof a}function d(a){return"function"==typeof a}function e(a){return"boolean"==typeof a}return function(f){if(null==f)return a;switch(f){case String:return b;case Number:return c;case Function:return d;case Boolean:return e;case Array:return t;case Object:return u;default:return function(a){return a instanceof f}}}}(),s="function"==typeof Array.prototype.indexOf?function(){var a;return a=Array.prototype.indexOf,function(b,c){return-1!==a.call(c,b)}}():function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},t="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),u=function(a){return"object"==typeof a&&null!==a},v=function(a){if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+C(a));return a.displayName||a.name||""},w=Object.prototype.hasOwnProperty,x=function(a,b){var c;if(null==b)b=!1;else if("boolean"!=typeof b)throw TypeError("Expected allowSync to be a Boolean, got "+C(b));return"function"==typeof a?(c=function(){return p(a.apply(this,arguments))},c.sync=function(){return p(a.apply(this,arguments),!0).sync()},c):p(a,b)},y=Array.prototype.slice,z=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw TypeError("Expected a string or number, got "+C(a))},A=function(a){if(null==a)throw TypeError("Expected an object, got "+C(a));if(t(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return y.call(a);throw TypeError("Expected an object with a length property, got "+C(a))},B=function(a,b,c){var d;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+C(a));return d=o(),a.apply(b,A(c).concat([function(a,b){null!=a?d.reject(a):d.fulfill(b)}])),d.promise},C=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),K="function"==typeof a.setImmediate?a.setImmediate:"undefined"!=typeof process&&"function"==typeof process.nextTick?function(){var a;return a=process.nextTick,function(b){var c;if("function"!=typeof b)throw TypeError("Expected func to be a Function, got "+C(b));return c=y.call(arguments,1),c.length?a(function(){b.apply(void 0,A(c))}):a(b)}}():function(a){var b;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+C(a));return b=y.call(arguments,1),b.length?setTimeout(function(){a.apply(void 0,A(b))},0):setTimeout(a,0)},L="function"==typeof a.WeakMap?a.WeakMap:L=function(){function a(){var b;return b=this instanceof a?this:n(e),b._keys=[],b._values=[],b._chilly=[],b._uid=c(),b}function b(){return Math.random().toString(36).slice(2)}function c(){return z(b())+"-"+z((new Date).getTime())+"-"+z(b())+"-"+z(b())}function d(a){var b,c;c=this._uid,w.call(a,c)&&(b=this._chilly,-1===b.indexOf(a)&&(b.push(a),this._keys.push(a),this._values.push(a[c])))}var e,f,g;return e=a.prototype,a.displayName="WeakMap",g=Object.isExtensible||function(){return!0},e.get=function(a){var b,c;if(Object(a)!==a)throw TypeError("Invalid value used as weak map key");return g(a)?w.call(a,b=this._uid)?a[b]:void 0:(d.call(this,a),c=this._keys.indexOf(a),-1===c?void 0:this._values[c])},e.has=function(a){if(Object(a)!==a)throw TypeError("Invalid value used as weak map key");return g(a)?w.call(a,this._uid):(d.call(this,a),-1!==this._keys.indexOf(a))},f="function"==typeof Object.defineProperty?Object.defineProperty:function(a,b,c){a[b]=c.value},e.set=function(a,b){var c,e;if(Object(a)!==a)throw TypeError("Invalid value used as weak map key");g(a)?f(a,this._uid,{configurable:!0,writable:!0,enumerable:!1,value:b}):(d.call(this,a),e=this._keys,c=e.indexOf(a),-1===c&&(c=e.length,e[c]=a),this._values[c]=b)},e["delete"]=function(a){var b,c;if(Object(a)!==a)throw TypeError("Invalid value used as weak map key");g(a)?delete a[this._uid]:(d.call(this,a),c=this._keys,b=c.indexOf(a),-1!==b&&(c.splice(b,1),this._values.splice(b,1)))},a}(),null!=(D=b("util"))&&(G=D.inspect),J=b("path"),F=b("fs"),E=q(2,function(a,b){var c;return c=r(b),function(){function d(){var a;return a=this instanceof d?this:n(e),a.weakmap=L(),a}var e;return e=d.prototype,d.displayName="Cache<"+(null!=a?v(a):"")+", "+(null!=b?v(b):"")+">",e.get=function(a){return this.weakmap.get(a)},e.getOrAdd=function(a,d){var e,f;if(f=this.weakmap,e=f.get(a),void 0===e){if(e=d(a),!c(e))throw Error("Expected factory result to be a "+v(b)+", got "+C(e));f.set(a,e)}return e},d}()}),H=function(){var a;return a={Object:!0,String:!0,Number:!0,Boolean:!0,Function:!0,Array:!0,Math:!0,JSON:!0,Date:!0,RegExp:!0,Error:!0,RangeError:!0,ReferenceError:!0,SyntaxError:!0,TypeError:!0,URIError:!0,escape:!0,unescape:!0,parseInt:!0,parseFloat:!0,isNaN:!0,isFinite:!0,decodeURI:!0,decodeURIComponent:!0,encodeURI:!0,encodeURIComponent:!0},function(b){return w.call(a,b)}}(),I=x(function(a,b,c){function d(){l=14}function e(d){for(;;)switch(l){case 0:null==b&&(b=511&~+process.umask()),m="",h=A(a.split(/[\/\\]/g)),i=0,j=h.length,++l;case 1:l=j>i?2:13;break;case 2:q=h[i],n=J.resolve(J.join(m,q)),l=c?3:4;break;case 3:p=F.existsSync(n),l=6;break;case 4:return++l,{done:!1,value:k(n)};case 5:p=d,++l;case 6:l=p?11:7;break;case 7:l=c?8:9;break;case 8:F.mkdirSync(n,b),l=11;break;case 9:return l=11,{done:!1,value:B(F.mkdir,F,[n,b])};case 10:throw Error("Unable to create directory '"+n+"' (Error code: "+o.code+")");case 11:m=n,++l;case 12:++i,l=1;break;case 13:++l;case 14:return{done:!0,value:void 0};default:throw Error("Unknown state: "+l)}}function f(a){if(!(l>=7&&9>=l))throw d(),a;o=a,l=10}function g(a){for(;;)try{return e(a)}catch(b){f(b)}}var h,i,j,g,l,e,f,m,n,o,p,q;return l=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),M=x(function(a,b,c,d){function e(){i=4}function f(){for(;;)switch(i){case 0:i=d?1:2;break;case 1:l(J.dirname(a)),F.writeFileSync(a,b,c),i=4;break;case 2:return++i,{done:!1,value:I(J.dirname(a))};case 3:return++i,{done:!1,value:B(F.writeFile,F,[a,b,c])};case 4:return{done:!0,value:void 0};default:throw Error("Unknown state: "+i)}}function g(a){throw e(),a}function h(a){try{return f(a)}catch(b){g(b)}}var h,i,f,g;return i=0,{close:e,iterator:function(){return this},next:function(){return h(void 0)},send:h,"throw":function(a){return g(a),h(void 0)}}}),c.stringRepeat=d,c.padLeft=e,c.padRight=f,c.Cache=E,c.quote=g,c.unique=h,c.getPackageVersion=j,c.isPrimordial=H,c.mkdirp=I,c.mkdirpSync=l,c.writeFileWithMkdirp=M,c.writeFileWithMkdirpSync=m}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b["./jsutils"]=function(){var a={exports:this},c=this;return function(){"use strict";var a,d,e,f,g,h,i,j,k,l,m;a=function(a,b){var c;if(null==a)throw TypeError("Expected parent to be an object, got "+j(a));if(c=a[b],"function"!=typeof c)throw Error("Trying to bind child '"+String(b)+"' which is not a function");return function(){return c.apply(a,arguments)}},d="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},e="function"==typeof Array.prototype.indexOf?function(){var a;return a=Array.prototype.indexOf,function(b,c){return-1!==a.call(c,b)}}():function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},f="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),g=Object.prototype.hasOwnProperty,h=Array.prototype.slice,i=function(a){if(null==a)throw TypeError("Expected an object, got "+j(a));if(f(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return h.call(a);throw TypeError("Expected an object with a length property, got "+j(a))},j=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),l=b("./utils").padLeft,k=function(){var a,b,c;return a=/^[a-zA-Z_\$][a-zA-Z_\$0-9]*$/,b=/^[a-zA-Z_\$\u00a0-\uffff][a-zA-Z_\$0-9\u00a0-\uffff]*$/,c=["arguments","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","export","extends","eval","false","finally","for","function","if","implements","import","in","Infinity","instanceof","interface","let","NaN","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","undefined","var","void","while","with","yield"],function(d,f){var g;return null==f&&(f=!1),g=f?b:a,g.test(d)&&!e(d,c)}}(),m=function(){function b(a,b,c){var d;for(null==c&&(c="  "),d=0;b>d;++d)a(c)}function c(a){var b;return b=d(a),b.indent=+a.indent+1,b}function e(a){var b,c,d;if(null==a)return!1;if(a instanceof RegExp)return e(a.source);if(a instanceof Date)return!1;if(f(a))switch(a.length){case 0:return!1;case 1:return e(a[0]);default:return!0}else switch(typeof a){case"string":return a.length>=h;case"number":case"boolean":return!1;case"object":b=-1;for(c in a)if(g.call(a,c)&&(++b,d=a[c],b>=1||e(c)||e(d)))return!0;return!1;default:return!0}}var h,n,o;return h=50,n=7,o={"null":function(a,b){b("null")},undefined:function(a,b){b("void 0")},number:function(a,b){b(0===a?0>1/a?"-0":"0":isFinite(a)?String(a):a!==a?"0/0":a>0?"1/0":"-1/0")},regexp:function(a,b){b("/"),b(a.source.replace(/(\\\\)*\\?\//g,"$1\\/")||"(?:)"),b("/"),a.global&&b("g"),a.ignoreCase&&b("i"),a.multiline&&b("m")},string:function(){function a(a){switch(a){case"\b":return"\\b";case"	":return"\\t";case"\n":return"\\n";case"\f":return"\\f";case"\r":return"\\r";case"\n":return"\\n";case'"':return'\\"';case"'":return"\\'";case"\\":return"\\\\";default:return"\\u"+l(a.charCodeAt(0).toString(16),4,"0")}}function b(b){return'"'+b.replace(e,a)+'"'}function c(b){return"'"+b.replace(f,a)+"'"}function d(a,b){return a.length<=b.length?a:b}var e,f;return e=/[\u0000-\u001f"\\\u0080-\uffff]/g,f=/[\u0000-\u001f'\\\u0080-\uffff]/g,function(a,e){return e(-1===a.indexOf('"')?b(a):-1===a.indexOf("'")?c(a):d(b(a),c(a)))}}(),"boolean":function(a,b){return b(a?"true":"false")},date:function(a,b){return b("new Date("),b(String(a.getTime())),b(")")},array:function(a,d,f){var g,h,j,k,l,o,p;if(k="indent"in f,0===a.length)return d("[]");if(k&&a.length>1&&(a.length>=n||function(){var b,c,d,f,g;for(f=!1,b=i(a),c=0,d=b.length;d>c;++c)if(g=b[c],e(g)){f=!0;break}return f}())){for(d("[\n"),j=c(f),g=i(a),l=0,p=g.length;p>l;++l)o=g[l],b(d,j.indent),m(o,d,j),p-1>l&&d(","),d("\n");return b(d,f.indent),d("]")}for(d("["),g=i(a),l=0,h=g.length;h>l;++l)o=g[l],l>0&&(d(","),k&&d(" ")),m(o,d,f);return d("]")},object:function(){function a(a,b,c){var d;k(a)?b(a):(d=Number(a),d===d&&String(d)===a?b(a):m(a,b,c))}return function(d,f,h){var j,k,l,o,p,q,r,s,t,u;j=[];for(r in d)g.call(d,r)&&(u=d[r],j.push({key:r,value:u}));if(t=j,p="indent"in h,0===t.length)return f("{}");if(p&&t.length>1&&(t.length>=n||function(){var a,b,c,d,f,g,h;for(f=!1,a=i(t),b=0,c=a.length;c>b;++b)if(d=a[b],g=d.key,h=d.value,e(g)||e(h)){f=!0;break}return f}())){for(f("{\n"),o=c(h),q=0,s=t.length;s>q;++q)l=t[q],r=l.key,u=l.value,b(f,o.indent),a(r,f,o),f(": "),m(u,f,o),s-1>q&&f(","),f("\n");return b(f,h.indent),f("}")}for(f("{"),q=0,k=t.length;k>q;++q)l=t[q],r=l.key,u=l.value,q>0&&(f(","),p&&f(" ")),a(r,f,h),f(":"),p&&f(" "),m(u,f,h);return f("}")}}()},function(b,c,d){var e,h,i;if(null==c&&(c=null),null==d&&(d={}),null==c)return h=[],m(b,a(h,"push"),d),h.join("");if(null===b)o["null"](b,c,d);else if(f(b))o.array(b,c,d);else if(b instanceof RegExp)o.regexp(b,c,d);else if(b instanceof Date)o.date(b,c,d);else{if(g.call(o,e=typeof b)&&(i=o[e]),"function"!=typeof i)throw Error("Cannot convert "+j(b)+" to JS source");i(b,c,d)}}}(),c.toJSSource=m,c.isAcceptableIdent=k}.call(this),a.exports},b["./types"]=function(){var a={exports:this};return function(){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n;c=function(a,b){var c;if(a===b)return 0;if(c=typeof a,"number"!==c&&"string"!==c)throw TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>a?-1:1},d="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},e="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),f=function(a){if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+k(a));return a.displayName||a.name||""},g=Object.prototype.hasOwnProperty,h=Array.prototype.slice,i=function(a){throw a},j=function(a){if(null==a)throw TypeError("Expected an object, got "+k(a));if(e(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return h.call(a);throw TypeError("Expected an object with a length property, got "+k(a))},k=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),n=b("util"),null!=n&&(l=n.inspect),a.exports=m=function(){function a(){var b;throw b=this instanceof a?this:d(v),TypeError("Type should not be instantiated")}function b(a,b){var c,d,e;for(c=j(a),d=c.length;d--;)if(e=c[d],e.equals(b))return!0;return!1}function e(a,b){var c,d,e,f,g,h,i,j;if(a===b)return a;for(j=[],d=a.length,f=b.length,h=0,i=0;d>h&&f>i;)c=a[h],e=b[i],g=c.compare(e),0===g?(j.push(c),++h,++i):0>g?(j.push(c),++h):(j.push(e),++i);for(;d>h;++h)j.push(a[h]);for(;f>i;++i)j.push(b[i]);switch(j.length){case d:return a;case f:return b;default:return j}}function m(a,b){var c,d,e,f,g,h,i,j;if(a===b)return a;for(d=a.length,f=b.length,j=[],h=0,i=0;d>h&&f>i;)c=a[h],e=b[i],g=c.compare(e),0===g?(j.push(c),++h,++i):0>g?++h:++i;switch(j.length){case d:return a;case f:return b;default:return j}}function n(a,b){var c,d,e,f,g,h,i;if(a===b)return[];if(i=[],d=a.length,0===d)return i;if(e=b.length,0===e)return a;for(g=0,h=0;d>g&&e>h;)c=a[g],f=c.compare(b[h]),0===f?(++g,++h):0>f?(i.push(c),++g):++h;for(;d>g;++g)i.push(a[g]);return i.length===d?a:i}function o(a,b){var c,d,e,f;if(a===b)return!0;if(c=a.length,0===c)return!0;if(d=b.length,c>d)return!1;for(e=0,f=0;d>f;)if(a[e].equals(b[f])){if(++e,e>=c)return!0;++f}else++f;return!1}function p(a,b){var c,d,e,f,g;if(c=a.length,a===b&&c>0)return!0;for(d=b.length,f=0,g=0;c>f&&d>g;){if(e=a[f].compare(b[g]),0===e)return!0;0>e?++f:++g}return!1}function q(a,b){var d,e,f;if(a!==b){if(f=a.length,d=c(f,b.length))return d;for(e=0;f>e;++e)if(d=a[e].compare(b[e]))return d}return 0}function r(a,b){var c,d;if(a!==b){if(d=a.length,d!==b.length)return!1;for(c=0;d>c;++c)if(!a[c].equals(b[c]))return!1}return!0}function s(a,b){return a.compare(b)}function t(a,b){switch(a.length){case 0:return E;case 1:return a[0];default:return b&&a.sort(s),I(a)}}function u(a){var b;if("string"==typeof a)return u({type:"simple",name:a});if(b=a.type,"string"!=typeof b)throw TypeError("Unspecified type");if(g.call(A,b))return A[b](a);throw TypeError("Unknown serialization type: "+b)}var v,w,x,y,z,A,B,C,D,E,F,G,H,I;return v=a.prototype,a.displayName="Type",v.isSubsetOf=function(){throw Error("Not implemented: "+f(this.constructor)+".isSubsetOf()")},v.isSupersetOf=function(a){return a.isSubsetOf(this)},v.overlaps=function(){throw Error("Not implemented: "+f(this.constructor)+".overlaps()")},v.compare=function(){throw Error("Not implemented: "+f(this.constructor)+".compare()")},v.equals=function(){throw Error("Not implemented: "+f(this.constructor)+".equals()")},v.union=function(){throw Error("Not implemented: "+f(this.constructor)+".union()")},v.intersect=function(){throw Error("Not implemented: "+f(this.constructor)+".intersect()")},v.complement=function(){var a;return null==(a=this._complement)?this._complement=z(this):a},v.array=function(){var b;return null==(b=this._array)?this._array=a.generic(y,this):b},v["function"]=function(){var b,c;return c=h.call(arguments),null==(b=this._function)?this._function=a.generic.apply(a,[B,this].concat(j(c))):b},A={},a.fromJSON=u,D=function(){var a;return a=-1,function(){return++a,a}}(),H=function(a){function b(a){var c;return c=this instanceof b?this:d(e),c.name=a,c.id=D(),c}var e,f;return f=a.prototype,e=b.prototype=d(f),e.constructor=b,b.displayName="SimpleType","function"==typeof a.extended&&a.extended(b),e.toString=function(){return this.name},e.equals=function(a){return this===a},e.compare=function(a){return this===a?0:a instanceof b?c(this.name,a.name)||c(this.id,a.id):c("SimpleType",a.constructor.displayName)},e.union=function(a){return a instanceof b?this===a?this:t([this,a],!0):a.union(this)},e.intersect=function(a){return a instanceof b?this===a?this:E:a.intersect(this)},e.isSubsetOf=function(a){var c,d,e,f;if(a instanceof b)return this===a;if(a instanceof I){for(e=!1,c=j(a.types),d=c.length;d--;)if(f=c[d],this===f){e=!0;break}return e}return a instanceof z?!this.isSubsetOf(a.untype):a===w},e.overlaps=function(a){return a instanceof b?this===a:a.overlaps(this)},e.inspect=function(){var b;return b=this,function(){var c,d,e;c=!0;for(d in a)if(g.call(a,d)&&(c=!1,e=a[d],e===b))return"Type."+d;return"Type.make("+l(b.name)+")"}()},e.toJSON=function(){var b;return b=this,function(){var c,d,e;c=!0;for(d in a)if(g.call(a,d)&&(c=!1,e=a[d],e===b))return d;throw Error("Cannot serialize custom type: "+String(b))}()},A.simple=function(b){var c;return c=b.name,g.call(a,c)&&a[c]||i(Error("Unknown type: "+String(c)))},b}(a),a.make=function(a){return H(a)},C=function(a){function b(a,c){var e,g;if(g=this instanceof b?this:d(f),g.base=a,0===c.length)throw Error("Must provide at least one generic type argument");if(g.id=D(),g.args=c.slice(),g.base===y&&1===c.length){if(null!=(e=c[0]._array))return e;c[0]._array=g}else if(g.base===B&&1===c.length){if(null!=(e=c[0]._function))return e;c[0]._function=g}return g}function e(a,b){return a.id>b.id?e(b,a):(b.base=a.base,b.args=a.args,b.id=a.id,void 0)}var f,h;return h=a.prototype,f=b.prototype=d(h),f.constructor=b,b.displayName="GenericType","function"==typeof a.extended&&a.extended(b),f.toString=function(){var a,b,c,d,e,f;if(null==(c=this._name)){if(this.base===y&&1===this.args.length)return this._name=this.args[0]===w?"[]":"["+String(this.args[0])+"]";if(this.base===B&&1===this.args.length)return this._name=this.args[0]===w?"->":"-> "+String(this.args[0]);for(f=[],f.push(String(this.base)),f.push("<"),a=j(this.args),e=0,b=a.length;b>e;++e)d=a[e],e>0&&(f.push(","),d!==w&&this.args[e-1]!==w&&f.push(" ")),d!==w&&f.push(String(d));return f.push(">"),this._name=f.join("")}return c},f.equals=function(a){return a===this?!0:a instanceof b?this.id===a.id?!0:this.base===a.base&&r(this.args,a.args)?(e(this,a),!0):!1:!1},f.compare=function(a){var d,f;return a===this?0:a instanceof b?this.id===a.id?0:(d=this.base.compare(a.base))?d:(f=q(this.args,a.args),f||e(this,a),f):c("GenericType",a.constructor.displayName)},f.union=function(a){return a instanceof b?this.equals(a)?this:this.isSubsetOf(a)?a:a.isSubsetOf(this)?this:t([this,a],!0):a instanceof H?t([this,a],!0):a.union(this)},f.intersect=function(a){var c,d,e,f,g,h,i,j,k,l;if(a instanceof b){if(this.base!==a.base)return E;if(this.equals(a))return this;if(d=this.args,l=a.args,h=d.length,h!==l.length)return E;for(g=!0,f=!0,j=[],e=0;h>e;++e)c=d[e],k=l[e],i=d[e].intersect(l[e]),g&&c!==i&&(g=!1),f&&k!==i&&(f=!1),j.push(i);return g?this:f?a:b(this.base,j)}return a instanceof H?E:a.intersect(this)},f.isSubsetOf=function(a){var c,d,e,f,g,h,i,k;if(a instanceof b){if(this.base!==a.base)return!1;if(this.equals(a))return!0;if(f=this.args,i=a.args,h=f.length,h!==i.length)return!1;for(g=0;h>g;++g)if(!f[g].isSubsetOf(i[g]))return!1;return!0}if(a instanceof I){for(e=!1,c=j(a.types),d=c.length;d--;)if(k=c[d],this.isSubsetOf(k)){e=!0;break}return e}return a instanceof z?!this.isSubsetOf(a.untype):a===w},f.overlaps=function(a){return a instanceof b?this.base!==a.base?!1:this.args.length===a.args.length:a instanceof H?!1:a.overlaps(this)},f.inspect=function(a){var b,c,d,e,f;for(null!=a&&--a,f=["Type.generic("],f.push(l(this.base,null,a)),b=j(this.args),c=0,d=b.length;d>c;++c)e=b[c],f.push(", "),f.push(l(e,null,a));return f.push(")"),f.join("")},f.toJSON=function(){var b;return b=this,function(){var c,d,e;c=!0;for(d in a)if(g.call(a,d)&&(c=!1,e=a[d],e===b))return d;return{type:"generic",base:b.base,args:b.args}}()},A.generic=function(c){var d,e,f;return e=c.base,d=c.args,f=a.fromJSON(e),f===y&&1===d.length?a.fromJSON(d[0]).array():f===B&&1===d.length?a.fromJSON(d[0])["function"]():b(f,function(){var b,c,e,f,g;for(b=[],c=j(d),e=0,f=c.length;f>e;++e)g=c[e],b.push(a.fromJSON(g));return b}())},b}(a),a.generic=function(b){var c;return c=h.call(arguments,1),C("string"==typeof b?a.make(b):b,c)},G=function(a){function b(e){var h,i,j,l;h=this instanceof b?this:d(f),j=[];for(i in e)if(g.call(e,i)){if(l=e[i],!(l instanceof a))throw TypeError("Expected data["+JSON.stringify(i)+"] to be a Type, got "+k(l));l!==w&&j.push([i,l])}return j.sort(function(a,b){return c(a[0],b[0])}),0===j.length&&null!=a.object?a.object:(h.pairs=j,h.id=D(),h)}function e(a,b){return a.id>b.id?e(b,a):(b.pairs=a.pairs,b.id=a.id,void 0)}var f,h;return h=a.prototype,f=b.prototype=d(h),f.constructor=b,b.displayName="ObjectType","function"==typeof a.extended&&a.extended(b),f.toString=function(){var a,b;return b=this,null==(a=this._name)?this._name="{"+function(){var a,c,d,e,f,g,h;for(a=[],c=j(b.pairs),d=0,e=c.length;e>d;++d)f=c[d],g=f[0],h=f[1],a.push(g+": "+String(h));return a}().join(", ")+"}":a},f.equals=function(a){var c,d,f,g,h,i,k;if(a===this)return!0;if(a instanceof b){if(k=this.pairs,h=a.pairs,k===h)return!0;if(k.length!==h.length)return!1;for(c=j(k),f=0,d=c.length;d>f;++f)if(i=c[f],g=h[f],i[0]!==g[0]||!i[1].equals(g[1]))return!1;return e(this,a),!0}return!1},f.compare=function(a){var d,f,g,h,i,k,l,m;if(this===a)return 0;if(a instanceof b){if(m=this.pairs,k=a.pairs,m===k)return 0;if(g=c(m.length,k.length))return g;for(d=j(m),h=0,f=d.length;f>h;++h)if(l=d[h],i=k[h],g=c(l[0],i[0])||l[1].compare(i[1]))return g;return e(this,a),0}return c("ObjectType",a.constructor.displayName)},f.union=function(a){return a instanceof b?this.equals(a)?this:this.isSubsetOf(a)?a:a.isSubsetOf(this)?this:t([this,a],!0):a instanceof H||a instanceof C?t([this,a],!0):a.union(this)},f.intersect=function(a){var c,d,e,f,h,i,k;if(a instanceof b){if(this.equals(a))return this;if(this.isSubsetOf(a))return this;if(a.isSubsetOf(this))return a;for(i={},c=j(this.pairs),d=0,e=c.length;e>d;++d)f=c[d],h=f[0],k=f[1],i[h]=k;for(c=j(a.pairs),d=0,e=c.length;e>d;++d)f=c[d],h=f[0],k=f[1],i[h]=g.call(i,h)?i[h].intersect(k):k;return b(i)}return a instanceof H||a instanceof C?E:a.intersect(this)},f.isSubsetOf=function(c){var d,f,g,h,i,k,l,m,n,o,p,q,r;if(c instanceof b){if(this===c||c===a.object)return!0;if(this===a.object)return!1;if(q=this.pairs,n=c.pairs,q===c.pairs)return!0;for(k=0,l=q.length,d=j(n),f=0,g=d.length;g>f;++f)for(h=d[f],m=h[0],o=h[1];l>=k;++k){if(k===l)return!1;if(p=q[k],p[0]===m){if(p[1].isSubsetOf(o)){++k;break}return!1}if(p[0]>m)return!1}return k===l&&e(this,c),!0}if(c instanceof I){for(i=!1,d=j(c.types),f=d.length;f--;)if(r=d[f],this.isSubsetOf(r)){i=!0;break}return i}return c instanceof z?!this.isSubsetOf(c.untype):c===w},f.overlaps=function(a){return a instanceof b?!0:a instanceof H||a instanceof C?!1:a.overlaps(this)},f.value=function(b){var c,d,e,f;for(c=j(this.pairs),d=c.length;d--;){if(e=c[d],f=e[0],f===b)return e[1];if(b>f)return a.any}return a.any},f.inspect=function(b){var c,d,e,f,g,h,i;if(this===a.object)return"Type.object";for(h={},c=j(this.pairs),d=0,e=c.length;e>d;++d)f=c[d],g=f[0],i=f[1],h[g]=i;return"Type.makeObject("+l(h,null,null!=b?b-1:null)+")"},f.toJSON=function(){var a,b,c,d,e,f,g;if(0===this.pairs.length)return"object";for(f={},a=j(this.pairs),b=0,c=a.length;c>b;++b)d=a[b],e=d[0],g=d[1],f[e]=g;return{type:"object",pairs:f}},A.object=function(c){var d,e,f,h;f=c.pairs,d={};for(e in f)g.call(f,e)&&(h=f[e],d[e]=a.fromJSON(h));return b(d)},b}(a),a.makeObject=function(a){return G(a)},I=function(a){function f(a){var b;if(b=this instanceof f?this:d(k),b.types=a,a.length<=1)throw Error("Must provide at least 2 types to UnionType");return b.id=D(),b}function h(a,b){return a.id>b.id?h(b,a):(b.types=a.types,b.id=a.id)}var i,k;return i=a.prototype,k=f.prototype=d(i),k.constructor=f,f.displayName="UnionType","function"==typeof a.extended&&a.extended(f),k.toString=function(){var a;return null==(a=this._name)?this._name="("+this.types.join("|")+")":a},k.equals=function(a){return a===this?!0:a instanceof f?this.id===a.id?!0:this.types===a.types||r(this.types,a.types)?(h(this,a),!0):!1:!1},k.compare=function(a){var b;return a===this?0:a instanceof f?this.id===a.id?0:this.types===a.types?(h(this,a),0):(b=q(this.types,a.types),0===b&&h(this,a),b):c("UnionType",a.constructor.displayName)},k.union=function(b){var c,d,g,h,i,k;if(b instanceof H||b instanceof C)return k=e(this.types,[b]),k===this.types?this:t(k);if(b instanceof G){if(b===a.object){for(h=[b],c=j(this.types),d=0,g=c.length;g>d;++d)if(i=c[d],i instanceof G){if(i===a.object)return this}else h.push(i);return t(h)}for(h=[b],c=j(this.types),d=0,g=c.length;g>d;++d)if(i=c[d],i instanceof G){if(b.isSubsetOf(i))return this;i.isSubsetOf(b)||h.push(i)}else h.push(i);return t(h)}return b instanceof f?(k=e(this.types,b.types),k===this.types?this:k===b.types?b:t(k)):b.union(this)},k.intersect=function(a){var b;return a instanceof H||a instanceof C||a instanceof G?t(m(this.types,[a])):a instanceof f?(b=m(this.types,a.types),b===this.types?this:b===a.types?a:t(b)):a.intersect(this)},k.isSubsetOf=function(a){return a instanceof f?o(this.types,a.types):a instanceof z?!this.overlaps(a.untype):a===w},k.overlaps=function(a){var c,d,e,g;if(a instanceof H)return b(this.types,a);if(a instanceof C||a instanceof G){for(e=!1,c=j(this.types),d=c.length;d--;)if(g=c[d],g.overlaps(a)){e=!0;break}return e}return a instanceof f?p(this.types,a.types):a.overlaps(this)},k.inspect=function(a){var b;return b=this,"("+function(){var c,d,e,f,g;for(c=[],d=j(b.types),e=0,f=d.length;f>e;++e)g=d[e],c.push(l(g,null,null!=a?a-1:null));return c}().join(").union(")+")"},k.toJSON=function(){var b;return b=this,function(){var c,d,e;c=!0;for(d in a)if(g.call(a,d)&&(c=!1,e=a[d],e===b))return d;return{type:"union",types:b.types}}()},A.union=function(b){var c,d,e,f,g;for(g=b.types,e=a.none,c=j(g),d=c.length;d--;)f=c[d],e=e.union(a.fromJSON(f));return e},f}(a),z=function(a){function e(a){var b;return b=this instanceof e?this:d(i),b.untype=a,b.id=D(),b}function f(a,b){return a.id>b.id?f(b,a):(b.id=a.id,b.untype=a.untype)}function h(a){return a instanceof I?a.types:[a]}var i,j;return j=a.prototype,i=e.prototype=d(j),i.constructor=e,e.displayName="ComplementType","function"==typeof a.extended&&a.extended(e),i.toString=function(){var a;return null==(a=this._name)?this._name="any \\ "+String(this.untype):a},i.equals=function(a){return this===a?!0:a instanceof e?this.id===a.id?!0:this.untype.equals(a.untype)?(f(this,a),!0):!1:!1},i.compare=function(a){var b;return this===a?0:a instanceof e?this.id===a.id?0:(b=this.untype.compare(a.untype),0===b&&f(this,a),b):c("ComplementType",a.constructor.displayName)},i.union=function(a){var b,c;return a instanceof H||a instanceof C||a instanceof G?(b=h(this.untype),c=n(b,[a]),c===b?this:t(c).complement()):a instanceof I?(b=h(this.untype),c=n(b,a.types),c===b?this:t(c).complement()):a instanceof e?this.untype.intersect(a.untype).complement():a.union(this)},i.intersect=function(a){var c;return a instanceof H||a instanceof C||a instanceof G?b(h(this.untype),a)?E:a:a instanceof I?(c=n(a.types,h(this.untype)),c===a.types?a:t(c)):a instanceof e?this.untype.union(a.untype).complement():a.intersect(this)},i.isSubsetOf=function(a){return a instanceof e?a.untype.isSubsetOf(this.untype):a===w},i.overlaps=function(a){var b,c,d,f;if(a instanceof H||a instanceof C)return!this.untype.overlaps(a);if(a instanceof G){for(c=!0,b=h(this.untype),d=b.length;d--;)if(f=b[d],f instanceof G&&a.isSubsetOf(f)){c=!1;break}return c}return a instanceof I?n(a.types,h(this.untype)).length>0:a instanceof e?!0:a.overlaps(this)},i.complement=function(){return this.untype},i.inspect=function(a){return this.untype.inspect(a)+".complement()"},i.toJSON=function(){var b;return b=this,function(){var c,d,e;c=!0;for(d in a)if(g.call(a,d)&&(c=!1,e=a[d],e===b))return d;return{type:"complement",untype:b.complement()}}()},A.complement=function(b){var c;return c=b.untype,a.fromJSON(c).complement()},e}(a),w=a.any=new(x=function(a){function b(){var a;if(a=this instanceof b?this:d(e),w)throw Error("Cannot instantiate more than once");return a}var e,f;return f=a.prototype,e=b.prototype=d(f),e.constructor=b,b.displayName="AnyType","function"==typeof a.extended&&a.extended(b),e.toString=function(){return"any"
},e.equals=function(a){return this===a},e.compare=function(a){return this===a?0:c("AnyType",a.constructor.displayName)},e.union=function(){return this},e.intersect=function(a){return a},e.isSubsetOf=function(a){return this===a},e.overlaps=function(){return!0},e.complement=function(){return E},e.inspect=function(){return"Type.any"},e.toJSON=function(){return"any"},A.any=function(){return w},b}(a)),E=a.none=new(F=function(a){function b(){var a;if(a=this instanceof b?this:d(e),E)throw Error("Cannot instantiate more than once");return a}var e,f;return f=a.prototype,e=b.prototype=d(f),e.constructor=b,b.displayName="NoneType","function"==typeof a.extended&&a.extended(b),e.toString=function(){return"none"},e.equals=function(a){return this===a},e.compare=function(a){return this===a?0:c("NoneType",a.constructor.displayName)},e.union=function(a){return a},e.intersect=function(){return this},e.isSubsetOf=function(){return!0},e.overlaps=function(){return!1},e.complement=function(){return w},e.inspect=function(){return"Type.none"},e.toJSON=function(){return"none"},A.none=function(){return E},b}(a)),y=a.arrayBase=a.make("Array"),B=a.functionBase=a.make("Function"),a.undefined=a.make("undefined"),a["null"]=a.make("null"),a.boolean=a.make("Boolean"),a.string=a.make("String"),a.stringArray=a.string.array(),a.number=a.make("Number"),a.numberArray=a.number.array(),a.array=w.array(),a.args=a.make("Arguments"),a.object=a.makeObject({}),a["function"]=w["function"](),a.regexp=a.make("RegExp"),a.date=a.make("Date"),a.error=a.make("Error"),a.promise=a.makeObject({then:a.any["function"](a["function"],a["function"])}),a.numeric=a.number.union(a.undefined).union(a["null"]).union(a.boolean),a.stringOrNumber=a.string.union(a.number),a.arrayLike=a.array.union(a.args),a.undefinedOrNull=a.undefined.union(a["null"]),a.notUndefinedOrNull=a.undefinedOrNull.complement(),a.primitive=a.undefinedOrNull.union(a.boolean).union(a.string).union(a.number),a.nonPrimitive=a.primitive.complement(),a.alwaysFalsy=a.undefinedOrNull,a.potentiallyTruthy=a.alwaysFalsy.complement(),a.potentiallyFalsy=a.alwaysFalsy.union(a.number).union(a.string).union(a.boolean),a.alwaysTruthy=a.potentiallyFalsy.complement(),a}()}.call(this),a.exports},b["./jsast"]=function(){var a={exports:this},c=this;return function(){"use strict";function a(a){var b;return b=t(a),++b.indent,b}function d(a){function b(c){var d,e,f;f=String(c),e=f.split(/(?:\r\n?|[\n\u2028\u2029])/g),1===e.length?b.column-=-e[0].length:(d=e.length,b.line-=+d+1,b.column=+e[d-1].length+1),a(f)}return b.line=1,b.column=1,b.indent=function(c){a(W(c)),b.column-=-c},b}function e(a){var b;return b=d(a)}function f(){var a,b;return a=[],b=d(function(b){a.push(b)}),b.toString=function(){var b;switch(a.length){case 0:return"";case 1:return a[0];default:return b=a.join(""),a.splice(0,a.length,b),b}},b}function g(a,b,c){var d;if(null==c&&(c=void 0),d={line:a,column:b},c){if("string"!=typeof c)throw TypeError("Must provide a valid string for file");d.file=c}return d}function h(a,b){var c,d,e,f,g,h,i;for(f=!1,c=[],d=0,e=a.length;e>d;++d)g=a[d],h=b(g),null==h&&(h=g.walk(b)),g!==h&&(f=!0),c.push(h);return i=c,f?i:a}function i(a){return null!=a?a-1:null}function j(a,b){var c,d,e,f,g,h,j,k,l,m,n;for(h=z.call(arguments,3),j=i(a),k=!1,d=h.length;d--&&(g=h[d],!g||g instanceof cb||w(g)&&0===g.length);)h.pop();for(c=[],d=0,e=h.length;e>d;++d)g=h[d],c.push(_(g,null,j));for(n=c,f=!1,d=0,e=n.length;e>d;++d)if(m=n[d],n.length>50||-1!==m.indexOf("\n")){f=!0;break}if(l=f){for(c=[],d=0,e=n.length;e>d;++d)m=n[d],c.push("  "+m.split("\n").join("\n  "));return n=c,b+"(\n"+n.join(",\n")+")"}return b+"("+n.join(", ")+")"}function k(a,b,c){var d,e,f,g,h;if(null==c&&(c=!1),0===a.length)return a;for(h=[],g=-1,e=0,d=a.length;d>e;++e)f=a[e],g=f instanceof cb?e:-1,h.push(l(f,b));return c||-1===g||h.splice(g,1/0),h}function l(a,b){return w(a)?k(a):a instanceof cb?b:a}function m(a,b){if(b instanceof bb)throw Error("Cannot convert "+B(b)+" to a Const");return b instanceof RegExp?fb(a,b.source,b.flags):M(a,b)}function n(a){return 0>a||0===a&&0>1/a}function o(a,b){var c,d,e,f,g;for(e=[],c=A(a),d=c.length;d--;){if(f=c[d],v(f.name,e))throw Error("Duplicate parameter: "+f.name);e.push(f.name)}for(c=A(b),d=c.length;d--;){if(g=c[d],v(g,e))throw Error("Duplicate variable: "+g);e.push(g)}}function p(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o;for(m=a.minify,g=A(c),h=0,i=g.length;i>h;++h)k=g[h],m||b.indent(a.indent),b(nb(k)),b(";"),f=!1,m||(b(a.linefeed||"\n"),f=!0);if(d.length>0){for(j=0,m||(b.indent(a.indent),j=4+2*a.indent),b("var "),g=A(d.sort(function(a,b){return s(a.toLowerCase(),b.toLowerCase())||s(a,b)})),l=0,i=g.length;i>l;++l)o=g[l],n=mb(d[l]),l>0&&(m?b(","):j+2+n.length<80?(b(", "),j+=2):(b(","),b(a.linefeed||"\n"),b.indent(a.indent),b("    "),j=4+2*a.indent)),b(n),j+=n.length;b(";"),f=!1,m||(b(a.linefeed||"\n"),f=!0)}e.isNoop()||(m||b.indent(a.indent),e.compileAsStatement(a,f,b),m||b(a.linefeed||"\n"))}function q(b,c,d,e,f,g,h){var i,j,k,l,m;for(c("function"),l=b.minify,l&&null==d||c(" "),null!=d&&d.compile(b,2,!1,c),c("("),i=A(e),k=0,j=i.length;j>k;++k)m=i[k],k>0&&(c(","),l||c(" ")),m.compile(b,2,!1,c);return c(")"),l||c(" "),c("{"),(g.length||f.length||!h.isNoop())&&(l||c(b.linefeed||"\n"),p(a(b),c,f,g,h,!l),l||c.indent(b.indent)),c("}")}function r(a){var b,c,d,e,f;if(null==a)return[];if(w(a)){for(b=[],c=A(a),d=0,e=c.length;e>d;++d)f=c[d],b.push(U(f));return b}throw Error("Expected an array, got "+B(a))}var s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb;s=function(a,b){var c;if(a===b)return 0;if(c=typeof a,"number"!==c&&"string"!==c)throw TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>a?-1:1},t="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},u=function(a,b){var c;for(c in b)y.call(b,c)&&(a[c]=b[c]);return a},v="function"==typeof Array.prototype.indexOf?function(){var a;return a=Array.prototype.indexOf,function(b,c){return-1!==a.call(c,b)}}():function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},w="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),x=function(a){if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+B(a));return a.displayName||a.name||""},y=Object.prototype.hasOwnProperty,z=Array.prototype.slice,A=function(a){if(null==a)throw TypeError("Expected an object, got "+B(a));if(w(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return z.call(a);throw TypeError("Expected an object with a length property, got "+B(a))},B=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),rb=b("util"),null!=rb&&(_=rb.inspect),eb=b("./utils").padLeft,C=b("./jsutils"),ab=C.isAcceptableIdent,nb=C.toJSSource,W=function(){var a;return a=[""],function(b){var c,d;if(b>=a.length)for(d=a[a.length-1],c=a.length;b>=c;++c)d+="  ",a.push(d);return a[b]}}(),c.Node=bb=function(){function a(){var c;throw c=this instanceof a?this:t(b),Error("Node cannot be instantiated directly")}var b;return b=a.prototype,a.displayName="Node",b.toString=function(a){var b;return null==a&&(a={}),b=f(),this.compileAsStatement(u({indent:0,bare:!0},a),!0,b),b.toString()},b.compile=function(){throw Error("Not implemented: "+x(this.constructor)+".compile()")},b.maybeToStatement=function(){return"function"==typeof this.toStatement?this.toStatement():this},b.isConst=function(){return!1},b.isNoop=function(){return!1},b.constValue=function(){throw Error(this.constructor.name+" has no const value")},b.isLarge=function(){return!0},b.isSmall=function(){return!this.isLarge()},b.mutateLast=function(){return this},b.exitType=function(){return null},b.last=function(){return this},b.toJSON=function(){return[this.constructor.name,this.pos.line,this.pos.column,this.pos.file||0].concat(A(this._toJSON()))},b._toJSON=function(){return[]},a}(),c.Expression=R=function(a){function b(){var a;throw a=this instanceof b?this:t(c),Error("Expression cannot be instantiated directly")}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Expression","function"==typeof a.extended&&a.extended(b),c.compileAsBlock=function(a,b,c,d){this.compile(a,b,c,d)},c.compileAsStatement=function(a,b,c){"function"==typeof this.toStatement?this.toStatement().compileAsStatement(a,b,c):(this.compile(a,1,b,c),c(";"))},c.isLarge=function(){return!1},c.mutateLast=function(a){return a(this)},b}(bb),c.Statement=ib=function(a){function b(){var a;throw a=this instanceof b?this:t(d),Error("Expression cannot be instantiated directly")}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Statement","function"==typeof a.extended&&a.extended(b),d.compileAsStatement=function(a,b,c){return this.compile(a,1,b,c)},b}(bb),c.Access=function(a,b){var c,d,e,f,g;for(f=z.call(arguments,2),g=b,c=0,d=f.length;d>c;++c)e=f[c],g=F(a,g,".",e);return g},c.Arguments=D=function(a){function b(a){var d;return d=this instanceof b?this:t(c),d.pos=a,d}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Arguments","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column,this.pos.file),d("arguments")},c.compileAsBlock=function(a,b,c,d){cb(this.pos).compileAsBlock(a,b,c,d)},c.walk=function(){return this},c.isNoop=function(){return!0},c.inspect=function(a){return j(a,"Arguments",this.pos)},b.fromJSON=function(a,c,d){return b(g(a,c,d))},b}(R),c.Arr=E=function(b){function c(a,b){var d;return d=this instanceof c?this:t(f),d.pos=a,null==b&&(b=[]),d.elements=b,d}function d(b,c,d,e,f){var g,h,i,j,k;for(h=a(c),g=A(b),i=0,k=g.length;k>i;++i)j=g[i],f(c.linefeed||"\n"),f.indent(h.indent),j.compile(h,3,!1,f),k-1>i&&f(",");f(c.linefeed||"\n"),f.indent(c.indent)}function e(a,b,c,d,e){var f,g,h,i;for(f=A(a),h=0,g=f.length;g>h;++h)i=f[h],h>0&&(e(","),b.minify||e(" ")),i.compile(b,3,!1,e)}var f,i;return i=b.prototype,f=c.prototype=t(i),f.constructor=c,c.displayName="Arr","function"==typeof b.extended&&b.extended(c),f.compile=function(a,b,c,f){var g,h;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(g=a.sourceMap)&&g.add(f.line,f.column,this.pos.line,this.pos.column),f("["),h=!a.minify&&this.shouldCompileLarge()?d:e,h(this.elements,a,b,c,f),f("]"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},f.compileAsBlock=function(a,b,c,d){return H(this.pos,this.elements).compileAsBlock(a,b,c,d)},f.compileAsStatement=function(a,b,c){I(this.pos,this.elements).compile(a,1,b,c)},f.shouldCompileLarge=function(){switch(this.elements.length){case 0:return!1;case 1:return this.elements[0].isLarge();default:return this.isLarge()}},f.isSmall=function(){switch(this.elements.length){case 0:return!0;case 1:return this.elements[0].isSmall();default:return!1}},f.isLarge=function(){var a,b;return b=this,null==(a=this._isLarge)?this._isLarge=this.elements.length>4||function(){var a,c,d,e;for(d=!1,a=A(b.elements),c=a.length;c--;)if(e=a[c],!e.isSmall()){d=!0;break}return d}():a},f.isNoop=function(){var a,b,c,d,e;if(null==(d=this._isNoop)){for(b=!0,a=A(this.elements),c=a.length;c--;)if(e=a[c],!e.isNoop()){b=!1;break}return this._isNoop=b}return d},f.walk=function(a){var b;return b=h(this.elements,a),this.elements!==b?c(this.pos,b):this},f.inspect=function(a){return j(a,"Arr",this.pos,this.elements)},f._toJSON=function(){return k(this.elements,0)},c.fromJSON=function(a,b,d){var e;return e=z.call(arguments,3),c(g(a,b,d),r(e))},c}(R),c.Assign=function(a,b,c){return F(a,b,"=",c)},c.BinaryChain=function(a,b){var c,d,e,f,g,h,i,j;if(f=z.call(arguments,2),"+"===b)for(h=f.length-2;h>=0;--h)i=f[h],j=f[h+1],("string"==typeof i||i instanceof M&&"string"==typeof i.value)&&("string"==typeof j||j instanceof M&&"string"==typeof j.value)&&f.splice(h,2,""+("string"==typeof i?i:i.value)+("string"==typeof j?j:j.value));for(g=f[0],c=1,d=f.length;d>c;++c)e=f[c],g=F(a,g,b,e);return g},c.And=function(a){var b,c,d,e;if(c=z.call(arguments,1),0===c.length)return M(a,!0);for(d=c[0],e=1,b=c.length;b>e;++e)d=F(a,d,"&&",c[e]);return d},c.Or=function(a){var b,c,d,e;if(c=z.call(arguments,1),0===c.length)return M(a,!1);for(d=c[0],e=1,b=c.length;b>e;++e)d=F(a,d,"||",c[e]);return d},c.Binary=F=function(a){function b(c,d,f,g){var h;if(h=this instanceof b?this:t(e),h.pos=c,null==d&&(d=cb(c)),h.op=f,null==g&&(g=cb(c)),!y.call(k,f))throw Error("Unknown binary operator: "+nb(f));return d instanceof a||(d=m(c,d)),g instanceof a||(g=m(c,g)),h.left=d,h.right=g,h}function c(a,b,c,d,e,f,g){var h,i,j;h=c instanceof M&&"string"==typeof c.value&&ab(c.value),j=e>18,j&&g("("),b instanceof M&&"number"==typeof b.value?(i=nb(b.value),n(b.value)||!isFinite(b.value)?(g("("),g(i),g(")")):(g(i),h&&-1===i.indexOf("e")&&-1===i.indexOf(".")&&g("."))):b.isConst()&&void 0===b.constValue()?(g("("),(b instanceof M?b:M(b.pos,void 0)).compile(d,2,!1,g),g(")")):b.compile(d,18,f,g),h?(g("."),g(c.value)):(g("["),c.compile(d,2,!1,g),g("]")),j&&g(")")}function d(a,c,d,e,f,g,h){var j,l,m,n;l=k[a],j=i[l],n="paren"===j?f>=l:f>l,n&&h("("),c.compile(e,"right"===j&&c instanceof b&&k[c.op]===l?+l+1:l,g&&!n,h),m=!e.minify||/^\w/.test(a),m&&h(" "),h(a),m&&h(" "),d.compile(e,"left"===j&&d instanceof b&&k[d.op]===l?+l+1:l,!1,h),n&&h(")")}var e,f,h,i,k;return f=a.prototype,e=b.prototype=t(f),e.constructor=b,b.displayName="Binary","function"==typeof a.extended&&a.extended(b),e.compile=function(a,b,e,f){var g,h;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(g=a.sourceMap)&&g.add(f.line,f.column,this.pos.line,this.pos.column),h="."===this.op?c:d,h(this.op,this.left,this.right,a,b,e,f),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},e.compileAsBlock=function(a,b,c,d){var e;y.call(h,this.op)||"."===(e=this.op)||"&&"===e||"||"===e?f.compileAsBlock.call(this,a,b,c,d):H(this.pos,[this.left,this.right]).compileAsBlock(a,b,c,d)},e.compileAsStatement=function(a,b,c){var d,e,g;d=this,e=this.left,g=this.op,y.call(h,g)?f.compileAsStatement.call(this,a,b,c):"&&"===this.op?$(this.pos,this.left,this.right).compileAsStatement(a,b,c):"||"===this.op?$(this.pos,qb(this.pos,"!",this.left),this.right).compileAsStatement(a,b,c):"."===g?f.compileAsStatement.call(this,a,b,c):I(this.pos,[this.left,this.right]).compileAsStatement(a,b,c)},h={"=":!0,"+=":!0,"-=":!0,"*=":!0,"/=":!0,"%=":!0,"<<=":!0,">>=":!0,">>>=":!0,"&=":!0,"^=":!0,"|=":!0},k={".":18,"*":15,"/":15,"%":15,"+":14,"-":14,"<<":13,">>":13,">>>":13,"<":12,"<=":12,">":12,">=":12,"in":12,"instanceof":12,"==":11,"!=":11,"===":11,"!==":11,"&":9,"^":10,"|":8,"&&":7,"||":6,"=":4,"+=":4,"-=":4,"*=":4,"/=":4,"%=":4,"<<=":4,">>=":4,">>>=":4,"&=":4,"^=":4,"|=":4},i={11:"paren",12:"paren",14:"left",15:"left",9:"none",8:"none",10:"none",13:"left",4:"right"},e.isLarge=function(){var a;return null==(a=this._isLarge)?this._isLarge=!this.left.isSmall()||!this.right.isSmall():a},e.isSmall=function(){var a;return null==(a=this._isSmall)?this._isSmall=this.left.isSmall()&&this.right.isSmall():a},e.isNoop=function(){var a;return null==(a=this._isNoop)?this._isNoop=!y.call(h,this.op)&&"."!==this.op&&this.left.isNoop()&&this.right.isNoop():a},e.walk=function(a){var c,d,e,f;return d=!1,e=null!=(c=a(this.left))?c:this.left.walk(a),f=null!=(c=a(this.right))?c:this.right.walk(a),this.left!==e||this.right!==f?b(this.pos,e,this.op,f):this},e.inspect=function(a){return j(a,"Binary",this.pos,this.left,this.op,this.right)},e._toJSON=function(){var a;return a=[l(this.left,0),this.op],l(this.right)&&a.push.apply(a,A(this.right.toJSON())),a},b.fromJSON=function(a,c,d,e,f){var h;return h=z.call(arguments,5),b(g(a,c,d),U(e),f,U(h))},b}(R),c.BlockStatement=I=function(b){function c(a,b,e){var f,g,h,i,j,k;for(h=this instanceof c?this:t(d),h.pos=a,null==b&&(b=[]),null==e&&(e=null),h.label=e,j=[],f=0,g=b.length;g>f&&(i=b[f],k=i.maybeToStatement(),!(k instanceof c)||k.label||k.pos.file!==a.file&&k.pos.file?k instanceof cb||j.push(k):j.push.apply(j,A(k.body)),null==k.exitType());++f);switch(j.length){case 0:return cb(a);case 1:return a.file&&!j[0].pos.file&&(j[0].pos.file=a.file),j[0]}return h.body=j,h}var d,e;return e=b.prototype,d=c.prototype=t(e),d.constructor=c,c.displayName="BlockStatement","function"==typeof b.extended&&b.extended(c),d.compile=function(b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p;if(1!==c)throw Error("Cannot compile a statement except on the Block level");for(f=[],g=A(this.body),h=0,i=g.length;i>h;++h)o=g[h],o.isNoop()||f.push(o);for(p=f,null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(j=b.sourceMap)&&j.add(e.line,e.column,this.pos.line,this.pos.column),k=null!=this.label?a(b):b,n=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),d=!1,e(":"),n||e(" "),e("{"),n||(e(b.linefeed||"\n"),e.indent(k.indent),d=!0)),l=0,i=p.length;i>l;++l)m=p[l],l>0&&!n&&(e(b.linefeed||"\n"),e.indent(k.indent),d=!0),m.compileAsStatement(k,d,e),d=!1;null!=this.label&&(n||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}")),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},d.walk=function(a){var b,c,d;return c=h(this.body,a),d=null!=this.label?null!=(b=a(this.label))?b:this.label.walk(a):this.label,this.body!==c||this.label!==d?G(this.pos,c,d):this},d.mutateLast=function(a,b){var c,d,e;return d=this.last(),e=d.mutateLast(a,b),d!==e?(c=z.call(this.body,0,-1),c.push(e),G(this.pos,c)):this},d.exitType=function(){return this.last().exitType()},d.last=function(){var a;return(a=this.body)[a.length-1]},d.isNoop=function(){var a,b,c,d,e;if(null==(d=this._isNoop)){for(b=!0,a=A(this.body),c=a.length;c--;)if(e=a[c],!e.isNoop()){b=!1;break}return this._isNoop=b}return d},d.inspect=function(a){return j(a,"BlockStatement",this.pos,this.body,this.label)},d._toJSON=function(){return[this.label||0].concat(A(this.body))},c.fromJSON=function(a,b,d,e){var f;return f=z.call(arguments,4),c(g(a,b,d),r(f),e?U(e):null)},c}(ib),c.BlockExpression=H=function(a){function b(a,d){var e,f,g,h,i;for(e=this instanceof b?this:t(c),e.pos=a,null==d&&(d=[]),i=[],f=0,h=d.length;h>f;++f)g=d[f],f!==h-1&&!g instanceof cb||(g instanceof b&&(g.pos.file===a.file||!g.pos.file)?(i.push.apply(i,A(g.body)),h-1>f&&i[i.length-1]instanceof cb&&i.pop()):g instanceof cb||i.push(g));switch(i.length){case 0:return cb(a);case 1:return a.file&&!i[0].pos.file&&(i[0].pos.file=a.file),i[0]}return e.body=i,e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="BlockExpression","function"==typeof a.extended&&a.extended(b),c.toStatement=function(){return I(this.pos,this.body)},c.compile=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;if(1===b)this.toStatement().compile(a,b,c,d);else{for(e=[],f=A(this.body),i=0,k=f.length;k>i;++i)l=f[i],l.isNoop()&&i!==k-1||e.push(l);for(m=e,null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(h=a.sourceMap)&&h.add(d.line,d.column,this.pos.line,this.pos.column),n=b>2&&m.length>1,n&&d("("),i=0,g=m.length;g>i;++i)j=m[i],i>0&&(d(","),a.minify||d(" ")),j.compile(a,n?3:b,!1,d);n&&d(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()}},c.compileAsBlock=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;if(1===b)this.compile(a,b,c,d);else{for(e=[],f=A(this.body),i=0,k=f.length;k>i;++i)l=f[i],l.isNoop()||e.push(l);for(m=e,null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(h=a.sourceMap)&&h.add(d.line,d.column,this.pos.line,this.pos.column),n=b>2&&m.length>1,n&&d("("),i=0,g=m.length;g>i;++i)j=m[i],i>0&&d(", "),j.compileAsBlock(a,n?3:b,!1,d);n&&d(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()}},c.isLarge=function(){var a,b;return b=this,null==(a=this._isLarge)?this._isLarge=this.body.length>4||function(){var a,c,d,e;for(d=!1,a=A(b.body),c=a.length;c--;)if(e=a[c],e.isLarge()){d=!0;break}return d}():a},c.isSmall=function(){return!1},c.isNoop=function(){var a,b,c,d,e;if(null==(d=this._isNoop)){for(b=!0,a=A(this.body),c=a.length;c--;)if(e=a[c],!e.isNoop()){b=!1;break}return this._isNoop=b}return d},c.walk=I.prototype.walk,c.last=function(){var a;return(a=this.body)[a.length-1]},c.inspect=function(a){return j(a,"BlockExpression",this.pos,this.body)},c._toJSON=function(){return this.body},b.fromJSON=function(a,c,d){var e;return e=z.call(arguments,3),b(g(a,c,d),r(e))},b}(R),G=c.Block=function(a,b,c){return null==b&&(b=[]),null==c&&(c=null),0===b.length?cb(a):null==c&&function(){var a,c,d;for(a=!0,c=b.length;c--;)if(d=b[c],!(d instanceof R)){a=!1;break}return a}()?H(a,b):I(a,b,c)},c.Break=J=function(a){function b(a,d){var e;return e=this instanceof b?this:t(c),e.pos=a,null==d&&(d=null),e.label=d,e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Break","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;if(1!==b)throw Error("Cannot compile a statement except on the Block level");null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),d("break"),null!=this.label&&(d(" "),this.label.compile(a,2,!1,d)),d(";"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile(this.pos.file)},c.walk=function(){return this},c.exitType=function(){return"break"},c.walk=function(a){var c,d;return d=null!=this.label?null!=(c=a(this.label))?c:this.label.walk(a):this.label,d!==this.label?b(this.pos,d):this},c.inspect=function(a){return j(a,"Break",this.pos,this.label)},c.isLarge=function(){return!1},c._toJSON=function(){return null!=this.label?[this.label]:[]},b.fromJSON=function(a,c,d,e){return b(g(a,c,d),e?U(e):null)},b}(ib),c.Call=K=function(b){function c(a,b,d,e){var g;return g=this instanceof c?this:t(f),g.pos=a,null==b&&(b=cb(a)),g.func=b,null==d&&(d=[]),g.args=d,null==e&&(e=!1),g.isNew=e,g}function d(b,c,d,e,f){var g,h,i,j,k;for(f("("),h=a(c),g=A(b),i=0,k=g.length;k>i;++i)j=g[i],f(c.linefeed||"\n"),f.indent(h.indent),j.compile(h,3,!1,f),k-1>i&&f(",");f(c.linefeed||"\n"),f.indent(c.indent),f(")")}function e(a,b,c,d,e){var f,g,h,i;for(e("("),f=A(a),i=0,g=f.length;g>i;++i)h=f[i],i>0&&(e(","),b.minify||e(" ")),h.compile(b,3,!1,e);e(")")}var f,i;return i=b.prototype,f=c.prototype=t(i),f.constructor=c,c.displayName="Call","function"==typeof b.extended&&b.extended(c),f.compile=function(a,b,c,f){var g,h,i;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(g=a.sourceMap)&&g.add(f.line,f.column,this.pos.line,this.pos.column),i=b>18||!this.isNew&&(this.func instanceof V||this.func instanceof F&&"."===this.func.op&&this.func.left instanceof V),i&&f("("),this.isNew&&f("new "),this.func.compile(a,this.isNew?19:18,c&&!i&&!this.isNew,f),h=!a.minify&&this.shouldCompileLarge()?d:e,h(this.args,a,b,c,f),i&&f(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},f.shouldCompileLarge=function(){var a,b,c,d,e;if(this.args.length>4)return!0;for(d=!1,a=A(this.args),c=a.length,b=c-2;b>=0;--b)if(e=a[b],!e.isSmall()){d=!0;break}return d},f.hasLargeArgs=function(){var a,b,c,d,e;if(null==(c=this._hasLargeArgs)){if(this.args.length>4)return this._hasLargeArgs=!0;for(d=!1,a=A(this.args),b=a.length;b--;)if(e=a[b],!e.isSmall()){d=!0;break}return this._hasLargeArgs=d}return c},f.isLarge=function(){return this.func.isLarge()||this.hasLargeArgs()},f.isSmall=function(){var a;if(null!=(a=this._isSmall))return a;if(!this.func.isSmall())return this._isSmall=!1;switch(this.args.length){case 0:return this._isSmall=!0;case 1:return this._isSmall=this.args[0].isSmall();default:return this._isSmall=!1}},f.walk=function(a){var b,d,e;return e=null!=(b=a(this.func))?b:this.func.walk(a),d=h(this.args,a),this.func!==e||this.args!==d?c(this.pos,e,d,this.isNew):this},f.inspect=function(a){return j(a,"Call",this.pos,this.func,this.args,this.isNew)},f._toJSON=function(){return[l(this.func,0),this.isNew?1:0].concat(A(k(this.args,0)))},c.fromJSON=function(a,b,d,e,f){var h;return h=z.call(arguments,5),c(g(a,b,d),U(e),r(h),!!f)},c}(R),c.Comment=L=function(a){function b(a,d){var e;if(e=this instanceof b?this:t(c),e.pos=a,e.text=d,"/*"!==d.substring(0,2))throw Error("Expected text to start with '/*'");if("*/"!==d.slice(-2))throw Error("Expected text to end with '*/'");return e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Comment","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e,f,g,h,i;for(i=this.text.split("\n"),e=A(i),g=0,f=e.length;f>g;++g)h=e[g],g>0&&(d(a.linefeed||"\n"),a.minify||d.indent(a.indent)),d(h)},c.isConst=function(){return!0},c.constValue=function(){},c.isNoop=function(){return!1},c.walk=function(){return this},c.inspect=function(){return j("Comment",this.pos,this.text)},c._toJSON=function(){return[this.text]},b.fromJSON=function(a,c,d,e){return b(g(a,c,d),e)},b}(ib),c.Const=M=function(a){function b(a,d){var e;return e=this instanceof b?this:t(c),e.pos=a,e.value=d,e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Const","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e,f,g;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),f=this.value,void 0===f&&null!=a.undefinedName?d(a.undefinedName):(g=b>=17&&(void 0===f||"number"==typeof f&&!isFinite(f)),g&&d("("),d(nb(f)),g&&d(")")),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},c.compileAsBlock=function(a,b,c,d){cb(this.pos).compileAsBlock(a,b,c,d)},c.isConst=function(){return!0},c.isNoop=b.prototype.isConst,c.constValue=function(){return this.value},c.walk=function(){return this},c.inspect=function(a){return"Const("+_(this.value,null,i(a))+")"},c._toJSON=function(){return"number"!=typeof this.value||isFinite(this.value)?0===this.value&&n(this.value)?[0,2]:void 0===this.value?[]:[this.value]:[this.value>0?1:this.value<0?-1:0,1]},b.fromJSON=function(a,c,d,e,f){return b(g(a,c,d),1===f?e/0:0===e&&2===f?-0:e)},b}(R),c.Continue=N=function(a){function b(a,d){var e;return e=this instanceof b?this:t(c),e.pos=a,null==d&&(d=null),e.label=d,e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Continue","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;if(1!==b)throw Error("Cannot compile a statement except on the Block level");return null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),d("continue"),null!=this.label&&(d(" "),this.label.compile(a,2,!1,d)),d(";"),null!=a.sourceMap&&this.pos.file?a.sourceMap.popFile():void 0},c.walk=function(){return this},c.exitType=function(){return"continue"},c.isLarge=function(){return!1},c.walk=function(a){var c,d;return d=null!=this.label?null!=(c=a(this.label))?c:this.label.walk(a):this.label,d!==this.label?b(this.pop,d):this},c.inspect=function(a){return j(a,"Continue",this.pos,this.label)},c._toJSON=function(){return null!=this.label?[this.label]:[]},b.fromJSON=function(a,c,d,e){return b(g(a,c,d),e?U(e):null)},b}(ib),c.Debugger=O=function(a){function b(a){var d;return d=this instanceof b?this:t(c),d.pos=a,d}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Debugger","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;if(1!==b)throw Error("Cannot compile a statement except on the Block level");return null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column,this.pos.file),d("debugger;")},c.walk=function(){return this},c.isLarge=function(){return!1},c.inspect=function(a){return j(a,"Debugger",this.pos)},b.fromJSON=function(a,c,d){return b(g(a,c,d))},b}(ib),c.DoWhile=P=function(b){function c(a,b,e,f){var g;return g=this instanceof c?this:t(d),g.pos=a,null==b&&(b=cb(a)),null==e&&(e=cb(a)),g.test=e,null==f&&(f=null),g.label=f,g.body=b.maybeToStatement(),e.isConst()&&!e.constValue()?G(a,[g.body],f):g}var d,e;return e=b.prototype,d=c.prototype=t(e),d.constructor=c,c.displayName="DoWhile","function"==typeof b.extended&&b.extended(c),d.compile=function(b,c,d,e){var f,g;if(1!==c)throw Error("Cannot compile a statement except on the Block level");null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(f=b.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),g=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),d=!1,e(":"),g||e(" ")),e("do"),this.body.isNoop()?e(";"):(g||e(" "),e("{"),g||(e(b.linefeed||"\n"),e.indent(+b.indent+1),d=!0),this.body.compileAsStatement(a(b),d,e),d=!1,g||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}")),g||e(" "),e("while"),g||e(" "),e("("),this.test.compile(b,2,!1,e),e(");"),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},d.walk=function(a){var b,d,e,f;return d=null!=(b=a(this.body))?b:this.body.walk(a),f=null!=(b=a(this.test))?b:this.test.walk(a),e=null!=this.label?null!=(b=a(this.label))?b:this.label.walk(a):this.label,d!==this.body||f!==this.test||e!==this.label?c(this.pos,d,f,e):this},d.inspect=function(a){return j(a,"DoWhile",this.pos,this.body,this.test,this.label)},d._toJSON=function(){return[this.label||0,l(this.test,0),l(this.body,0)]},c.fromJSON=function(a,b,d,e,f,h){return c(g(a,b,d),U(h),U(f),e?U(e):null)},c}(ib),c.Eval=Q=function(a){function b(d,e){var f;return f=this instanceof b?this:t(c),f.pos=d,null==e&&(e=cb(d)),e instanceof a||(e=m(d,e)),f.code=e,f}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Eval","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),this.code instanceof M?d(String(this.code.value)):(d("eval("),this.code.compile(a,3,!1,d),d(")")),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},c.walk=function(a){var c,d;return d=null!=(c=a(this.code))?c:this.code.walk(a),d!==this.code?b(this.pops,d):this},c.inspect=function(a){return j(a,"Eval",this.pos,this.code)},c._toJSON=function(){return[l(this.code,0)]},b.fromJSON=function(a,c,d,e){return b(g(a,c,d),U(e))},b}(R),c.For=S=function(b){function c(a,b,e,f,g,h){var i;return i=this instanceof c?this:t(d),i.pos=a,null==b&&(b=cb(a)),i.init=b,null==e&&(e=M(a,!0)),null==f&&(f=cb(a)),i.step=f,null==h&&(h=null),i.label=h,e instanceof R||(e=m(a,e)),e.isConst()&&!e.constValue()?b:(i.test=e,i.body=g.maybeToStatement(),i)}var d,e;return e=b.prototype,d=c.prototype=t(e),d.constructor=c,c.displayName="For","function"==typeof b.extended&&b.extended(c),d.compile=function(b,c,d,e){var f,g,h;if(1!==c)throw Error("Cannot compile a statement except on the Block level");h=this.test.isConst()&&"boolean"!=typeof this.test.constValue()?M(this.pos,!!this.test.constValue()):this.test,null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(f=b.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),g=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),e(":"),g||e(" ")),this.init.isNoop()&&this.step.isNoop()?(e("while"),g||e(" "),e("("),h.compile(b,2,!1,e)):(e("for"),g||e(" "),e("("),this.init.isNoop()||this.init.compileAsBlock(b,2,!1,e),e(";"),g||e(" "),h.isConst()&&h.constValue()||h.compile(b,2,!1,e),e(";"),g||e(" "),this.step.isNoop()||this.step.compileAsBlock(b,2,!1,e)),e(")"),this.body.isNoop()?e(";"):(g||e(" "),e("{"),g||(e(b.linefeed||"\n"),e.indent(+b.indent+1)),this.body.compileAsStatement(a(b),!g,e),g||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}")),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},d.walk=function(a){var b,d,e,f,g,h;return e=null!=(b=a(this.init))?b:this.init.walk(a),h=null!=(b=a(this.test))?b:this.test.walk(a),g=null!=(b=a(this.step))?b:this.step.walk(a),d=null!=(b=a(this.body))?b:this.body.walk(a),f=null!=this.label?null!=(b=a(this.label))?b:this.label.walk(a):this.label,e!==this.init||h!==this.test||g!==this.step||d!==this.body||f!==this.label?c(this.pos,e,h,g,d,f):this
},d.inspect=function(a){return j(a,"For",this.pos,this.init,this.test,this.step,this.body,this.label)},d._toJSON=function(){var a;return a=[this.label||0,l(this.init,0),l(this.test,0),l(this.step,0)],l(this.body)&&a.push.apply(a,A(this.body.toJSON())),a},c.fromJSON=function(a,b,d,e,f,h,i){var j;return j=z.call(arguments,7),c(g(a,b,d),U(f),U(h),U(i),U(j),e?U(e):null)},c}(ib),c.ForIn=T=function(b){function c(a,b,e,f,g){var h;return h=this instanceof c?this:t(d),h.pos=a,h.key=b,null==e&&(e=cb(line,column)),h.object=e,null==f&&(f=cb(line,column)),null==g&&(g=null),h.label=g,h.body=f.maybeToStatement(),h}var d,e;return e=b.prototype,d=c.prototype=t(e),d.constructor=c,c.displayName="ForIn","function"==typeof b.extended&&b.extended(c),d.compile=function(b,c,d,e){var f,g;if(1!==c)throw Error("Cannot compile a statement except on the Block level");null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(f=b.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),g=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),e(":"),g||e(" ")),e("for"),g||e(" "),e("("),this.key.compile(b,2,!1,e),e(" in "),this.object.compile(b,2,!1,e),e(")"),this.body.isNoop()?e(";"):(g||e(" "),e("{"),g||(e(b.linefeed||"\n"),e.indent(+b.indent+1)),this.body.compileAsStatement(a(b),!g,e),g||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}")),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},d.walk=function(a){var b,d,e,f,g;return e=null!=(b=a(this.key))?b:this.key.walk(a),g=null!=(b=a(this.object))?b:this.object.walk(a),d=null!=(b=a(this.body))?b:this.body.walk(a),f=null!=this.label?null!=(b=a(this.label))?b:this.label.walk(a):this.label,e!==this.key||g!==this.object||d!==this.body||f!==this.label?c(this.pos,e,g,d):this},d.inspect=function(a){return j(a,"ForIn",this.pos,this.key,this.object,this.body,this.label)},d._toJSON=function(){var a;return a=[this.label||0,this.key,l(this.object,0)],l(this.body)&&a.push.apply(a,A(this.body.toJSON())),a},c.fromJSON=function(a,b,d,e,f,h){var i;return i=z.call(arguments,6),c(g(a,b,d),U(f),U(h),U(i),e?U(e):null)},c}(ib),mb=function(){function a(a){return"\\u"+eb(a.charCodeAt(0).toString(16),4,"0")}return function(b){return b.replace(/[\u0000-\u001f\u0080-\uffff]/g,a)}}(),c.Func=V=function(a){function b(a,c,e,f,g,h){var i;return i=this instanceof b?this:t(d),i.pos=a,null==c&&(c=null),i.name=c,null==e&&(e=[]),i.params=e,null==f&&(f=[]),i.variables=f,null==g&&(g=cb(line,column)),i.body=g,null==h&&(h=[]),i.declarations=h,o(e,f),i}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Func","function"==typeof a.extended&&a.extended(b),d.compile=function(a,b,c,d){var e,f;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),f=c&&!this.name,f&&d("("),q(a,d,this.name,this.params,this.declarations,this.variables,this.body),f&&d(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},d.compileAsStatement=function(a,b,c){this.compile(a,1,b,c),b&&this.name||c(";")},d.isLarge=function(){return!0},d.isNoop=function(){return null==this.name},d.walk=function(a){var c,d,e,f;return e=this.name?null!=(c=a(this.name))?c:this.name.walk(a):this.name,f=h(this.params,a),d=this.body.walk(a),e!==this.name||f!==this.params||d!==this.body?b(this.pos,e,f,this.variables,d,this.declarations,this.meta):this},d.inspect=function(a){return j(a,"Func",this.pos,this.name,this.params,this.variables,this.body,this.declarations,this.meta)},d._toJSON=function(){var a;return a=[this.name||0,k(this.params,0),k(this.variables,0),k(this.declarations,0)],l(this.body)&&a.push.apply(a,A(this.body.toJSON())),a},b.fromJSON=function(a,c,d,e,f,h,i){var j;return j=z.call(arguments,7),b(g(a,c,d),e?U(e):void 0,r(f),h,U(j),i)},b}(R),c.Ident=X=function(a){function b(a,c,e){var f;if(f=this instanceof b?this:t(d),f.pos=a,f.name=c,null==e&&(e=!1),!e&&!ab(c,!0))throw Error("Not an acceptable identifier name: "+c);return f}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Ident","function"==typeof a.extended&&a.extended(b),d.compile=function(a,b,c,d){var e;null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column,this.pos.file),d(mb(this.name))},d.compileAsBlock=function(a,b,c,d){cb(this.pos).compileAsBlock(a,b,c,d)},d.walk=function(){return this},d.inspect=function(a){return j(a,"Ident",this.pos,this.name)},d.isNoop=function(){return!0},d._toJSON=function(){return[this.name]},b.fromJSON=function(a,c,d,e){return b(g(a,c,d),e)},b}(R),c.IfStatement=$=function(b){function c(a,b,e,f,g){var h;return h=this instanceof c?this:t(d),h.pos=a,null==b&&(b=cb(a)),null==e&&(e=cb(a)),null==f&&(f=cb(a)),null==g&&(g=null),h.label=g,b instanceof qb&&"!"===b.op&&b.node instanceof qb&&"!"===b.node.op&&(b=b.node.node),b.isConst()?b.constValue()?G(a,[e],g):G(a,[f],g):(e=e.maybeToStatement(),f=f.maybeToStatement(),e instanceof cb?f instanceof cb?b.maybeToStatement():c.call(h,a,qb(b.pos,"!",b),f,e,g):(f instanceof cb&&e instanceof c&&e.whenFalse instanceof cb&&null==e.label?(h.test=F(a,b,"&&",e.test),h.whenTrue=e.whenTrue,h.whenFalse=f):(h.test=b,h.whenTrue=e,h.whenFalse=f),h))}var d,e;return e=b.prototype,d=c.prototype=t(e),d.constructor=c,c.displayName="IfStatement","function"==typeof b.extended&&b.extended(c),d.compile=function(b,d,e,f){var g,h,i,j;if(1!==d)throw Error("Cannot compile a statement except on the Block level");this.whenTrue.isNoop()?this.whenFalse.isNoop()?this.test.compileAsStatement(b,!0,f):c(this.pos,qb(this.test.pos,"!",this.test),this.whenFalse,this.whenTrue,this.label).compile(b,d,e,f):(null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(g=b.sourceMap)&&g.add(f.line,f.column,this.pos.line,this.pos.column),i=b.minify,null!=this.label&&(this.label.compile(b,d,e,f),f(":"),i||f(" ")),f("if"),i||f(" "),f("("),this.test.compile(b,2,!1,f),f(")"),i||f(" "),f("{"),h=a(b),i||(f(b.linefeed||"\n"),f.indent(h.indent)),this.whenTrue.compileAsStatement(h,!i,f),i||(f(b.linefeed||"\n"),f.indent(b.indent)),f("}"),j=this.whenFalse,j.isNoop()||(i||f(" "),f("else"),j instanceof c&&null==j.label?(f(" "),j.compile(b,d,!1,f)):(i||f(" "),f("{"),i||(f(b.linefeed||"\n"),f.indent(h.indent)),j.compileAsStatement(h,!i,f),i||(f(b.linefeed||"\n"),f.indent(b.indent)),f("}"))),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile())},d.walk=function(a){var b,c,d,e,f;return d=null!=(b=a(this.test))?b:this.test.walk(a),f=null!=(b=a(this.whenTrue))?b:this.whenTrue.walk(a),e=null!=(b=a(this.whenFalse))?b:this.whenFalse.walk(a),c=null!=this.label?null!=(b=a(this.label))?b:this.label.walk(a):this.label,d!==this.test||f!==this.whenTrue||e!==this.whenFalse||c!==this.label?Y(this.pos,d,f,e,c):this},d.mutateLast=function(a,b){var c,d;return d=this.whenTrue.mutateLast(a,b),c=this.whenFalse.mutateLast(a,b),d!==this.whenTrue||c!==this.whenFalse?Y(this.pos,this.test,d,c,this.label):this},d.exitType=function(){var a,b;return void 0===this._exitType?(b=this.whenTrue.exitType(),a=this.whenFalse.exitType(),this._exitType=b===a?b:null):this._exitType},d.isNoop=function(){var a;return null==(a=this._isNoop)?this._isNoop=this.test.isNoop()&&this.whenTrue.isNoop()&&this.whenFalse.isNoop():a},d.inspect=function(a){return j(a,"IfStatement",this.pos,this.test,this.whenTrue,this.whenFalse)},d._toJSON=function(){var a;return a=[this.label||0,l(this.test,0),l(this.whenTrue,0)],l(this.whenFalse)&&a.push.apply(a,A(this.whenFalse.toJSON())),a},c.fromJSON=function(a,b,d,e,f,h){var i;return i=z.call(arguments,6),c(g(a,b,d),U(f),U(h),U(i),e?U(e):null)},c}(ib),c.IfExpression=Z=function(b){function c(a,d,e,f){var g;return g=this instanceof c?this:t(h),g.pos=a,null==d&&(d=cb(a)),null==e&&(e=cb(a)),null==f&&(f=cb(a)),e instanceof b||(e=m(a,e)),f instanceof b||(f=m(a,f)),d instanceof qb&&"!"===d.op&&d.node instanceof qb&&"!"===d.node.op&&(d=d.node.node),d.isConst()?d.constValue()?e:f:(f instanceof cb&&e instanceof c&&e.whenFalse instanceof cb?(g.test=F(a,d,"&&",e.test),g.whenTrue=e.whenTrue,g.whenFalse=f):(g.test=d,g.whenTrue=e,g.whenFalse=f),g)}function d(a,b,c,d,e,f){var g;g=d.minify,a.compile(d,5,e,f),f(g?"?":" ? "),b.compile(d,5,!1,f),f(g?":":" : "),c.compile(d,5,!1,f)}function e(b,d,f,g,h,i){var j,k,l,m;j=a(g),l=b instanceof c,l&&i("("),b.compile(j,l?2:5,h&&!l,i),l&&i(")"),k=d.isLarge(),k?(i(g.linefeed||"\n"),i.indent(j.indent),i("? ")):i(" ? "),m=d instanceof c,m&&i("("),d.compile(j,m?2:5,!1,i),m&&i(")"),i(g.linefeed||"\n"),i.indent(j.indent),i(": "),f instanceof c?e(f.test,f.whenTrue,f.whenFalse,g,!1,i):f.compile(j,5,!1,i)}var f,h;return f=b.prototype,h=c.prototype=t(f),h.constructor=c,c.displayName="IfExpression","function"==typeof b.extended&&b.extended(c),h.toStatement=function(){return $(this.pos,this.test,this.whenTrue,this.whenFalse)},h.compile=function(a,b,c,f){var g,h,i;1===b?this.toStatement().compile(a,b,c,f):(null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(g=a.sourceMap)&&g.add(f.line,f.column,this.pos.line,this.pos.column),i=b>5,i&&f("("),h=a.minify||!this.whenTrue.isLarge()&&!this.whenFalse.isLarge()?d:e,h(this.test,this.whenTrue,this.whenFalse,a,!i&&c,f),i&&f(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile())},h.compileAsBlock=function(a,b,c,d){this.whenTrue.isNoop()?this.whenFalse.isNoop()?this.test.compileAsBlock(a,b,c,d):F(this.pos,this.test,"||",this.whenFalse).compileAsBlock(a,b,c,d):this.whenFalse.isNoop()?F(this.pos,this.test,"&&",this.whenTrue).compileAsBlock(a,b,c,d):this.compile(a,b,c,d)},h.isLarge=function(){var a;return null==(a=this._isLarge)?this._isLarge=!this.test.isSmall()||!this.whenTrue.isSmall()||!this.whenFalse.isSmall():a},h.isSmall=function(){return!1},h.isNoop=function(){var a;return null==(a=this._isNoop)?this._isNoop=this.test.isNoop()&&this.whenTrue.isNoop()&&this.whenFalse.isNoop():a},h.walk=$.prototype.walk,h.inspect=function(a){return j(a,"IfExpression",this.pos,this.test,this.whenTrue,this.whenFalse)},h._toJSON=function(){var a;return a=[l(this.test,0),l(this.whenTrue,0)],l(this.whenFalse)&&a.push.apply(a,A(this.whenFalse.toJSON())),a},c.fromJSON=function(a,b,d,e,f){var h;return h=z.call(arguments,5),c(g(a,b,d),U(e),U(f),U(h))},c}(R),Y=c.If=function(a,b,c,d,e){return c instanceof ib||d instanceof ib||null!=e?$(a,b,c,d,e):Z(a,b,c,d)},c.Noop=cb=function(a){function b(a){var c;return c=this instanceof b?this:t(d),c.pos=a,c}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Noop","function"==typeof a.extended&&a.extended(b),d.compileAsStatement=function(){},d.compile=function(a,b,c,d){b>1&&M(this.pos,void 0).compile(a,b,c,d)},d.isConst=function(){return!0},d.isNoop=b.prototype.isConst,d.constValue=function(){},d.walk=function(){return this},d.mutateLast=function(a,b){return(null!=b?b.noop:void 0)?a(this):this},d.inspect=function(a){return j(a,"Noop",this.pos)},b.fromJSON=function(a,c,d){return b(g(a,c,d))},b}(R),c.Obj=db=function(b){function c(a,b){var e;return e=this instanceof c?this:t(n),e.pos=a,null==b&&(b=[]),e.elements=b,d(b),e}function d(a){var b,c,d,e,f;for(e=[],b=A(a),c=b.length;c--;){if(f=b[c],d=f.key,v(d,e))throw Error("Found duplicate key: "+nb(d));e.push(d)}}function e(a){var b;return ab(a)?a:(b=Number(a),b===b&&String(b)===a?a:nb(a))}function f(b,c,d){var f,g,h,i,j,k;for(g=a(c),f=A(b),i=0,k=f.length;k>i;++i)h=f[i],d(c.linefeed||"\n"),d.indent(g.indent),j=h.key,d(e(j)),d(": "),h.value.compile(g,3,!1,d),k-1>i&&d(",");d(c.linefeed||"\n"),d.indent(c.indent)}function i(a,b,c){var d,f,g,h,i,j;if(a.length){for(j=b.minify,j||c(" "),d=A(a),h=0,f=d.length;f>h;++h)g=d[h],h>0&&(c(","),j||c(" ")),i=g.key,c(e(i)),c(":"),j||c(" "),g.value.compile(b,3,!1,c);j||c(" ")}}var k,n,o;return k=b.prototype,n=c.prototype=t(k),n.constructor=c,c.displayName="Obj","function"==typeof b.extended&&b.extended(c),n.compile=function(a,b,c,d){var e,g,h;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),h=c,h&&d("("),d("{"),g=!a.minify&&this.shouldCompileLarge()?f:i,g(this.elements,a,d),d("}"),h&&d(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},n.compileAsBlock=function(a,b,c,d){var e;e=this,H(this.pos,function(){var a,b,c,d,f;for(a=[],b=A(e.elements),c=0,d=b.length;d>c;++c)f=b[c],a.push(f.value);return a}()).compileAsBlock(a,b,c,d)},n.compileAsStatement=function(a,b,c){var d;d=this,I(this.pos,function(){var a,b,c,e,f;for(a=[],b=A(d.elements),c=0,e=b.length;e>c;++c)f=b[c],a.push(f.value);return a}()).compileAsStatement(a,b,c)},n.shouldCompileLarge=function(){switch(this.elements.length){case 0:return!1;case 1:return this.elements[0].isLarge();default:return this.isLarge()}},n.isSmall=function(){switch(this.elements.length){case 0:return!0;case 1:return this.elements[0].isSmall();default:return!1}},n.isLarge=function(){var a,b;return b=this,null==(a=this._isLarge)?this._isLarge=this.elements.length>4||function(){var a,c,d,e;for(d=!1,a=A(b.elements),c=a.length;c--;)if(e=a[c],!e.isSmall()){d=!0;break}return d}():a},n.isNoop=function(){var a,b,c,d,e;if(null==(d=this._isNoop)){for(b=!0,a=A(this.elements),c=a.length;c--;)if(e=a[c],!e.isNoop()){b=!1;break}return this._isNoop=b}return d},n.walk=function(a){var b;return b=h(this.elements,a),b!==this.elements?c(this.pos,b):this},n.inspect=function(a){return j(a,"Obj",this.pos,this.elements)},n._toJSON=function(){var a,b,c,d,e,f;for(f=[],a=A(this.elements),b=0,c=a.length;c>b;++b)d=a[b],e=d.pos,f.push(e.line,e.column,e.file,d.key,l(d.value));return f},c.fromJSON=function(a,b,d){var e,f,h,i,j,k,l,m,n;for(f=z.call(arguments,3),m=[],h=0,e=f.length;e>h;h+=5)l=f[h],j=f[h+1],k=f[h+2],i=f[h+3],n=f[h+4],m.push(o(g(l,j,k),i,U(n)));return c(g(a,b,d),m)},c.Pair=o=function(){function a(d,e,f){var g;return g=this instanceof a?this:t(c),g.pos=d,g.key=e,null==f&&(f=cb(line,column)),f instanceof b||(f=m(d,f)),g.value=f,g}var c;return c=a.prototype,a.displayName="ObjPair",c.isSmall=function(){return this.value.isSmall()},c.isLarge=function(){return this.value.isLarge()},c.isNoop=function(){return this.value.isNoop()},c.walk=function(b){var c,d;return d=null!=(c=b(this.value))?c:this.value.walk(b),d!==this.value?a(this.pos,this.key,d):this},c.inspect=function(a){return j(a,"Pair",this.pos,this.key,this.value)},a}(),c}(R),c.Regex=fb=function(a){function b(a,c,e){var f;return f=this instanceof b?this:t(d),f.pos=a,f.source=c,null==e&&(e=""),f.flags=e,f}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Regex","function"==typeof a.extended&&a.extended(b),d.compile=function(a,b,c,d){var e;null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column,this.pos.file),d("/"),d(this.source.replace(/(\\\\)*\\?\//g,"$1\\/")||"(?:)"),d("/"),d(this.flags)},d.compileAsBlock=function(a,b,c,d){cb(this.pos).compileAsBlock(a,b,c,d)},d.isNoop=function(){return!0},d.walk=function(){return this},d.inspect=function(a){return j(a,"Regex",this.pos,this.source,this.flags)},d._toJSON=function(){return[this.source,this.flags]},b.fromJSON=function(a,c,d,e,f){return b(g(a,c,d),e,f)},b}(R),c.Return=gb=function(a){function b(a,d){var e;return e=this instanceof b?this:t(c),e.pos=a,null==d&&(d=cb(a)),e.node=d,"function"==typeof d.toStatement?d.toStatement().mutateLast(function(c){return b(a,c)},{noop:!0}):e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Return","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),d("return"),this.node.isConst()&&void 0===this.node.constValue()||(d(" "),this.node.compile(a,2,!1,d)),d(";"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},c.walk=function(a){var c,d;return d=null!=(c=a(this.node))?c:this.node.walk(a),d!==this.node?b(this.pos,d):this},c.exitType=function(){return"return"},c.isSmall=function(){return this.node.isSmall()},c.isLarge=function(){return this.node.isLarge()},c.inspect=function(a){return j(a,"Return",this.pos,this.node)},c.mutateLast=function(a,c){var d;return(null!=c?c["return"]:void 0)?(d=this.node.mutateLast(a,c),d!==this.node?b(this.pos,d):this):this},c._toJSON=function(){return l(this.node)?this.node.toJSON():[]},b.fromJSON=function(a,c,d){var e;return e=z.call(arguments,3),b(g(a,c,d),U(e))},b}(ib),c.Root=hb=function(){function a(b,d,e,f){var g;return g=this instanceof a?this:t(c),g.pos=b,null==d&&(d=cb(b)),g.body=d,null==e&&(e=[]),g.variables=e,null==f&&(f=[]),g.declarations=f,o([],e),g}var c;return c=a.prototype,a.displayName="Root",c.compile=function(a){var c,d,g,h,i,j,k,l,m,n,o,q,r,s;return null==a&&(a={}),a.indent||(a.indent=0),a.uglify||"function"!=typeof a.writer||(s=a.writer),n=s?e(s):f(),o=(new Date).getTime(),null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(c=a.sourceMap)&&c.add(n.line,n.column,this.pos.line,this.pos.column),p(a,n,this.declarations,this.variables,this.body,!0),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile(),g=(new Date).getTime(),"function"==typeof a.progress&&a.progress("compile",g-o),h=0,null==s&&(d=n.toString(),a.uglify&&(i=b("fs"),null!=a.sourceMap&&(m=b("path"),l=b("os"),q=m.join(l.tmpDir(),"gs-"+4294967296*Math.random()+".map"),i.writeFileSync(q,a.sourceMap.toString(),"utf8")),r=b("uglify-js"),null!=(c=r.AST_Node)&&(k=c.warn_function),"function"==typeof k&&(r.AST_Node.warn_function=function(){}),j=r.minify(d,{fromString:!0,inSourceMap:q,outSourceMap:null!=(c=a.sourceMap)?c.generatedFile:void 0}),null!=k&&(r.AST_Node.warn_function=k),null!=q&&i.unlinkSync(q),d=j.code,h=(new Date).getTime(),"function"==typeof a.progress&&a.progress("uglify",h-g),null!=a.sourceMap&&(a.sourceMap=j.map)),"function"==typeof a.writer&&(a.writer(d),d="")),{compileTime:g-o,uglifyTime:a.uglify?h-g:void 0,code:d||""}},c.toString=function(a){return null==a&&(a={}),this.compile(a).code},c.isLarge=function(){return!0},c.walk=function(b){var c;return c=this.body.walk(b),c!==this.body?a(this.pos,c,this.variables,this.declarations):this},c.mutateLast=function(b,c){var d;return d=this.body.mutateLast(b,c),d!==this.body?a(this.pos,d,this.variables,this.declarations):this},c.exitType=function(){return this.last().exitType()},c.last=function(){var a;return(a=this.body)[a.length-1]},c.inspect=function(a){return j(a,"Root",this.pos,this.body,this.variables,this.declarations)},c._toJSON=function(){var a;return a=[k(this.variables,0),k(this.declarations,0)],l(this.body)&&a.push.apply(a,A(this.body.toJSON())),a},a.fromJSON=function(b,c,d,e,f){var h;return h=z.call(arguments,5),a(g(b,c,d),U(h),e,f)},a}(),c.This=kb=function(a){function b(a){var c;return c=this instanceof b?this:t(d),c.pos=a,c}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="This","function"==typeof a.extended&&a.extended(b),d.compile=function(a,b,c,d){var e;null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column,this.pos.file),d("this")},d.compileAsBlock=function(a,b,c,d){cb(this.pos).compileAsBlock(a,b,c,d)},d.isNoop=function(){return!0},d.walk=function(){return this},d.inspect=function(a){return j(a,"This",this.pos)},b.fromJSON=function(a,c,d){return b(g(a,c,d))},b}(R),c.Throw=lb=function(a){function b(a,c){var e;return e=this instanceof b?this:t(d),e.pos=a,null==c&&(c=cb(line,column)),e.node=c,"function"==typeof c.toStatement?c.toStatement().mutateLast(function(a){return b(e.pos,a)},{noop:!0}):e}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Throw","function"==typeof a.extended&&a.extended(b),d.compile=function(a,b,c,d){var e;return null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),d("throw "),this.node.compile(a,2,!1,d),d(";"),null!=a.sourceMap&&this.pos.file?a.sourceMap.popFile():void 0},d.walk=function(a){var c,d;return d=null!=(c=a(this.node))?c:this.node.walk(a),d!==this.node?b(this.pos,d):this},d.exitType=function(){return"throw"},d.isSmall=function(){return this.node.isSmall()},d.isLarge=function(){return this.node.isLarge()},d.inspect=function(a){return j(a,"Throw",this.pos,this.node)},d._toJSON=function(){return l(this.node)?this.node.toJSON():[]},b.fromJSON=function(a,c,d){var e;return e=z.call(arguments,3),b(g(a,c,d),U(e))},b}(ib),c.Switch=jb=function(b){function c(a,b,d,f,g){var h;return h=this instanceof c?this:t(e),h.pos=a,null==b&&(b=cb(a)),null==d&&(d=[]),h.cases=d,null==f&&(f=cb(a)),null==g&&(g=null),h.label=g,b instanceof R||(b=m(a,b)),h.node=b,h.defaultCase=f.maybeToStatement(),h}var d,e,f;return d=b.prototype,e=c.prototype=t(d),e.constructor=c,c.displayName="Switch","function"==typeof b.extended&&b.extended(c),e.compile=function(b,c,d,e){var f,g,h,i,j,k,l;if(1!==c)throw Error("Cannot compile a statement except on the Block level");for(null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(i=b.sourceMap)&&i.add(e.line,e.column,this.pos.line,this.pos.column),l=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),e(":"),l||e(" ")),e("switch"),l||e(" "),e("("),this.node.compile(b,2,!1,e),e(")"),l||e(" "),e("{"),k=a(b),f=A(this.cases),g=0,h=f.length;h>g;++g)j=f[g],l||(e(b.linefeed||"\n"),e.indent(b.indent)),e("case "),j.node.compile(b,2,!1,e),e(":"),j.body.isNoop()||(j.node.isSmall()&&j.body.isSmall()?(l||e(" "),j.body.compileAsStatement(b,!0,e)):(l||(e(b.linefeed||"\n"),e.indent(k.indent)),j.body.compileAsStatement(k,!0,e)));this.defaultCase.isNoop()||(l||(e(b.linefeed||"\n"),e.indent(b.indent)),e("default:"),this.defaultCase.isSmall()?(l||e(" "),this.defaultCase.compileAsStatement(b,!0,e)):(l||(e(b.linefeed||"\n"),e.indent(k.indent)),this.defaultCase.compileAsStatement(k,!0,e))),l||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}"),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},e.walk=function(a){var b,d,e,f,g;return g=null!=(b=a(this.node))?b:this.node.walk(a),d=h(this.cases,a),e=null!=(b=a(this.defaultCase))?b:this.defaultCase.walk(a),f=null!=this.label?null!=(b=a(this.label))?b:this.label.walk(a):this.label,g!==this.node||d!==this.cases||e!==this.defaultCase||f!==this.label?c(this.pos,g,d,e,f):this},e.inspect=function(a){return this.inspectHelper(a,"Switch",this.pos,this.node,this.cases,this.defaultCase,this.label)},e._toJSON=function(){var a,b,c,d,e;for(e=[this.label||0,l(this.node,0)],a=A(this.cases),b=0,c=a.length;c>b;++b)d=a[b],e.push(d.pos.line,d.pos.column,d.pos.file,l(d.node,0),l(d.body,0));return this.defaultCase instanceof cb||e.push(l(this.defaultCase,0)),e},c.fromJSON=function(a,b,d,e,h){var i,j,k,l,m,n,o,p,q,r;switch(i=z.call(arguments,5),q=i.length,q%5){case 0:break;case 1:--q,o=i[q];break;default:throw Error("Unknown number of arguments passed to fromJSON")}for(r=[],p=0;q>p;p+=5)m=i[p],k=i[p+1],l=i[p+2],n=i[p+3],j=i[p+4],r.push(f(g(m,k,l),U(n),U(j)));return c(g(a,b,d),U(h),r,U(o),e?U(e):null)},c.Case=f=function(){function a(c,d,e){var f;return f=this instanceof a?this:t(b),f.pos=c,null==d&&(d=cb(c)),null==e&&(e=cb(c)),d instanceof R||(d=m(c,d)),f.node=d,f.body=e.maybeToStatement(),f}var b;return b=a.prototype,a.displayName="SwitchCase",b.isLarge=function(){return!0},b.isSmall=function(){return!1},b.walk=function(b){var c,d,e;return e=null!=(c=b(this.node))?c:this.node.walk(b),d=null!=(c=b(this.body))?c:this.body.walk(b),e!==this.node||d!==this.body?a(this.pos,e,d):this},b.inspect=function(a){return j(a,"Case",this.pos,this.node,this.body)},a}(),c}(ib),c.TryCatch=ob=function(b){function c(a,b,d,f,g){var h;return h=this instanceof c?this:t(e),h.pos=a,null==b&&(b=cb(a)),h.catchIdent=d,null==f&&(f=cb(a)),null==g&&(g=null),h.label=g,h.tryBody=b.maybeToStatement(),h.tryBody.isNoop()?h.tryBody:(h.catchBody=f.maybeToStatement(),h)}var d,e;return d=b.prototype,e=c.prototype=t(d),e.constructor=c,c.displayName="TryCatch","function"==typeof b.extended&&b.extended(c),e.compile=function(b,c,d,e){var f,g,h;if(1!==c)throw Error("Cannot compile a statement except on the Block level");null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(f=b.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),h=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),e(":"),h||e(" ")),h?e("try{"):(e("try {"),e(b.linefeed||"\n")),g=a(b),h||e.indent(g.indent),this.tryBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent)),e(h?"}catch(":"} catch ("),this.catchIdent.compile(b,2,!1,e),e(h?"){":") {"),this.catchBody.isNoop()||(h||(e(b.linefeed||"\n"),e.indent(g.indent)),this.catchBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent))),e("}"),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},e.walk=function(a){var b,d,e,f,g;return g=null!=(b=a(this.tryBody))?b:this.tryBody.walk(a),e=null!=(b=a(this.catchIdent))?b:this.catchIdent.walk(a),d=null!=(b=a(this.catchBody))?b:this.catchBody.walk(a),f=null!=this.label?null!=(b=a(this.label))?b:this.label.walk(a):this.label,g!==this.tryBody||e!==this.catchIdent||d!==this.catchBody||f!==this.label?c(this.pos,g,e,d,f):this},e.inspect=function(a){return j(a,"TryCatch",this.pos,this.tryBody,this.catchIdent,this.catchBody,this.label)},e._toJSON=function(){var a;return a=[this.label||0,l(this.tryBody,0),this.catchIdent],l(this.catchBody)&&a.push.apply(a,A(this.catchBody.toJSON())),a},c.fromJSON=function(a,b,d,e,f,h){var i;return i=z.call(arguments,6),c(g(a,b,d),U(f),U(h),U(i),e?U(e):null)},c}(ib),c.TryFinally=pb=function(b){function c(a,b,d,f){var g;if(g=this instanceof c?this:t(e),g.pos=a,null==b&&(b=cb(a)),null==d&&(d=cb(a)),null==f&&(f=null),g.label=f,g.tryBody=b.maybeToStatement(),g.finallyBody=d.maybeToStatement(),null==f){if(g.tryBody.isNoop())return g.finallyBody;if(g.finallyBody.isNoop())return g.tryBody}return g}var d,e;return d=b.prototype,e=c.prototype=t(d),e.constructor=c,c.displayName="TryFinally","function"==typeof b.extended&&b.extended(c),e.compile=function(b,c,d,e){var f,g,h;if(1!==c)throw Error("Cannot compile a statement except on the Block level");null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(f=b.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),h=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),e(":"),h||e(" ")),h?e("try{"):(e("try {"),e(b.linefeed||"\n")),g=a(b),h||e.indent(g.indent),this.tryBody instanceof ob&&null==this.tryBody.label?(this.tryBody.tryBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent)),e(h?"}catch(":"} catch ("),this.tryBody.catchIdent.compile(b,2,!1,e),e(h?"){":") {"),this.tryBody.catchBody.isNoop()||(h||(e(b.linefeed||"\n"),e.indent(g.indent)),this.tryBody.catchBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent)))):(this.tryBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent))),h?e("}finally{"):(e("} finally {"),e(b.linefeed||"\n")),h||e.indent(g.indent),this.finallyBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}"),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},e.walk=function(a){var b,d,e,f;return f=null!=(b=a(this.tryBody))?b:this.tryBody.walk(a),d=null!=(b=a(this.finallyBody))?b:this.finallyBody.walk(a),e=null!=this.label?null!=(b=a(this.label))?b:this.label.walk(a):this.label,f!==this.tryBody||d!==this.finallyBody||e!==this.label?c(this.pos,f,d,e):this},e.inspect=function(a){return j(a,"TryFinally",this.pos,this.tryBody,this.finallyBody,this.label)},e._toJSON=function(){var a;return a=[this.label||0,l(this.tryBody,0)],l(this.finallyBody)&&a.push.apply(a,A(this.finallyBody.toJSON())),a},c.fromJSON=function(a,b,d,e,f){var h;return h=z.call(arguments,5),c(g(a,b,d),U(f),U(h),e?U(e):null)},c}(ib),c.Unary=qb=function(a){function b(c,e,g){var h;if(h=this instanceof b?this:t(d),h.pos=c,h.op=e,null==g&&(g=cb(c)),!v(e,f))throw Error("Unknown unary operator: "+e);if(g instanceof a||(g=m(line,column,g)),!("delete"!==e||g instanceof F&&"."===g.op))throw Error("Cannot use delete operator on a non-access");return h.node=g,h}var c,d,e,f;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Unary","function"==typeof a.extended&&a.extended(b),d.compile=function(a,c,d,e){var f,g;g=this.op,null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(f=a.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),"++post"===g||"--post"===g?(this.node.compile(a,16,!1,e),e(g.substring(0,2))):(e(g),("typeof"===g||"void"===g||"delete"===g||("+"===g||"-"===g||"++"===g||"--"===g)&&(this.node instanceof b&&("+"===g||"-"===g||"++"===g||"--"===g)||this.node instanceof M&&"number"==typeof this.node.value&&n(this.node.value)))&&e(" "),this.node.compile(a,16,!1,e)),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},d.compileAsBlock=function(a,b,c,d){var f;f=this.op,y.call(e,f)?this.compile(a,b,c,d):this.node.compileAsBlock(a,b,c,d)},d.compileAsStatement=function(a,b,d){var f;f=this.op,y.call(e,f)?c.compileAsStatement.call(this,a,b,d):this.node.compileAsStatement(a,b,d)},f=["++","--","++post","--post","!","~","+","-","typeof","void","delete"],e={"++":!0,"--":!0,"++post":!0,"--post":!0,"delete":!0},d.isLarge=function(){return this.node.isLarge()},d.isSmall=function(){return this.node.isSmall()},d.isNoop=function(){var a;return null==(a=this._isNoop)?this._isNoop=!y.call(e,this.op)&&this.node.isNoop():a},d.walk=function(a){var c,d;return d=null!=(c=a(this.node))?c:this.node.walk(a),d!==this.node?b(this.pos,this.op,d):this},d.inspect=function(a){return j(a,"Unary",this.pos,this.op,this.node)},d._toJSON=function(){var a;return a=[this.op],l(this.node)&&a.push.apply(a,A(this.node.toJSON())),a},b.fromJSON=function(a,c,d,e){var f;return f=z.call(arguments,4),b(g(a,c,d),e,U(f))},b}(R),sb=c.While=function(a,b,c,d){return S(a,null,b,null,c,d)},U=c.fromJSON=function(a){var b,d;if(!a)return cb(g(0,0));if(w(a)){if(0===a.length)return cb(g(0,0));if(d=a[0],a.length<1||"string"!=typeof d)throw Error("Expected an array with a string as its first item");if(!y.call(c,d))throw Error("Unknown node type: "+a.type);return(b=c[d]).fromJSON.apply(b,A(z.call(a,1)))}if("object"==typeof a&&null!==a){if("string"!=typeof a.type)throw Error("Expected an object with a string 'type' key");if(!y.call(c,a.type))throw Error("Unknown node type: "+a.type);return c[a.type].fromJSON(a)}throw TypeError("Must provide an object or array to deserialize")}}.call(this),a.exports},b["./parser"]=function(){var a={exports:this};return function(c){"use strict";function d(a){return a}function e(a){return function(){return a}}function f(a,b,c){var d,e,f;for(null==b&&(b=[]),null==c&&(c=0),e=a.length,d=+c,0>d&&(d+=e);e>d;++d)f=a[d],b.push(Wd(f));return b}function g(a){return f(a).join("")}function h(a){var b,c,d,e,f,g,h;for(h=cb(null),b=pb(a),d=0,e=b.length;e>d;++d)if(g=b[d],"number"==typeof g)h[g]=!0;else for(f=+g[0],c=+g[1];c>=f;++f)h[f]=!0;return h}function i(a){return a.stack=Error().stack,a}function j(a,b){return i(function(c,d){return c.source.charCodeAt(d)===b?nc(+d+1,b):c.fail(a,d)})}function k(a,b){return i(function(c,d){var e;return e=c.source.charCodeAt(d),b[e]?nc(d+1,e):c.fail(a,d)})}function l(a){return"function"==typeof a.mutator&&"function"==typeof a.rule?l(a.rule):Bf(function(a){return!!a},a)}function m(a,b){var c;return c={},"function"==typeof b?Bf(function(a,d,e){return a===c?b(d,e):a},i(function(b,d){return a(b,d)||nc(d,c)})):i(function(c,d){return a(c,d)||nc(d,b)})}function n(a){return function(b,c){var d;return d=a(b,c),d?nc(c):void 0}}function o(a,b){return nc(b)}function p(a){return i(function(b,c){return a(b,c)?void 0:nc(c)})}function q(a){return i(function(b,c){return a(b,c)?void 0:r(b,c)})}function r(a,b){var c,d;return d=a.source,b>=d.length?a.fail("any",b):(c=d.charCodeAt(b),13===c&&10===d.charCodeAt(+b+1)&&(++b,c=10),nc(+b+1,c))}function s(a,b){var c,d;if(d=a.source,c=d.charCodeAt(b),13===c)10===d.charCodeAt(+b+1)&&(++b,c=10);else if(10!==c&&8232!==c&&8233!==c)return;return nc(+b+1,c)}function t(a,b){return b>=a.source.length?nc(b):void 0
}function u(a){return Zg(ih,["this",a])}function v(a,b){return a.options.noindent?Jd(a,b):nc(b)}function w(a,b){var c;return c=JSON.stringify(b),function(d,e){var f;return f=a(d,e),f&&f.value===b?f:d.fail(c,e)}}function x(a){var b;return b=cb(null),function(c){return lb.call(b,c)?b[c]:b[c]=a(c)}}function y(a,b){return a.options.noindent?void 0:nc(b)}function z(a,b){var c;return c=Vc(a,b),a.options.noindent||c.value===a.indent.peek()?c:void 0}function A(a,b){var c,d,e;if(a.options.noindent)throw Error("Can't use Advance if in noindent mode");return c=Vc(a,b),d=c.value,e=a.indent,d>e.peek()?(e.push(d),nc(b,d)):void 0}function B(a,b){var c;return c=Vc(a,b),a.indent.push(c.value),nc(b,c.value)}function C(a){return function(b,c){var d;return d=b.indent,d.push(d.peek()- -a),nc(c,0)}}function D(a,b){var c;if(c=a.indent,c.canPop())return c.pop(),nc(b);throw vg("Unexpected dedent",a,b)}function E(a){return function(b,c){var d,e,f,g;g=b.indent,e=g.count();try{return a(b,c)}finally{for(f=+e,d=+g.count();d>f;++f)g.pop()}}}function F(a){var b;return b=Yg(eg(a),eg(ei,!0)),Bf(function(a){var b,c,d,e,g;for(g=[],b=pb(a),c=0,d=b.length;d>c;++c)e=b[c],f(e,g);return g.join("")})(b)}function G(a,b,c,d){var e,f,g,h,i;if(null==d&&(d=0),0!==d%1)throw RangeError("Expected exponent to be an integer, got "+d);for(;d>0;)a+=b.charAt(0)||"0",b=b.substring(1),--d;for(;0>d;)b=a.slice(-1)+b,a=a.slice(0,-1),++d;for(h=0,e=0,f=a.length;f>e;++e)g=a.charAt(e),h=h*c+parseInt(g,c);if(b)for(i=0,f=b.length;f>i;++i)g=b.charAt(i),h+=parseInt(g,c)/Math.pow(c,i+1);return h}function H(a,b,c){var d,e;return e=F(c),d=Zg(oi,["separator",b],bh,["integer",e],["fraction",m(Zg(xf,yg,xf,["this",e]),"")],xf),Bf(function(b,c,d,e){var f,g,h,i;if(h=b.separator,g=b.integer,f=b.fraction,i=G(g,f,a),!isFinite(i))throw vg("Unable to parse number "+Lg(c.source.substring(d,e)),c,d);return c.Const(d,i)})(d)}function I(a,b,c){var d,e,f,h,i,j;for(j=[],h=[],d=pb(a),e=0,f=d.length;f>e;++e)i=d[e],"number"==typeof i?h.push(i):i instanceof Sf||(j.push(b.Const(c,g(h))),h=[],j.push(i));return h.length>0&&j.push(b.Const(c,g(h))),j}function J(a,b){var c,d,e,f,g;for(d=0,e=a.indent.peek(),f=b;e>d&&(c=jh(a,f));){if(f=c.index,g=Fe[c.value],!g)throw Error("Unexpected indent char: "+JSON.stringify(c.value));d+=+g}if(d>e)throw vg("Mixed tabs and spaces in string literal",a,f);return d===e||s(a,f)?nc(f,d):void 0}function K(a,b,c){var d,e,f,g,h,i,j,k,l;for(j=[a.first],(0===j[0].length||1===j[0].length&&""===j[0][0])&&j.shift(),g=1,d=+a.numEmptyLines;d>g;++g)j.push([""]);for(j.push.apply(j,pb(a.rest)),h=j.length,h>0&&(0===j[h-1].length||1===j[h-1].length&&""===j[h-1][0])&&(j.pop(),--h),l=[],g=0,e=j.length;e>g;++g)i=j[g],g>0&&l.push("\n"),l.push.apply(l,pb(i));for(f=l.length-2;f>=0;--f)"string"==typeof l[f]&&"string"==typeof l[f+1]&&l.splice(f,2,""+l[f]+l[f+1]);for(f=0,e=l.length;e>f;++f)k=l[f],"string"==typeof k&&(l[f]=b.Const(c,k));return l}function L(a,b){var c;return c=Zg(a,bh,["first",b],["numEmptyLines",pi(Zg(ih,["this",s]),!0)],["rest",m(E(Zg(B,["this",m(Yg(Zg(J,["this",b]),s),function(){return[]})],m(s),D)),function(){return[]})],a),Bf(function(a,b,c){var d,e,f,g,h,i;for(d=[],e=pb(K(a,b,c)),f=0,g=e.length;g>f;++f)h=e[f],h.isConstValue("")||d.push(h);return i=d,0===i.length?b.Const(c,""):1===i.length&&i[0].isConstType("string")?i[0]:b.string(c,i)})(c)}function M(a,b){var c,d,e,f,g,h;if(f=Cf(a,b),f&&(h=a.getConst(f.value))){if(a.inAst.peek())return nc(f.index,a.MacroConst(b,f.value));for(c=h.value,d=f.index;"object"==typeof c&&null!==c;){if(g=Qc(a,d),!g)throw vg("Constant '"+f.value+"' cannot appear without being accessed upon.",a,b);if(!g.value.isConst())throw vg("Constant '"+f.value+"' must only be accessed with constant keys.",a,d);if(e=g.value.constValue(),!lb.call(c,e))throw vg("Unknown key "+JSON.stringify(String(e))+" in constant.",a,d);c=c[e],d=g.index}return nc(d,a.Const(b,c))}}function N(a,b){var c;return c=M(a,b),c&&null==c.value.value?c:void 0}function O(a,b,c){var d;return d=b.getMacroByLabel("mutateFunction"),d?d.func({op:"",node:a},b,c):a}function P(a,b){var c,d,e,f,g;for(g=0,c=pb(a),d=0,e=c.length;e>d;++d)if(f=c[d],f instanceof qg&&f.spread&&(++g,g>1))throw vg("Cannot have more than one spread parameter",b,f.index);return a}function Q(a){for(var b;a.length&&(b=a[a.length-1],b instanceof Sf);)a.pop();return a}function R(a,b){function c(b,c){return function(d,e){return g.func({left:d,op:b,right:c},a,e)}}var d,e,f,g,h,i;for(d=pb(a.assignOperators()),e=d.length;e--;)if(g=d[e],i=g.rule,f=i(a,b),f&&(h=Td(a,f.index)))return nc(h.index,c(f.value,h.value))}function S(a,b){var c,d;return c=qe(a,b),c&&(d=R(a,c.index))?nc(d.index,d.value(c.value,b)):void 0}function T(a,b){var c,d,e,f,g,h,i;for(c=pb(a.allBinaryOperators()),d=c.length;d--;)if(i=c[d],g=!1,e=b,i.invertible&&(f=uf(a,b),f.value&&(g=!0),e=f.index),h=i.rule(a,e))return nc(h.index,{op:h.value,operator:i,inverted:g})}function U(a,b){return a.disallowSpaceBeforeAccess.peek()?nc(b):Id(a,b)}function V(a,b){return a.disallowSpaceBeforeAccess.peek()?nc(b):ih(a,b)}function W(a,b){var c,d,e,f,g;for(c=pb(a),d=0,e=c.length;e>d;++d)g=c[d],g instanceof Bh&&(f=g.ident,f instanceof we&&b.add(f,!0,Vh.any))}function X(a){return a.replace(/\s+/g," ")}function Y(a,b){var c,d,e,f,h,i;for(h=a.source,f=h.length,e=b,d=[];f>e&&!(yd(a,e)||Ad(a,e)||zd(a,e));++e)c=h.charCodeAt(e),13===c&&10===h.charCodeAt(e+1)&&(c=10,++e),d.push(c);return e!==b?(i=g(d),a.options.embeddedUnpretty&&(i=X(i)),nc(e,a.EmbedWrite(b,a.Const(b,i),!1))):void 0}function Z(a,b){var c,d,e,f,g;if(g=zd(a,b)){for(e=g.index,f=a.source.length;f>e;){if(d=td(a,e)){e=d.index;break}if(c=r(a,e),!c)break;if(e===c.index)throw Error("Infinite loop detected");e=c.index}return nc(e,a.Nothing(b))}}function $(a,b,c){var d,e,f,g,h,i,j,k,l;for(k=[],d=pb(a),h=0,f=d.length;f>h;++h)for(i=d[h],e=pb(i),j=0,g=e.length;g>j;++j){if(l=e[j],!(l instanceof Hf))throw TypeError("Expected lines["+h+"]["+j+"] to be a Node, got "+rb(l));l instanceof gc&&null==i.label?k.push.apply(k,pb(l.nodes)):l instanceof Sf||k.push(l)}switch(k.length){case 0:return b.Nothing(c);case 1:return k[0];default:return b.Block(c,k)}}function _(){return af({Logic:Gg(We),Expression:Qd,Assignment:S,ExpressionOrAssignment:Sd,ExpressionOrAssignmentOrBody:Td,FunctionDeclaration:Yd,Statement:ph,Body:hc,BodyNoEnd:ic,GeneratorBody:be,GeneratorBodyNoEnd:ce,End:v,Identifier:ne,SimpleAssignable:re,Parameter:mg,InvocationArguments:Le,ObjectLiteral:Lb,ArrayLiteral:Kb,DedentedBody:_c,ObjectKey:Wf,Type:Zh,NoSpace:Lf,ColonEqual:Gc},cf,mi,dg,Zg)}var ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc,$c,_c,ad,bd,cd,dd,ed,fd,gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,rd,sd,td,ud,vd,wd,xd,yd,zd,Ad,Bd,Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md,Nd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d,_d,ae,be,ce,de,ee,fe,ge,he,ie,je,ke,le,me,ne,oe,pe,qe,re,se,te,ue,ve,we,xe,ye,ze,Ae,Be,Ce,De,Ee,Fe,Ge,He,Ie,Je,Ke,Le,Me,Ne,Oe,Pe,Qe,Re,Se,Te,Ue,Ve,We,Xe,Ye,Ze,$e,_e,af,bf,cf,df,ef,ff,gf,hf,jf,kf,lf,mf,nf,of,pf,qf,rf,sf,tf,uf,vf,wf,xf,yf,zf,Af,Bf,Cf,Df,Ef,Ff,Gf,Hf,If,Jf,Kf,Lf,Mf,Nf,Of,Pf,Qf,Rf,Sf,Tf,Uf,Vf,Wf,Xf,Yf,Zf,$f,_f,ag,bg,cg,dg,eg,fg,gg,hg,ig,jg,kg,lg,mg,ng,og,pg,qg,rg,sg,tg,ug,vg,wg,xg,yg,zg,Ag,Bg,Cg,Dg,Eg,Fg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng,Og,Pg,Qg,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,_g,ah,bh,ch,dh,eh,fh,gh,hh,ih,jh,kh,lh,mh,nh,oh,ph,qh,rh,sh,th,uh,vh,wh,xh,yh,zh,Ah,Bh,Ch,Dh,Eh,Fh,Gh,Hh,Ih,Jh,Kh,Lh,Mh,Nh,Oh,Ph,Qh,Rh,Sh,Th,Uh,Vh,Wh,Xh,Yh,Zh,$h,_h,ai,bi,ci,di,ei,fi,gi,hi,ii,ji,ki,li,mi,ni,oi,pi,qi;Fb=this,ab=function(a,b){var c;if(null==a)throw TypeError("Expected parent to be an object, got "+rb(a));if(c=a[b],"function"!=typeof c)throw Error("Trying to bind child '"+String(b)+"' which is not a function");return function(){return c.apply(a,arguments)}},bb=function(a,b){var c;if(a===b)return 0;if(c=typeof a,"number"!==c&&"string"!==c)throw TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>a?-1:1},cb="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},db=function(a,b){var c;if("number"!=typeof a)throw TypeError("Expected numArgs to be a Number, got "+rb(a));if("function"!=typeof b)throw TypeError("Expected f to be a Function, got "+rb(b));return a>1?(c=function(d){var e;return d.length>=a?b.apply(this,d):e=function(){return 0===arguments.length?e:c.call(this,d.concat(nb.call(arguments)))}},c([])):b},eb=function(){function a(){function b(a,b){var f;c&&(f=c,c=null,d=a,e=b,f.length&&$g(function(){var a,b;for(b=0,a=f.length;a>b;++b)f[b]()}))}var c,d,e;return d=!1,e=null,c=[],{promise:{then:function(b,f,g){function h(){var a,c;try{a=d?f:b,"function"==typeof a?(c=a(e),c&&"function"==typeof c.then?c.then(j,l,g):j(c)):(d?l:j)(e)}catch(h){l(h)}}var i,j,k,l;return g!==!0&&(g=void 0),i=a(),k=i.promise,j=i.fulfill,l=i.reject,c?c.push(h):g?h():$g(h),k},sync:function(){var a,b;switch(b=0,a=0,this.then(function(c){return b=1,a=c},function(c){return b=2,a=c},!0),b){case 0:throw Error("Promise did not execute synchronously");case 1:return a;case 2:throw a;default:throw Error("Unknown state")}}},fulfill:function(a){b(!1,a)},reject:function(a){b(!0,a)}}}return a.fulfilled=function(b){var c;return c=a(),c.fulfill(b),c.promise},a.rejected=function(b){var c;return c=a(),c.reject(b),c.promise},a}(),fb=function(a,b){function c(c,f){var g;try{g=a[c](f)}catch(h){return eb.rejected(h)}return g.done?eb.fulfilled(g.value):g.value.then(d,e,b)}function d(a){return c("send",a)}function e(a){return c("throw",a)}if("object"!=typeof a||null===a)throw TypeError("Expected generator to be an Object, got "+rb(a));if("function"!=typeof a.send)throw TypeError("Expected generator.send to be a Function, got "+rb(a.send));if("function"!=typeof a["throw"])throw TypeError("Expected generator.throw to be a Function, got "+rb(a["throw"]));if(null==b)b=!1;else if("boolean"!=typeof b)throw TypeError("Expected allowSync to be a Boolean, got "+rb(b));return d(void 0)},gb=function(a,b){function c(){var c,f,g,h,i;for(f=e,g=a-1;g>=0;--g)i=null!=(c=arguments[g])?c:d,h=f.get(i),null==h&&(h=0===g?b.apply(this,arguments):ki(),f.set(i,h)),f=h;return f}var d,e,f;return e=ki(),d={},f=c(),f.generic=c,f},hb=function(a,b){var c;for(c in b)lb.call(b,c)&&(a[c]=b[c]);return a},ib="function"==typeof Array.prototype.indexOf?function(){var a;return a=Array.prototype.indexOf,function(b,c){return-1!==a.call(c,b)}}():function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},jb="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),kb=function(a){if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+rb(a));return a.displayName||a.name||""},lb=Object.prototype.hasOwnProperty,mb=function(a,b){var c;if(null==b)b=!1;else if("boolean"!=typeof b)throw TypeError("Expected allowSync to be a Boolean, got "+rb(b));return"function"==typeof a?(c=function(){return fb(a.apply(this,arguments))},c.sync=function(){return fb(a.apply(this,arguments),!0).sync()},c):fb(a,b)},nb=Array.prototype.slice,ob=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw TypeError("Expected a string or number, got "+rb(a))},pb=function(a){if(null==a)throw TypeError("Expected an object, got "+rb(a));if(jb(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return nb.call(a);throw TypeError("Expected an object with a length property, got "+rb(a))},qb=function(a,b,c){var d;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+rb(a));return d=eb(),a.apply(b,pb(c).concat([function(a,b){null!=a?d.reject(a):d.fulfill(b)}])),d.promise},rb=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),$g="function"==typeof c.setImmediate?c.setImmediate:"undefined"!=typeof process&&"function"==typeof process.nextTick?function(){var a;return a=process.nextTick,function(b){var c;if("function"!=typeof b)throw TypeError("Expected func to be a Function, got "+rb(b));return c=nb.call(arguments,1),c.length?a(function(){b.apply(void 0,pb(c))}):a(b)}}():function(a){var b;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+rb(a));return b=nb.call(arguments,1),b.length?setTimeout(function(){a.apply(void 0,pb(b))},0):setTimeout(a,0)},ki="function"==typeof c.WeakMap?c.WeakMap:ki=function(){function a(){var b;return b=this instanceof a?this:cb(e),b._keys=[],b._values=[],b._chilly=[],b._uid=c(),b}function b(){return Math.random().toString(36).slice(2)}function c(){return ob(b())+"-"+ob((new Date).getTime())+"-"+ob(b())+"-"+ob(b())}function d(a){var b,c;c=this._uid,lb.call(a,c)&&(b=this._chilly,-1===b.indexOf(a)&&(b.push(a),this._keys.push(a),this._values.push(a[c])))}var e,f,g;return e=a.prototype,a.displayName="WeakMap",g=Object.isExtensible||function(){return!0},e.get=function(a){var b,c;if(Object(a)!==a)throw TypeError("Invalid value used as weak map key");return g(a)?lb.call(a,b=this._uid)?a[b]:void 0:(d.call(this,a),c=this._keys.indexOf(a),-1===c?void 0:this._values[c])},e.has=function(a){if(Object(a)!==a)throw TypeError("Invalid value used as weak map key");return g(a)?lb.call(a,this._uid):(d.call(this,a),-1!==this._keys.indexOf(a))},f="function"==typeof Object.defineProperty?Object.defineProperty:function(a,b,c){a[b]=c.value},e.set=function(a,b){var c,e;if(Object(a)!==a)throw TypeError("Invalid value used as weak map key");g(a)?f(a,this._uid,{configurable:!0,writable:!0,enumerable:!1,value:b}):(d.call(this,a),e=this._keys,c=e.indexOf(a),-1===c&&(c=e.length,e[c]=a),this._values[c]=b)},e["delete"]=function(a){var b,c;if(Object(a)!==a)throw TypeError("Invalid value used as weak map key");g(a)?delete a[this._uid]:(d.call(this,a),c=this._keys,b=c.indexOf(a),-1!==b&&(c.splice(b,1),this._values.splice(b,1)))},a}(),Hf=b("./parser-nodes"),Ug=b("./parser-scope"),$e=b("./parser-macrocontext"),af=b("./parser-macroholder"),Vh=b("./types"),sh=b("./utils").stringRepeat,Ib=b("./parser-utils").addParamToScope,Bb=b("./utils"),Lg=Bb.quote,gi=Bb.unique,ee=Bb.getPackageVersion,Hb=Hf.Access,Gb=Hf.AccessMulti,Mb=Hf.Args,Pb=Hf.Array,Tb=Hf.Assign,cc=Hf.Binary,gc=Hf.Block,pc=Hf.Break,rc=Hf.Call,Mc=Hf.Comment,Rc=Hf.Const,Tc=Hf.Continue,Yc=Hf.Debugger,fd=Hf.Def,Fd=Hf.EmbedWrite,Od=Hf.Eval,Vd=Hf.For,Ud=Hf.ForIn,_d=Hf.Function,we=Hf.Ident,xe=Hf.If,Xe=Hf.MacroAccess,Ze=Hf.MacroConst,Sf=Hf.Nothing,Zf=Hf.Object,qg=Hf.Param,Og=Hf.Regexp,Qg=Hf.Return,Sg=Hf.Root,lh=Hf.Spread,uh=Hf.Super,vh=Hf.Switch,zh=Hf.SyntaxChoice,Ah=Hf.SyntaxMany,Bh=Hf.SyntaxParam,Ch=Hf.SyntaxSequence,Eh=Hf.This,Ih=Hf.Throw,Jh=Hf.Tmp,Kh=Hf.TmpWrapper,Th=Hf.TryCatch,Uh=Hf.TryFinally,Wh=Hf.TypeFunction,Xh=Hf.TypeGeneric,Yh=Hf.TypeObject,$h=Hf.TypeUnion,_h=Hf.Unary,ji=Hf.Var,ni=Hf.Yield,vg=function(a){function b(c,e,f){var g,h,i;return g=this instanceof b?this:cb(d),null==c&&(c=""),g.message=c,null==e&&(e=null),null==f&&(f=0),g.index=f,e?(g.source=e.source,g.filename=e.options.filename,i=e.getPosition(f),g.line=i.line,g.column=i.column,g.message=c+(" at "+(g.filename?g.filename+":":"")+g.line+":"+g.column)):(g.line=0,g.column=0),h=a.call(g,g.message),"function"==typeof a.captureStackTrace?a.captureStackTrace(g,b):"stack"in h&&(g.stack=h.stack),g}var c,d;return c=a.prototype,d=b.prototype=cb(c),d.constructor=b,b.displayName="ParserError","function"==typeof a.extended&&a.extended(b),d.name="ParserError",b}(Error),_e=function(a){function b(c,e,f){var g,h,i,j;return g=this instanceof b?this:cb(d),null==c&&(c=""),null==e&&(e=null),null==f&&(f=0),g.index=f,e?(g.source=e.source,g.filename=e.options.filename,j=e.getPosition(f),g.line=j.line,g.column=j.column,i=[],c instanceof a?("Error"!==rb(c)&&(i.push(rb(c)),i.push(": ")),i.push(String(c.message))):i.push(String(c)),i.push(" at "),g.filename&&(i.push(String(g.filename)),i.push(":")),g._message=i.join(""),i.push(g.line),i.push(":"),i.push(g.column),g.message=i.join("")):(g.line=0,g.column=0,g._message="",g.message=""),h=a.call(g,g.message),"function"==typeof a.captureStackTrace?a.captureStackTrace(g,b):"stack"in h&&(g.stack=h.stack),c instanceof a&&(g.inner=c),g}var c,d;return c=a.prototype,d=b.prototype=cb(c),d.constructor=b,b.displayName="MacroError","function"==typeof a.extended&&a.extended(b),d.name="MacroError",d.setPosition=function(){},b}(Error),nc=function(){function a(c,d){var e;if(e=this instanceof a?this:cb(b),e.index=c,e.value=d,0!==c%1||0>c)throw RangeError("Expected index to be a non-negative integer, got "+c);return e}var b;return b=a.prototype,a.displayName="Box",a}(),qc=function(){var a;return a=-1,function(b){function c(a,c){var e,f,g,h,i,j,k,l;return g=a.cache,h=a.indent.peek(),i=null!=(e=g[h])?e:g[h]=[],j=null!=(e=i[f=c%16])?e:i[f]=[],k=j[d],k&&k.start===c?k.result:(l=b(a,c),j[d]={start:c,result:l},l)}var d;return d=++a,c}}(),Wd=function(){var a;return a=String.fromCharCode,function(b){return b>65535?""+a((b-65536>>10)+55296)+a((b-65536)%1024+56320):a(b)}}(),lf=gb(1,function(){return function(a,b){return function(c){return function(d,e){var f;f=d[a],f.push(b);try{return c(d,e)}finally{f.pop()}}}}}),Bf=db(2,function(a,b){function c(c,d){var e;return e=b(c,d),e?nc(e.index,a(e.value,c,d,e.index)):void 0}return a===d?b:("function"!=typeof a&&(a=e(a)),c.rule=b,c.mutator=a,i(c))}),Af=gb(1,function(){return function(a,b,c,e){var f;if(null==b&&(b=0),null==c&&(c=1/0),null==e&&(e=!1),0!==b%1||0>b)throw RangeError("Expected minimum to be a non-negative integer, got "+b);if(c!==1/0&&0!==c%1||b>c)throw RangeError("Expected maximum to be Infinity or an integer of at least "+b+", got "+c);return f=d,e?i(function(d,e){var f,g,h;for(f=0;c>f;){if(g=a(d,e),!g){if(b>f)return;break}if(++f,h=g.index,h===e)throw Error("Infinite loop detected");e=h}return nc(e,f)}):f===d?i(function(d,e){var f,g,h,i;for(i=[],f=0;c>f;){if(g=a(d,e),!g){if(b>f)return;break}if(i[f]=g.value,++f,h=g.index,h===e)throw Error("Infinite loop detected");e=h}return nc(e,i)}):i(Bf(function(a,b){var c,d,e,g,h;for(c=[],d=pb(a),e=0,g=d.length;g>e;++e)h=d[e],c.push(f(h.value,b,h.startIndex,h.endIndex));return c},function(d,e){var f,g,h,i;for(i=[],f=0;c>f;){if(g=a(d,e),!g){if(b>f)return;break}if(h=g.index,i[f]={startIndex:e,endIndex:h,value:g.value},h===e)throw Error("Infinite loop detected");e=h,++f}return nc(e,i)}))}}),pi=gb(1,function(a){return function(b,c){return Af.generic(a)(b,0,1/0,c)}}),eg=gb(1,function(a){return function(b,c){return Af.generic(a)(b,1,1/0,c)}}),dg=gb(1,function(){return function(){var a,b,c,d,e,f,g,h,j,k;switch(j=nb.call(arguments),j.length){case 0:throw Error("Expected rules to be non-empty");case 1:return j[0];default:for(f=[],b=0,d=j.length;d>b;++b)if(h=j[b],h.oneOf)for(a=pb(h.oneOf),c=0,e=a.length;e>c;++c)k=a[c],f.push(k);else f.push(h);return g=function(a,b){var c,d,e,g;for(d=0,c=f.length;c>d;++d)if(g=f[d],e=g(a,b))return e},g.oneOf=f,i(g)}}}),qi=gb(1,function(a){return function(){var b;return b=nb.call(arguments),pi.generic(a)(dg.generic(a).apply(void 0,pb(b)))}}),fg=gb(1,function(a){return function(){var b;return b=nb.call(arguments),eg.generic(a)(dg.generic(a).apply(void 0,pb(b)))}}),bh={},Zg=gb(1,function(){return function(){var a,b,c,d,e,f,g,h,j,k,l,m,n,o,p;if(f=nb.call(arguments),0===f.length)throw Error("Expected items to be non-empty");if(1===f.length)if(jb(f[0])){if("this"===f[0][0])return f[0][1]}else if("function"==typeof f[0])return m=f[0],function(a,b){var c;return(c=m(a,b))?nc(c.index):void 0};for(n=[],j=[],h=[],k=[],p=-1,c=!1,o=1/0,b=!1,d=0,a=f.length;a>d;++d){if(e=f[d],g=void 0,m=void 0,jb(e)){if(2!==e.length)throw Error("Found an array with "+e.length+" length at index #"+d);if("string"!=typeof e[0])throw TypeError("Array in index #"+d+" has an improper key: "+rb(e[0]));if("function"!=typeof e[1])throw TypeError("Array in index #"+d+" has an improper rule: "+rb(e[1]));if(g=e[0],ib(g,h))throw Error("Can only have one "+JSON.stringify(g)+" key in sequential");h.push(g),m=e[1],"this"===g?p=n.length:c=!0}else{if("function"!=typeof e){if(e===bh){if(o!==1/0)throw Error("Can only have one SHORT_CIRCUIT per sequential");o=d;continue}throw TypeError("Found a non-array, non-function in index #"+d+": "+rb(e))}m=e}k.push(null),n.push(m),j.push(g)}if(-1!==p){if(c)throw Error("Cannot specify both the 'this' key and another key");return b?(l=k[p],i(Bf(function(a,b){return l(a.value,b,a.startIndex,a.endIndex)},function(a,b){var c,d,e,f,g,h;for(h=0,d=0,c=n.length;c>d;++d){if(g=n[d],e=g(a,b),!e){if(o>d)return;throw bh}d===p&&(f={value:e.value,startIndex:b,endIndex:e.index}),b=e.index}return nc(b,f)}))):i(function(a,b){var c,d,e,f,g;for(d=0,c=n.length;c>d;++d){if(g=n[d],e=g(a,b),!e){if(o>d)return;throw bh}b=e.index,d===p&&(f=e.value)}return nc(b,f)})}if(c)return b?i(Bf(function(a,b){var c,d,e,f,g,i;for(i={},d=0,c=h.length;c>d;++d)f=h[d],f&&(e=a[f],g=k[d],i[f]=g?g(e.value,b,e.startIndex,e.endIndex):e.value);return i},function(a,b){var c,d,e,f,g,h,i;for(h={},e={},d=0,c=n.length;c>d;++d){if(i=n[d],f=i(a,b),!f){if(o>d)return;throw bh}g=j[d],g&&(h[g]={value:f.value,startIndex:b,endIndex:f.index}),b=f.index}return nc(b,h)})):i(function(a,b){var c,d,e,f,g,h;for(h={},c=0,f=n.length;f>c;++c){if(g=n[c],d=g(a,b),!d){if(o>c)return;throw bh}b=d.index,e=j[c],e&&(h[e]=d.value)}return nc(b,h)});if(b)throw Error("Cannot use a mutator on a sequential without keys");return i(function(a,b){var c,d,e,f;for(d=0,c=n.length;c>d;++d){if(f=n[d],e=f(a,b),!e){if(o>d)return;throw bh}b=e.index}return nc(b)})}}),Oc=gb(1,function(){return function(a,b){return i(function(c,d){var e,f;return e=a(c,d),e&&(f=b(c,e.index))?nc(f.index,[e.value].concat(f.value)):void 0})}}),Nc=gb(1,function(){return function(a,b){return i(function(c,d){var e,f;return e=a(c,d),e&&(f=b(c,e.index))?nc(f.index,e.value.concat(f.value)):void 0})}}),Yg=gb(1,function(){return function(a,b,c){return null==b&&(b=o),null==c&&(c=a),i(function(d,e){var f,g,h,i,j,k,l;if(g=a(d,e)){for(f=g.index,k=[g.value],h=0;(l=b(d,f),l)&&(i=c(d,l.index),i);++h){if(j=i.index,j===f)throw Error("Infinite loop detected");f=j,k.push(i.value)}return nc(f,k)}})}}),Af.generic=function(){return Af},dg.generic=function(){return dg},Zg.generic=function(){return Zg},Oc.generic=function(){return Oc},Nc.generic=function(){return Nc},Yg.generic=function(){return Yg},jh=k("space",h([9,11,12,32,160,5760,6158,[8192,8202],8239,8287,12288,65263])),kh=qc(pi(jh,!0)),oi=j('"0"',48),Zc=k("[0-9]",h([[48,57]])),yg=j('"."',46),Dc=j('":"',58),ld=qc((Bb=Zg(Dc,Dc),Bf("::")(Bb))),Bg=j('"|"',124),Kd=j('"="',61),zf=j('"-"',45),Cg=j('"+"',43),Dg=k("[+\\-]",h([43,45])),Se=k("letter",h([[65,90],[97,122],170,181,186,[192,214],[216,246],[248,705],[710,721],[736,740],748,750,[880,884],886,887,[890,893],902,[904,906],908,[910,929],[931,1013],[1015,1153],[1162,1317],[1329,1366],1369,[1377,1415],[1488,1514],[1520,1522],[1569,1610],1646,1647,[1649,1747],1749,1765,1766,1774,1775,[1786,1788],1791,1808,[1810,1839],[1869,1957],1969,[1994,2026],2036,2037,2042,[2048,2069],2074,2084,2088,[2308,2361],2365,2384,[2392,2401],2417,2418,[2425,2431],[2437,2444],2447,2448,[2451,2472],[2474,2480],2482,[2486,2489],2493,2510,2524,2525,[2527,2529],2544,2545,[2565,2570],2575,2576,[2579,2600],[2602,2608],2610,2611,2613,2614,2616,2617,[2649,2652],2654,[2674,2676],[2693,2701],[2703,2705],[2707,2728],[2730,2736],2738,2739,[2741,2745],2749,2768,2784,2785,[2821,2828],2831,2832,[2835,2856],[2858,2864],2866,2867,[2869,2873],2877,2908,2909,[2911,2913],2929,2947,[2949,2954],[2958,2960],[2962,2965],2969,2970,2972,2974,2975,2979,2980,[2984,2986],[2990,3001],3024,[3077,3084],[3086,3088],[3090,3112],[3114,3123],[3125,3129],3133,3160,3161,3168,3169,[3205,3212],[3214,3216],[3218,3240],[3242,3251],[3253,3257],3261,3294,3296,3297,[3333,3340],[3342,3344],[3346,3368],[3370,3385],3389,3424,3425,[3450,3455],[3461,3478],[3482,3505],[3507,3515],3517,[3520,3526],[3585,3632],3634,3635,[3648,3654],3713,3714,3716,3719,3720,3722,3725,[3732,3735],[3737,3743],[3745,3747],3749,3751,3754,3755,[3757,3760],3762,3763,3773,[3776,3780],3782,3804,3805,3840,[3904,3911],[3913,3948],[3976,3979],[4096,4138],4159,[4176,4181],[4186,4189],4193,4197,4198,[4206,4208],[4213,4225],4238,[4256,4293],[4304,4346],4348,[4352,4680],[4682,4685],[4688,4694],4696,[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],4800,[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],[4992,5007],[5024,5108],[5121,5740],[5743,5759],[5761,5786],[5792,5866],[5888,5900],[5902,5905],[5920,5937],[5952,5969],[5984,5996],[5998,6e3],[6016,6067],6103,6108,[6176,6263],[6272,6312],6314,[6320,6389],[6400,6428],[6480,6509],[6512,6516],[6528,6571],[6593,6599],[6656,6678],[6688,6740],6823,[6917,6963],[6981,6987],[7043,7072],7086,7087,[7168,7203],[7245,7247],[7258,7293],[7401,7404],[7406,7409],[7424,7615],[7680,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8124],8126,[8130,8132],[8134,8140],[8144,8147],[8150,8155],[8160,8172],[8178,8180],[8182,8188],8305,8319,[8336,8340],8450,8455,[8458,8467],8469,[8473,8477],8484,8486,8488,[8490,8493],[8495,8505],[8508,8511],[8517,8521],8526,8579,8580,[11264,11310],[11312,11358],[11360,11492],[11499,11502],[11520,11557],[11568,11621],11631,[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],11823,12293,12294,[12337,12341],12347,12348,[12353,12438],[12445,12447],[12449,12538],[12540,12543],[12549,12589],[12593,12686],[12704,12727],[12784,12799],[13312,19893],[19968,40907],[40960,42124],[42192,42237],[42240,42508],[42512,42527],42538,42539,[42560,42591],[42594,42606],[42623,42647],[42656,42725],[42775,42783],[42786,42888],42891,42892,[43003,43009],[43011,43013],[43015,43018],[43020,43042],[43072,43123],[43138,43187],[43250,43255],43259,[43274,43301],[43312,43334],[43360,43388],[43396,43442],43471,[43520,43560],[43584,43586],[43588,43595],[43616,43638],43642,[43648,43695],43697,43701,43702,[43705,43709],43712,43714,[43739,43741],[43968,44002],[44032,55203],[55216,55238],[55243,55291],[63744,64045],[64048,64109],[64112,64217],[64256,64262],[64275,64279],64285,[64287,64296],[64298,64310],[64312,64316],64318,64320,64321,64323,64324,[64326,64433],[64467,64829],[64848,64911],[64914,64967],[65008,65019],[65136,65140],[65142,65262],[65264,65276],[65313,65338],[65345,65370],[65382,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500]])),Uf=k("number",h([[48,57],178,179,185,[188,190],[1632,1641],[1776,1785],[1984,1993],[2406,2415],[2534,2543],[2548,2553],[2662,2671],[2790,2799],[2918,2927],[3046,3058],[3174,3183],[3192,3198],[3302,3311],[3430,3445],[3664,3673],[3792,3801],[3872,3891],[4160,4169],[4240,4249],[4969,4988],[5870,5872],[6112,6121],[6128,6137],[6160,6169],[6470,6479],[6608,6618],[6784,6793],[6800,6809],[6992,7001],[7088,7097],[7232,7241],[7248,7257],8304,[8308,8313],[8320,8329],[8528,8578],[8581,8585],[9312,9371],[9450,9471],[10102,10131],11517,12295,[12321,12329],[12344,12346],[12690,12693],[12832,12841],[12881,12895],[12928,12937],[12977,12991],[42528,42537],[42726,42735],[43056,43061],[43216,43225],[43264,43273],[43472,43481],[43600,43609],[44016,44025],[65296,65305]])),ei=j('"_"',95),jd=j('"$"',36),Yb=j('"@"',64),je=j('"#"',35),xg=j('"%"',37),Md=j('"="',61),yh=k("symbolic",h([33,35,37,38,42,43,45,47,[60,63],92,94,96,124,126,127,[128,159],[161,169],[171,177],180,[182,184],187,191,215,247,[706,709],[722,735],[741,747],749,[751,879],885,888,889,[894,901],903,907,909,930,1014,[1154,1161],[1318,1328],1367,1368,[1370,1376],[1416,1487],[1515,1519],[1523,1568],[1611,1631],[1642,1645],1648,1748,[1750,1764],[1767,1773],1789,1790,[1792,1807],1809,[1840,1868],[1958,1968],[1970,1983],[2027,2035],[2038,2041],[2043,2047],[2070,2073],[2075,2083],[2085,2087],[2089,2307],[2362,2364],[2366,2383],[2385,2391],[2402,2405],2416,[2419,2424],[2432,2436],2445,2446,2449,2450,2473,2481,[2483,2485],[2490,2492],[2494,2509],[2511,2523],2526,[2530,2533],2546,2547,[2554,2564],[2571,2574],2577,2578,2601,2609,2612,2615,[2618,2648],2653,[2655,2661],2672,2673,[2677,2692],2702,2706,2729,2737,2740,[2746,2748],[2750,2767],[2769,2783],[2786,2789],[2800,2820],2829,2830,2833,2834,2857,2865,2868,[2874,2876],[2878,2907],2910,[2914,2917],2928,[2930,2946],2948,[2955,2957],2961,[2966,2968],2971,2973,[2976,2978],[2981,2983],[2987,2989],[3002,3023],[3025,3045],[3059,3076],3085,3089,3113,3124,[3130,3132],[3134,3159],[3162,3167],[3170,3173],[3184,3191],[3199,3204],3213,3217,3241,3252,[3258,3260],[3262,3293],3295,[3298,3301],[3312,3332],3341,3345,3369,[3386,3388],[3390,3423],[3426,3429],[3446,3449],[3456,3460],[3479,3481],3506,3516,3518,3519,[3527,3584],3633,[3636,3647],[3655,3663],[3674,3712],3715,3717,3718,3721,3723,3724,[3726,3731],3736,3744,3748,3750,3752,3753,3756,3761,[3764,3772],3774,3775,3781,[3783,3791],3802,3803,[3806,3839],[3841,3871],[3892,3903],3912,[3949,3975],[3980,4095],[4139,4158],[4170,4175],[4182,4185],[4190,4192],[4194,4196],[4199,4205],[4209,4212],[4226,4237],4239,[4250,4255],[4294,4303],4347,[4349,4351],4681,4686,4687,4695,4697,4702,4703,4745,4750,4751,4785,4790,4791,4799,4801,4806,4807,4823,4881,4886,4887,[4955,4968],[4989,4991],[5008,5023],[5109,5120],5741,5742,[5787,5791],[5867,5869],[5873,5887],5901,[5906,5919],[5938,5951],[5970,5983],5997,[6001,6015],[6068,6102],[6104,6107],[6109,6111],[6122,6127],[6138,6157],6159,[6170,6175],[6264,6271],6313,[6315,6319],[6390,6399],[6429,6469],6510,6511,[6517,6527],[6572,6592],[6600,6607],[6619,6655],[6679,6687],[6741,6783],[6794,6799],[6810,6822],[6824,6916],[6964,6980],[6988,6991],[7002,7042],[7073,7085],[7098,7167],[7204,7231],[7242,7244],[7294,7400],7405,[7410,7423],[7616,7679],7958,7959,7966,7967,8006,8007,8014,8015,8024,8026,8028,8030,8062,8063,8117,8125,[8127,8129],8133,[8141,8143],8148,8149,[8156,8159],[8173,8177],8181,[8189,8191],[8203,8231],[8234,8238],[8240,8286],[8288,8303],8306,8307,[8314,8318],[8330,8335],[8341,8449],[8451,8454],8456,8457,8468,[8470,8472],[8478,8483],8485,8487,8489,8494,8506,8507,[8512,8516],[8522,8525],8527,[8586,9311],[9372,9449],[9472,10101],[10132,11263],11311,11359,[11493,11498],[11503,11516],11518,11519,[11558,11567],[11622,11630],[11632,11647],[11671,11679],11687,11695,11703,11711,11719,11727,11735,[11743,11822],[11824,12287],[12289,12292],[12296,12320],[12330,12336],12342,12343,[12349,12352],[12439,12444],12448,12539,[12544,12548],[12590,12592],[12687,12689],[12694,12703],[12728,12783],[12800,12831],[12842,12880],[12896,12927],[12938,12976],[12992,13311],[19894,19967],[40908,40959],[42125,42191],42238,42239,[42509,42511],[42540,42559],42592,42593,[42607,42622],[42648,42655],[42736,42774],42784,42785,42889,42890,[42893,43002],43010,43014,43019,[43043,43055],[43062,43071],[43124,43137],[43188,43215],[43226,43249],[43256,43258],[43260,43263],[43302,43311],[43335,43359],[43389,43395],[43443,43470],[43482,43519],[43561,43583],43587,[43596,43599],[43610,43615],[43639,43641],[43643,43647],43696,[43698,43700],43703,43704,43710,43711,43713,[43715,43738],[43742,43967],[44003,44015],[44026,44031],[55204,55215],[55239,55242],[55292,63743],64046,64047,64110,64111,[64218,64255],[64263,64274],[64280,64284],64286,64297,64311,64317,64319,64322,64325,[64434,64466],[64830,64847],64912,64913,[64968,65007],[65020,65135],65141,[65277,65295],[65306,65312],[65339,65344],[65371,65381],[65471,65473],65480,65481,65488,65489,65496,65497,[65501,65535]])),md=j("'\"'",34),dh=j('"\'"',39),Mh=qc(Af(md,3,3,!0)),Qh=qc(Af(dh,3,3,!0)),Wg=j('";"',59),Vb=j('"*"',42),sc=j('"^"',94),kg=j('"["',91),hg=j('"{"',123),yc=j('"}"',125),Zb=j('"\\\\"',92),Jc=j('","',44),wc=dg(s,t,function(a,b){return sd(a,b)||ud(a,b)}),sf=qc(function(){function a(a,b){var c,d,e;if(e=a.source,47===e.charCodeAt(b)&&47===e.charCodeAt(+b+1))for(d=e.length,b-=-2;;++b)if(b>=d||13===(c=e.charCodeAt(b))||10===c||8232===c||8233===c)return nc(b)
}function b(a,b){var c,d,e;if(d=a.source,e=b,47===d.charCodeAt(b)&&42===d.charCodeAt(+b+1)&&33!==d.charCodeAt(+b+2))for(c=d.length,b-=-2;;++b){if(b>=c)throw vg("Multi-line comment never ends",a,e);if(42===d.charCodeAt(b)&&47===d.charCodeAt(+b+1))return ih(a,+b+2)}}return m(dg(a,b))}()),ih=qc(Zg(kh,sf)),Lf=qc(p(jh)),Gd=qc(u(s)),Hd=qc(pi(Gd,!0)),gh=qc(eg(Gd,!0)),Id=Zg(Hd,ih),Mf=p(Gd),ig=qc(u(j('"("',40))),Ac=qc(u(j('")"',41))),jg=qc(u(kg)),Bc=qc(u(j('"]"',93))),gg=qc(u(hg)),xc=qc(u(yc)),Ld=u(Md),wg=qc(u(xg)),id=qc(u(jd)),Ic=qc(u(Jc)),qf=qc(m(Ic)),Kc=dg(Zg(["this",Ic],Hd),gh),rf=qc(m(Kc)),Db=Zg(gh,z),hh=qc(function(a,b){return a.options.noindent?Hd(a,b):Db(a,b)}),Lc=qc(dg(Zg(Ic,m(hh)),hh)),Pd=qc(j('"!"',33)),tf=qc(m(Pd)),pf=qc(m(Yb)),Cc=qc(Zg(ih,["this",Dc],p(Dc))),Hc=qc(Zg(Cc,ih,["this",s])),Nf=qc(p(Cc)),Of=qc(function(a,b){var c;if(c=a.options,c.noindent){if(Hc(a,b))return nc(b);if(c.embedded&&(Ec(a,b)||Fc(a,b)))return nc(b)}return Nf(a,b)}),Gf=qc(dg(Se,ei,jd)),Df=qc(dg(Gf,Uf)),Ff=qc(eg(Df)),Rf=qc(function(a,b){return nc(b,a.Nothing(b))}),Qd=function(a,b){return Qd(a,b)},ph=function(a,b){return ph(a,b)},hc=function(a,b){return hc(a,b)},ic=function(a,b){return ic(a,b)},We=function(a,b){return We(a,b)},zb=qc((Bb=Yg(Oc(Gf,pi(Df)),zf,Ff),Bf(function(a){var b,c,d,e,g;for(g=f(a[0]),b=pb(a),c=1,d=b.length;d>c;++c)e=b[c],g.push(Wd(e[0]).toUpperCase()),f(e,g,1);return g.join("")})(Bb))),Cf=qc(u(zb)),Eb=qc((Bb=eg(yh),Bf(g)(Bb))),wh=qc(u(Eb)),Gc=qc(u((Bb=Zg(Dc,Md),Bf(":=")(Bb)))),Ef=qc(u(dg((Bb=u(fg(zb,Eb)),Bf(function(a){return a.join("")})(Bb)),Gc))),bf=qc(u(Zg(["this",Ef],Of))),df=Yg.generic(String)(bf,Ic),ii=qc(function(a,b){var c,d,e;if(d=bf(a,b),d&&(c=a.getMacroByName(d.value))){if(e=c(a,b),!e)throw bh;return e}}),li=x(function(a){return w(Cf,a)}),xh=x(function(a){return w(wh,a)}),cf=x(function(a){return w(bf,a)}),mi=x(function(a){var b,c,d,e,f,g;for(g=[ih],b=pb(a.split(/([a-z]+)/gi)),e=0,c=b.length;c>e;++e)f=b[e],f&&g.push(w(0===e%2?Eb:zb,f));return d=Zg.apply(void 0,pb(g)),Bf(a)(d)}),Ab=cb(null),Ab[9]=4,Ab[32]=1,Fe=Ab,Bb=pi(jh),Vc=Bf(function(a){var b,c,d,e,f;for(e=0,b=pb(a),c=b.length;c--;){if(d=b[c],f=Fe[d],!f)throw Error("Unexpected indent char: "+JSON.stringify(d));e+=+f}return e})(Bb),Dh=qc((Bb=li("this"),Bf(function(a,b,c){return b.This(c)})(Bb))),Hh=qc((Bb=u(Yb),Bf(function(a,b,c){return b.This(c)})(Bb))),Nb=qc((Bb=li("arguments"),Bf(function(a,b,c){return b.Args(c)})(Bb))),Fh=qc(dg.generic(Eh)(Dh,Hh)),Gh=dg.generic(Eh)(Zg(["this",Dh],yg),Zg(["this",Hh],m(yg))),fe=function(){var a,b;return a=["as","AST","arguments","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","eval","export","extends","false","finally","for","function","if","import","Infinity","instanceof","in","let","macro","mutable","NaN","new","not","null","package","private","protected","public","return","static","super","switch","then","this","throw","true","try","typeof","undefined","var","void","while","with","yield"],b=pb(a).concat(["end"]).sort(),function(c){return c&&c.noindent?b:a}}(),nh=qc(u((Bb=Zg(yg,yg,yg),Bf("...")(Bb)))),wf=qc(m(nh)),mh=qc((Bb=Zg(["spread",wf],["node",Qd]),Bf(function(a,b,c){var d,e;return e=a.spread,d=a.node,"..."===e?b.Spread(c,d):d})(Bb))),Jb=lf.generic(Boolean)("disallowSpaceBeforeAccess",!1),zc=qc(Zg(Lf,ig,ih,["this",Jb(Nc.generic(Hf)(m(Zg(["this",Yg.generic(Hf)(mh,Ic)],qf),function(){return[]}),m(E(Zg.generic(Array)(gh,B,["this",m(Zg(z,["this",Yg.generic(Hf)(mh,Lc)]),function(){return[]})],Hd,rf,D)),function(){return[]})))],Ac)),hd=lf.generic(Boolean)("disallowSpaceBeforeAccess",!0),ai=qc(hd(Zg(dg(Zg(jh,ih),n(s)),["this",Nc.generic(Hf)(Yg.generic(Hf)(mh,Ic),dg.generic(Array)(Zg(y,Ic,gh,["this",E(Zg(A,z,["this",Yg.generic(Hf)(mh,Lc)],qf,D))]),Bf(function(){return[]})(qf)))]))),Le=qc(dg(zc,ai)),ne=qc(dg((Bb=Zg(function(a,b){return a.inAst.peek()?nc(b):void 0},id,Lf,["this",Le]),Bf(function(a,b,c){return b.Call(c,b.Ident(c,"$"),a)})(Bb)),function(a,b){var c;return c=Cf(a,b),!c||ib(c.value,fe(a.options))||a.hasMacroOrOperator(c.value||a.scope.peek().hasConst(c.value))?a.fail("identifier",b):nc(c.index,a.Ident(b,c.value))})),xf=qc(pi(ei,!0)),$c=qc(function(){var a,b,c;return c=F(Zc),a=Zg(["integer",c],["fraction",m(Zg(xf,yg,xf,["this",c]),"")],["exponent",m((b=Zg(k("[Ee]",h([69,101])),["sign",m(Dg)],["digits",c]),Bf(function(a){var b,c,d;return c=a.e,d=a.sign,b=a.digits,(d?Wd(d):"")+b})(b)),"")],m(Zg(ei,m(Ff)))),Bf(function(a,b,c,d){var e,f,g,h;if(g=a.integer,f=a.fraction,e=a.exponent,h=G(g,f,10,e?parseInt(e,10):0),!isFinite(h))throw vg("Unable to parse number "+Lg(b.source.substring(c,d)),b,c);return b.Const(c,h)})(a)}()),ke=k("[0-9A-Fa-f]",h([[48,57],[65,70],[97,102]])),me=qc(H(16,k("[Xx]",h([88,120])),ke)),bg=k("[0-7]",h([[48,55]])),cg=qc(H(8,k("[Oo]",h([79,111])),ke)),bc=k("[01]",h([48,49])),dc=qc(H(2,k("[Bb]",h([66,98])),ke)),Mg=qc(function(){function a(a){var c,d,e,f,g,h,i;if(null==(d=b[a])){switch(a){case 2:e=bc;break;case 8:e=bg;break;case 10:e=Zc;break;case 16:e=ke;break;default:for(i=cb(null),f=0,c=a>10?+a:10;c>f;++f)i[f+48]=!0;for(f=0,c=(a>36?+a:36)-10;c>f;++f)i[f+65]=!0,i[f+97]=!0;h=["[0-"],h.push(String.fromCharCode((a>9?+a:9)+48)),a>=10&&(g=(a>36?+a:36)-10,h.push("A-"),h.push(String.fromCharCode(g+65)),h.push("a-"),h.push(String.fromCharCode(g+97))),h.push("]"),e=k(h.join(""),i)}return b[a]=F(e)}return d}var b,c,d;return b=[],d=Af(Zc,1,2),c=k("[Rr]",h([82,114])),function(b,e){var f,h,i,j,k,l,m,n,o,p,q;if(l=d(b,e),l&&(n=g(l.value),o=c(b,l.index))){if(m=parseInt(n,10),!isFinite(m))throw vg("Unable to parse radix "+Lg(n),b,e);if(2>m)throw vg("Radix must be at least 2, got "+m,b,e);if(m>36)throw vg("Radix must be at most 36, got "+m,b,e);if(h=a(m),j=h(b,o.index),!j)throw b.fail("integer after radix",o.index),bh;if(f=xf(b,j.index).index,k=yg(b,f),k&&(i=h(b,xf(b,k.index).index),i&&(q=G(j.value,i.value,m),f=i.index)),null==q&&(q=G(j.value,"",m)),!isFinite(q))throw vg("Unable to parse number "+Lg(b.source.substring(e,f)),b,e);return p=xf(b,f),nc(p.index,b.Const(e,q))}}}()),Vf=qc(u(dg(me,cg,dc,Mg,$c))),oe=qc(function(a,b){var c;return c=Cf(a,b),c?nc(c.index,a.Const(b,c.value)):void 0}),pe=qc(dg(oe,Vf)),Bb=Zg(j('"x"',120),bh,["this",Af(ke,2,2)]),le=Bf(function(a){return parseInt(g(a),16)})(Bb),fi=Zg(j('"u"',117),bh,["this",dg((Bb=Af(ke,4,4),Bf(function(a){return parseInt(g(a),16)})(Bb)),(Bb=Zg(hg,["this",Af(ke,1,6)],yc),Bf(function(a,b,c){var d,e;if(d=g(a),e=parseInt(d,16),e>1114111)throw vg("Unicode escape sequence too large: '\\u{"+d+"}'",b,c);return e})(Bb)))]),ch=function(){var a,b;return a=cb(null),a[98]=8,a[102]=12,a[114]=13,a[110]=10,a[116]=9,a[118]=11,b=a,dg(Bf(0)(oi),Bf(function(a){return b[a]||a})(r))}(),$b=Zg(Zb,bh,["this",dg(le,fi,ch)]),He=lf.generic(String)("position","expression"),Ke=lf.generic(String)("position","statement"),Sb=He(function(a,b){return S(a,b)}),Sd=qc(dg(Sb,Qd)),Td=qc(dg(Sd,hc)),qh=Zg(jd,Lf,bh,["this",dg(ne,Zg(ig,["this",Jb(dg(Qd,Rf))],Ac))]),eh=qc((Bb=Zg(dh,bh,["this",qi($b,q(dg(dh,s)))],dh),Bf(function(a,b,c){return b.Const(c,g(a))})(Bb))),pd=qi($b,qh,q(dg(md,s))),od=qc((Bb=Zg(md,bh,["this",pd],md),Bf(function(a,b,c){var d,e,f,g,h,i;for(d=[],e=pb(I(a,b,c)),f=0,g=e.length;g>f;++f)h=e[f],h.isConstValue("")||d.push(h);return i=d,0===i.length?b.Const(c,""):1===i.length&&i[0].isConstType("string")?i[0]:b.string(c,i)})(Bb))),nd=qc((Bb=Zg(xg,md,bh,["this",pd],md),Bf(function(a,b,c){var d;return d=I(a,b,c),b.Array(c,d)})(Bb))),Lh="function"==typeof String.prototype.trimRight?function(a){return a.trimRight()}:function(a){return a.replace(/\s+$/,"")},Bb=qi($b,q(dg(Qh,s))),Rh=Bf(function(a){return[Lh(g(a))]})(Bb),Bb=qi($b,qh,q(dg(Mh,s))),Oh=Bf(function(a){var b,c,d,e,f,h;for(h=[],e=[],b=pb(a),c=0,d=b.length;d>c;++c)f=b[c],"number"==typeof f?e.push(f):f instanceof Sf||(e.length>0&&(h.push(g(e)),e=[]),h.push(f));return e.length>0&&h.push(Lh(g(e))),h})(Bb),Sh=qc(L(Qh,Rh)),Ph=qc(L(Mh,Oh)),Nh=qc((Bb=Zg(xg,Mh,bh,["first",Oh],["numEmptyLines",pi(Zg(ih,["this",s]),!0)],["rest",m(E(Zg(B,["this",m(Zg(J,["this",Yg(Oh,Zg(s,J))]),function(){return[]})],m(s),D)),function(){return[]})],Mh),Bf(function(a,b,c){var d;return d=K(a,b,c),b.Array(c,d)})(Bb))),_b=qc(Zg(Zb,Lf,["this",oe])),rh=qc(u(dg(_b,Sh,Ph,Nh,eh,od,nd))),Ng=function(){var a,b,c,d,e,f,h;return c=j('"r"',114),a=pi(Df),f=Bf(g)(a),d={},a=Zg(je,pi(q(s),!0)),e=Bf(d)(a),a=dg(jh,s),h=Bf(d)(a),u((a=Zg(c,["text",dg(Zg(Mh,bh,["this",qi((b=Zg(Zb,jd),Bf(36)(b)),h,e,qh,q(Mh))],Mh),Zg(Qh,bh,["this",qi(h,e,q(Qh))],Qh),Zg(md,bh,["this",qi((b=Zg(md,md),Bf(34)(b)),(b=Zg(Zb,jd),Bf(36)(b)),qh,q(dg(md,s,jd)))],md),Zg(dh,bh,["this",qi((b=Zg(dh,dh),Bf(39)(b)),q(dg(dh,s)))],dh))],["flags",f]),Bf(function(a,b,c){var e,f,h,i,j,k,l,m,n,o;for(o=a.text,k=a.flags,n=[],i=[],e=pb(o),f=0,h=e.length;h>f;++f)l=e[f],"number"==typeof l?i.push(l):l===d||l instanceof Sf||(i.length>0&&(n.push(b.Const(c,g(i))),i=[]),n.push(l));if(i.length>0&&n.push(b.Const(c,g(i))),o=0===n.length?b.Const(c,""):1===n.length&&n[0].isConstType("string")?n[0]:b.string(c,n),o.isConst())try{RegExp(String(o.constValue()))}catch(p){throw vg(p.message,b,c)}for(m=[],e=pb(k),f=0,h=e.length;h>f;++f){if(j=e[f],ib(j,m))throw vg("Invalid regular expression: flag "+Lg(j)+" occurred more than once",b,c);if("g"!==j&&"i"!==j&&"m"!==j&&"y"!==j)throw vg("Invalid regular expression: unknown flag "+Lg(j),b,c);m.push(j)}return b.Regexp(c,o,k)})(a)))}(),Qc=dg(Zg(yg,["this",pe]),Zg(kg,["this",Jb(Qd)],Bc)),Pc=qc(dg(M,Vf,rh,Ng)),Ve=qc(dg(Fh,Nb,Pc)),uf=qc(m(li("not"))),vf=qc(m(j('"?"',63))),be=lf.generic(Boolean)("inGenerator",!0)(hc),ce=lf.generic(Boolean)("inGenerator",!0)(ic),Re=j('"<"',60),Qe=u(Re),ie=j('">"',62),he=u(ie),Zd=qc(Zg(ih,zf,ie)),vb=dg.generic(Hf)(Zg(Zd,["this",dg(ph,Rf)]),hc,ph),Xd=lf.generic(Boolean)("inGenerator",!1)(vb),de=lf.generic(Boolean)("inGenerator",!0)(vb),te=dg(ne,(Bb=Zg(["parent",Gh],["child",pe]),Bf(function(a,b,c){var d,e;return e=a.parent,d=a.child,b.Access(c,e,d)})(Bb)),(Bb=Zg(["parent",Fh],ld,["child",pe]),Bf(function(a,b,c){var d,e;return e=a.parent,d=a.child,b.Access(c,b.Access(c,e,b.Const(c,"prototype")),d)})(Bb)),(Bb=Zg(["parent",Fh],["isProto",m(ld)],kg,["child",Jb(Qd)],Bc),Bf(function(a,b,c){var d,e,f;return f=a.parent,e=a.isProto,d=a.child,b.Access(c,e?b.Access(c,f,b.Const(c,"prototype")):f,d)})(Bb))),zg=qc(dg(yg,ld)),Bb=dg(Zg(["type",zg],["child",pe]),Zg(["type",m(ld)],kg,["child",Jb(Qd)],Bc)),se=Bf(function(a,b,c){var d,e,f;return f=a.type,d=a.child,e="::"===f,function(a,b,f){return b.Access(f,e?b.Access(f,a,b.Const(c,"prototype")):a,d)}})(Bb),re=qc((Bb=Zg(["head",te],["tail",pi(se)]),Bf(function(a,b,c){var d,e,f,g,h;for(g=a.head,d=pb(a.tail),e=0,f=d.length;f>e;++e)h=d[e],g=h(g,b,c);return g})(Bb))),qe=qc(function(a,b){var c,d;return(c=Me(a,b))?(d=c.value,d instanceof we||d instanceof Hb?c:void 0):void 0}),Ie=lf.generic(Boolean)("inFunctionTypeParams",!0),Tf=lf.generic(Boolean)("inFunctionTypeParams",!1),Zh=function(a,b){return Zh(a,b)},Rb=qc((Bb=Zg(jg,["this",m(Jb(Zh))],Bc),Bf(function(a,b,c){var d;return d=b.Ident(c,"Array"),a?b.TypeGeneric(c,d,[a]):d})(Bb))),ag=Zg(["key",function(a,b){return Sc(a,b)}],Cc,["value",Zh]),_f=qc((Bb=Zg(gg,["this",Jb(m(Yg(ag,Kc),function(){return[]}))],qf,xc),Bf(function(a,b,c){var d,e,f,g,h,i;if(0===a.length)return b.Ident(c,"Object");for(h=[],d=pb(a),e=0,f=d.length;f>e;++e){if(g=d[e].key,!g.isConst())throw vg("Expected a constant key, got "+rb(g),b,g.index);if(i=String(g.constValue()),ib(i,h))throw vg("Duplicate object key: "+Lg(i),b,g.index);h.push(i)}return b.TypeObject(c,a)})(Bb))),Bb=Zg(dg(Zg(ig,Jb(Yg(Zh,Kc)),Ac),Ie(Zh),Rf),Zd,["this",m(Zh)]),ae=Bf(function(a,b,c){var d;return d=b.Ident(c,"Function"),a?b.TypeGeneric(c,d,[a]):d})(Bb),Kf=dg(function(a,b){return a.inFunctionTypeParams.peek()?void 0:ae(a,b)},Zg(ig,["this",Jb(Tf(function(a,b){return Zh(a,b)}))],Ac),Rb,_f,N,(Bb=Zg(["base",re],["args",m(Zg(j('"<"',60),bh,["this",Yg(function(a,b){return Zh(a,b)},Ic)],ih,j('">"',62)),function(){return[]})]),Bf(function(a,b,c){var d,e;return e=a.base,d=a.args,d.length?b.TypeGeneric(c,e,d):e})(Bb))),Ag=qc(u(Bg)),Zh=qc((Bb=Yg(Kf,Ag),Bf(function(a,b,c){var d,e,f;for(a=a.slice(),d=pb(a),e=d.length;e--;)f=d[e],f instanceof $h&&a.splice.apply(a,[e,1].concat(pb(f.types)));return 1===a.length?a[0]:b.TypeUnion(c,a)})(Bb))),of=m(Zg(li("as"),bh,["this",Zh])),oc=qc(Zg(jg,["this",Jb(Sd)],Bc)),Sc=dg(rh,Bf(function(a,b,c){return b.Const(c,String(a.constValue()))})(Vf),oe),Wf=qc(dg(oc,Sc)),Xf=qc(Zg(["this",Wf],Cc,p(Kd),function(a,b){if(a.options.noindent){if(Gd(a,b))return;if(a.options.embedded&&(sd(a,b)||ud(a,b)))return}return nc(b)})),ue=dg(ne,(Bb=Zg(["parent",Gh],["child",oe]),Bf(function(a,b,c){var d,e;return e=a.parent,d=a.child,b.Access(c,e,d)})(Bb))),Bb=Zg(["isMutable",l(m(li("mutable")))],["spread",l(wf)],["ident",ue],["asType",of],["defaultValue",m(Zg(Ld,["this",Qd]))]),ve=Bf(function(a,b,c){var d,e,f,g,h;if(g=a.isMutable,h=a.spread,f=a.ident,d=a.asType,e=a.defaultValue,h&&e)throw vg("Cannot specify a default value for a spread parameter",b,c);return b.Param(c,f,e,h,g,d)})(Bb),mg=function(a,b){return mg(a,b)},Bb=Zg(jg,Hd,["this",Jb(function(a,b){return og(a,b)})],Hd,Bc),Qb=Bf(function(a,b,c){return b.Array(c,a)})(Bb),lg=Zg(["key",Xf],["value",mg]),Bb=Zg(["this",ve],Nf),rg=Bf(function(a,b,c){var d,e;if(d=a.ident,d instanceof we)e=b.Const(c,d.name);else{if(!(d instanceof Hb))throw Error("Unknown object key type: "+a.type);e=d.child}return{key:e,value:a}})(Bb),Pe=m(dg(lg,rg)),Bb=Zg(gg,Hd,["this",Jb(Yg(Pe,Kc))],Hd,xc),$f=Bf(function(a,b,c){return b.object(c,function(){var b,c,d,e,f;for(b=[],c=pb(a),d=0,e=c.length;e>d;++d)f=c[d],f&&b.push(f);return b}())})(Bb),mg=dg(ve,Qb,$f),ng=dg(mg,Rf),og=Jb((Bb=Yg(ng,Kc),Bf(function(a,b){return P(Q(a),b)})(Bb))),Bb=Zg(ig,bh,Hd,["this",og],Hd,Ac),pg=Bf(function(){function a(b,c,d){var e,f,g,h,i,j,k,l;if(b instanceof qg){if(j=b.ident,j instanceof we)k=j.name;else{if(!(j instanceof Hb))throw Error("Unknown param ident type: "+rb(b));if(h=j.child,!h.isConstType("string"))throw Error("Expected constant access");k=h.constValue()}if(ib(k,d))throw vg("Duplicate parameter name: "+Lg(k),c,j.index);d.push(k)}else if(b instanceof Pb)for(e=pb(b.elements),f=0,g=e.length;g>f;++f)i=e[f],a(i,c,d);else if(b instanceof Zf)for(e=pb(b.pairs),f=0,g=e.length;g>f;++f)l=e[f],a(l.value,c,d);else if(!b instanceof Sf)throw Error("Unknown param type: "+rb(b))}return function(b,c){var d,e,f,g,h;for(g=[],d=pb(b),e=0,f=d.length;f>e;++e)h=d[e],a(h,c,g);return b}}())(Bb),Pg=lf.generic(Boolean)("requireParameterSequence",!0),kd=lf.generic(Boolean)("requireParameterSequence",!1),wb=function(){function a(a){return a?de:Xd}var b,c,d,e,f,g;return d=dg(Pd,Yb,Vb,sc),b=pi(d),e=Bf(function(a,b,c){var d,e,f,g,h,i;for(h={autoReturn:!0,bound:!1,generator:!1,curry:!1},i=[],d=pb(a),e=0,f=d.length;f>e;++e){if(g=d[e],ib(g,i))throw vg("Function flag "+Lg(Wd(g))+" specified more than once",b,c);switch(i.push(g),g){case 33:h.autoReturn=!1;break;case 64:h.bound=!0;break;case 42:h.generator=!0;break;case 94:h.curry=!0;break;default:throw Error("Unknown function flag: "+Lg(Wd(g)))}}return h})(b),f=m(Zg(Re,["this",Yg(ne,Ic)],he),function(){return[]}),g=m(pg,function(){return[]}),c=Ie(of),Jb(function(b,d){var h,i,j,k,l,m,n,o,p,q,r,s,t;if(o=f(b,d),t=b.pushScope(!0),r=b.requireParameterSequence.peek()?pg:g,q=r(b,o.index),!q)return b.popScope(),void 0;for(h=pb(q.value),i=h.length;i--;)p=h[i],Ib(t,p);return l=e(b,q.index),m=l.value,j=c(b,l.index),(k=a(l.value.generator)(b,j.index))?(n=b.Function(d,q.value,k.value,m.autoReturn,m.bound,m.curry,j.value,m.generator,o.value),s=O(n,b,d),b.popScope(),nc(k.index,s)):(b.popScope(),void 0)})}(),Yd=Pg(wb),$d=qc(Zg(ih,je,["this",kd(wb)])),Gg=lf.generic(Boolean)("preventUnclosedObjectLiteral",!0),Ob=qc(Gg((Bb=Zg(jg,ih,["this",Jb(Nc(m(Zg(["this",Yg(mh,Ic)],qf),function(){return[]}),m(E(Zg(gh,B,["this",m(Zg(z,["this",Yg(mh,Lc)]),function(){return[]})],Hd,rf)),function(){return[]})))],Bc),Bf(function(a,b,c){return b.Array(c,a)})(Bb)))),_g=qc((Bb=Zg(wg,n(kg),bh,["this",Ob]),Bf(function(a,b,c){var d;if(d=b.getMacroByLabel("constructSet"),!d)throw Error("Cannot use literal set until the construct-set macro has been defined");return d.func({op:"",node:a},b,c)})(Bb))),Jf=qc(function(a,b){return a.options.noindent?Mf(a,b):nc(b)}),qd=Zg(["key",Xf],Jf,["value",Qd]),ge=qc(dg(li("get"),li("set"))),Ig=qc(Zg(["property",dg(li("property"),ge)],ih,["key",Xf],Jf,bh,["value",Qd])),Jg=qc(dg(Ig,qd)),yf=Zg(["property",m(ge)],["key",Wf],Nf,["value",Yd]),Kg=dg(Jg,yf),ci=qc((Bb=Yg(Jg,Ic),Bf(function(a,b,c){return b.object(c,a)})(Bb))),fh=dg((Bb=Zg(["this",qe],Nf),Bf(function(a,b,c){var d;if(a instanceof Hb)d=a.child;else{if(!(a instanceof we))throw vg("Unknown ident type: "+rb(a),b,c);d=b.Const(c,a.name)}return{key:d,value:a}})(Bb)),(Bb=Zg(["this",Pc],Nf),Bf(function(a,b,c){var d;return d=a.isConst()&&!a.isConstType("string")?b.Const(c,String(a.value)):a,{key:d,value:a}})(Bb)),(Bb=Zg(["this",Dh],Nf),Bf(function(a,b,c){return{key:b.Const(c,"this"),value:a}})(Bb)),(Bb=Zg(["this",Nb],Nf),Bf(function(a,b,c){return{key:b.Const(c,"arguments"),value:a}})(Bb)),(Bb=Zg(["this",oc],Nf),Bf(function(a){return{key:a,value:a}})(Bb))),Oe=qc(dg(Kg,(Bb=Zg(ih,["flag",m(Dg)],["key",fh]),Bf(function(a,b,c){var d,e;return d=a.flag,e=a.key,d?{key:e.key,value:b.Const(c,43===d)}:e})(Bb)),(Bb=Zg(ih,["bool",Dg],["key",oe]),Bf(function(a,b,c){var d,e;return d=a.bool,e=a.key,{key:e,value:b.Const(c,43===d)}})(Bb)))),Yf=qc(Jb((Bb=Zg(gg,ih,["prototype",m(Zg(li("extends"),["this",Gg(We)],ih,dg(Ic,n(s),n(xc))))],["pairs",Nc(m(Zg(["this",Yg(Oe,Ic)],qf),function(){return[]}),m(E(Zg(gh,B,["this",m(Zg(z,["this",Yg(Oe,Lc)]),function(){return[]})],D)),function(){return[]}))],Hd,rf,Hd,xc),Bf(function(a,b,c){return b.object(c,a.pairs,a.prototype)})(Bb)))),nf=qc((Bb=Zg(wg,hg,bh,ih,["this",Jb(Nc(m(Zg(["this",Yg(qd,Ic)],qf),function(){return[]}),m(E(Zg(gh,B,["this",m(Zg(z,["this",Yg(qd,Lc)]),function(){return[]})],D)),function(){return[]})))],Hd,rf,Hd,xc),Bf(function(a,b,c){var d;if(d=b.macros.getByLabel("constructMap"),!d)throw Error("Cannot use literal map until the construct-map macro has been defined");return d.func({op:"",node:b.object(c,a)},b,c)})(Bb))),Xc=function(){function a(a,b,c){var d,e,f,g,h;return f=a.rule(b,c),f&&(d=Ac(b,f.index))?(e=b.Ident(c,"x"),h=b.pushScope(!0),h.add(e,!1,Vh.any),g=O(b.Function(c,[b.Param(c,e)],a.func({op:f.value,node:e},b,c),!0),b,c),b.popScope(),nc(d.index,g)):void 0}function b(a,b,c){var d,e,f,g,h,i,j,k;return f=!1,a.invertible&&(e=uf(b,c),e.value&&(f=!0),c=e.index),h=a.rule(b,c),h&&(d=Ac(b,h.index))?(g=b.Ident(c,"x"),j=b.Ident(c,"y"),k=b.pushScope(!0),k.add(g,!1,Vh.any),k.add(j,!1,Vh.any),i=O(b.Function(c,[b.Param(c,g),b.Param(c,j)],a.func({left:g,inverted:f,op:h.value,right:j},b,c),!0,!1,!0),b,c),b.popScope(),nc(d.index,i)):void 0}return function(c,d){var e,f,g,h;for(e=pb(c.allBinaryOperators()),f=e.length;f--;)if(h=e[f],null!=(g=b(h,c,d)))return g;for(e=pb(c.prefixUnaryOperators()),f=e.length;f--;)if(h=e[f],null!=(g=a(h,c,d)))return g;for(e=pb(c.postfixUnaryOperators()),f=e.length;f--;)if(h=e[f],null!=(g=a(h,c,d)))return g}}(),sg=qc(Jb(Zg(ig,["this",dg.generic(Hf)(Zg(["this",Sb],Ac),(Bb=Zg(["left",Qd],["operator",m(T)],Ac),Bf(function(a,b,c){var d,e,f,g,h;return d=a.left,(e=a.operator)?(h=b.pushScope(!0),g=b.makeTmp(c,"x"),f=O(b.Function(c,[b.Param(c,g)],e.operator.func({left:d.rescope(h),inverted:e.inverted,op:e.op,right:g},b,c),!0),b,c),b.popScope(),f):d})(Bb)),Xc,(Bb=Zg(["operator",T],["right",Qd],Ac),Bf(function(a,b,c){var d,e,f,g,h,i,j,k;return j=a.right,d=a.operator,g=d.op,h=d.operator,e=d.inverted,k=b.pushScope(!0),f=b.makeTmp(c,"x"),i=O(b.Function(c,[b.Param(c,f)],h.func({left:f,inverted:e,op:g,right:j.rescope(k)},b,c),!0),b,c),b.popScope(),i})(Bb)),(Bb=Zg(["this",eg(function(a,b){return Ne(a,b)})],Ac),Bf(function(a,b,c){var d,e,f;return f=b.pushScope(!0),d=b.makeTmp(c,"o"),e=O(b.Function(c,[b.Param(c,d)],Uc(!1,{type:"normal",existential:!1,node:d},a,b,c).rescope(f),!0,!1),b,c),b.popScope(),e})(Bb)))]))),Wc=qc(function(a,b){var c;return a.asterixAsArrayLength.peek()&&(c=Vb(a,b))?nc(c.index,a.Ident(b,"__currentArrayLength")):void 0}),Ee=qc((Bb=Yg(Jg,Lc),Bf(function(a,b,c){return b.object(c,a)})(Bb))),di=qc(function(a,b){return a.preventUnclosedObjectLiteral.peek()?void 0:nc(b)}),De=qc(Zg(di,y,ih,s,Hd,["this",E(Zg(A,z,["this",Ee],D))])),bi=Zg(Vb,ih,["this",dg(E(Zg(C(2),["this",dg(Ee,function(a,b){return Ce(a,b)},mh)])),mh)]),Ce=qc((Bb=Yg(bi,Zg(qf,hh)),Bf(function(a,b,c){return b.Array(c,a)})(Bb))),Be=qc(Zg(di,y,ih,s,Hd,["this",E(Zg(A,z,["this",Ce],D))])),ze=lf.generic(Boolean)("inAst",!0),Ge=lf.generic(Boolean)("inEvilAst",!0),Wb=Zg(li("ASTE"),bh,function(a,b){if(a.inMacro.peek()){if(a.inAst.peek())throw vg("Can only use ASTE inside of another AST",a,b);return nc(b)}throw vg("Can only use ASTE inside of a macro",a,b)},["this",function(){var a,b;return b=ze(Sd),a=Ge(b),function(c,d){var e;return e=Pd(c,d),e?a(c,e.index):b(c,d)}}()]),Xb=Zg(li("AST"),bh,function(a,b){if(a.inMacro.peek()){if(a.inAst.peek())throw vg("Can only use AST inside of another AST",a,b);return nc(b)}throw vg("Can only use AST inside of a macro",a,b)},["this",function(){var a,b;return b=ze(dg(hc,ph)),a=Ge(b),function(c,d){var e;return e=Pd(c,d),e?a(c,e.index):b(c,d)}}()]),Ub=qc((Bb=dg(Wb,Xb),Bf(function(a,b,c){return $e.constifyObject(a,c,b.scope.peek())})(Bb))),Hg=qc(dg.generic(Hf)(ci,Ve,Ob,Yf,_g,nf,Ub,sg,$d,ii,ne,Wc,De,Be)),Uc=function(){function a(a,c,d,e,f){var g;if(e>=f.length)return d;if(g=f[e],!lb.call(b,g.type))throw Error("Unknown call-chain link: "+g.type);return b[g.type](a,c,d,g,e,f)}var b;return b={access:function(){var b;return b={multi:function(a,b,c){return function(d){var e,f,g,h;return f=d,h=[],d.cacheable&&(g=a.makeTmp(b,"ref",d.type(a)),h.push(g.id),f=a.Assign(b,g,"=",d.doWrap(a)),d=g),e=a.Array(b,function(){var e,g,h,i,j;for(e=[],g=pb(c.elements),j=0,h=g.length;h>j;++j)i=g[j],e.push(a.Access(b,0===j?f:d,i));return e}()),h.length?a.TmpWrapper(b,e,h):e}}},function(c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q;if(i=f.bind?function(a,b){return c.Call(d,c.Ident(d,"__bind"),[a,b])}:function(a,b){return c.Access(d,a,b)},f.owns)return q=[],o=e,e.cacheable&&(p=c.makeTmp(d,"ref",e.type(c)),q.push(p.id),o=c.Assign(d,p,"=",e.doWrap(c)),e=p),j=f.child,n=j,j.cacheable&&(p=c.makeTmp(d,"ref",j.type(c)),q.push(p.id),n=c.Assign(d,p,"=",j.doWrap(c)),j=p),m=c.If(d,function(){var a,b;if(b=c.getMacroByLabel("ownership"),!b)throw Error("Cannot use ownership access until the ownership operator has been defined");if(f.existential){if(a=c.getMacroByLabel("existential"),!a)throw Error("Cannot use existential access until the existential operator has been defined");return c.Binary(d,a.func({op:"",node:o},c,d),"&&",b.func({left:e,op:"",right:n},c,d))}return b.func({left:o,op:"",right:n},c,d)}(),a(c,d,i(e,j),+g+1,h)),q.length?c.TmpWrapper(d,m,q):m;switch(f.type){case"access":l=function(a){return i(a,f.child)};break;case"accessIndex":if(!lb.call(b,f.child.type))throw Error("Unknown index type: "+f.child.type);l=b[f.child.type](c,d,f.child);break;default:throw Error("Unknown link type: "+f.type)}if(f.existential){if(q=[],o=e,e.cacheable&&(p=c.makeTmp(d,"ref",e.type(c)),q.push(p.id),o=c.Assign(d,p,"=",e.doWrap(c)),e=p),k=c.getMacroByLabel("existential"),!k)throw Error("Cannot use existential access until the existential operator has been defined");return m=c.If(d,k.func({op:"",node:o},c,d),a(c,d,l(e),+g+1,h)),q.length?c.TmpWrapper(d,m,q):m}return a(c,d,l(e),+g+1,h)}}(),call:function(b,c,d,e,f,g){var h,i,j,k,l,m,n,o;return e.existential?(o=[],l=d,d instanceof Hb&&!e.isApply&&!e.isNew?(i=d.parent,h=d.child,m=i,k=h,i.cacheable&&(n=b.makeTmp(c,"ref",i.type(b)),o.push(n.id),m=b.Assign(c,n,"=",i.doWrap(b)),i=n),h.cacheable&&(n=b.makeTmp(c,"ref",h.type(b)),o.push(n.id),k=b.Assign(c,n,"=",h.doWrap(b)),h=n),(i!==m||h!==k)&&(l=b.Access(c,m,k),d=b.Access(c,i,h))):d.cacheable&&(n=b.makeTmp(c,"ref",d.type(b)),o.push(n.id),l=b.Assign(c,n,"=",d.doWrap(b)),d=n),j=b.If(c,b.Binary(c,b.Unary(c,"typeof",l),"===",b.Const(c,"function")),a(b,c,b.Call(c,d,e.args,e.isNew,e.isApply),+f+1,g)),o.length?b.TmpWrapper(c,j,o):j):a(b,c,b.Call(c,d,e.args,e.isNew,e.isApply),+f+1,g)}},b.accessIndex=b.access,function(b,c,d,e,f){var g,h,i,j,k,l;if(0===d.length&&!b&&"normal"===c.type)return c.node;for(k=[],"thisAccess"===c.type&&k.push({type:"access",child:c.child,existential:c.existential}),g=pb(d),h=0,i=g.length;i>h;++h)switch(l=g[h],l.type){case"protoAccess":case"protoAccessIndex":k.push({type:"access",child:e.Const(f,"prototype"),existential:l.existential}),k.push(((j=hb({},l)).type="protoAccess"===l.type?"access":"accessIndex",j));break;case"access":case"accessIndex":k.push(l);break;case"call":if(b&&l.isApply)throw vg("Cannot call with both new and @ at the same time",e,f);k.push(((j=hb({},l)).isNew=b,j)),b=!1;break;case"generic":k.push({type:"access",child:e.Const(f,"generic"),existential:!1}),k.push({type:"call",args:l.args,existential:!1});break;default:throw Error("Unknown link type: "+l.type)}return b&&k.push({type:"call",args:[],existential:!1,isNew:!0,isApply:!1}),a(e,f,c.node,0,k)}}(),Ne=dg((Bb=Zg(Re,["this",Yg(function(a,b){return ac(a,b)},Ic)],he),Bf(function(a){return{type:"generic",args:a}})(Bb)),(Bb=Zg(["existential",vf],["owns",tf],["bind",pf],U,["type",zg],["child",pe]),Bf(function(a){return{type:"::"===a.type?"protoAccess":"access",child:a.child,existential:a.existential,owns:a.owns,bind:a.bind}})(Bb)),(Bb=Zg(["existential",vf],["owns",tf],["bind",pf],["type",m(ld)],kg,["child",Jb((Cb=Yg(lf.generic(Boolean)("asterixAsArrayLength",!0)(Qd),Kc),Bf(function(a){return a.length>1?{type:"multi",elements:a}:{type:"single",node:a[0]}})(Cb)))],Bc),Bf(function(a,b,c){if("single"===a.child.type)return{type:"::"===a.type?"protoAccess":"access",child:a.child.node,existential:a.existential,owns:a.owns,bind:a.bind};if(a.owns)throw vg("Cannot use ! when using a multiple or slicing index",b,c);if(a.bind)throw vg("Cannot use @ when using a multiple or slicing index",b,c);return{type:"::"===a.type?"protoAccessIndex":"accessIndex",child:a.child,existential:a.existential}})(Bb)),(Bb=Zg(["existential",l(vf)],["isApply",l(pf)],["args",Le]),Bf(function(a){return{type:"call",args:a.args,existential:a.existential,isNew:!1,isApply:a.isApply}})(Bb))),Bb=Zg(["isNew",l(m(li("new")))],["head",dg((Cb=Zg(["node",Hh],["existential",vf],["owns",tf],["bind",pf],["child",pe]),Bf(function(a){return hb({type:"thisAccess"},a)})(Cb)),Bf(function(a){return{type:"normal",node:a}})(Hg))],["tail",pi(Ne)]),ac=Bf(function(a,b,c){var d,e,f;return e=a.isNew,d=a.head,f=a.tail,Uc(e,hb({},d),f,b,c)})(Bb),th=qc((Bb=Zg(li("super"),bh,["child",m(dg(Zg(Hd,ih,yg,["this",pe]),Zg(kg,["this",Jb(Qd)],Bc)))],["args",Le]),Bf(function(a,b,c){var d,e;return e=a.child,d=a.args,b.Super(c,e,d)})(Bb))),Nd=qc((Bb=Zg(li("eval"),bh,["this",Le]),Bf(function(a,b,c){if(1!==a.length)throw vg("Expected only one argument to eval, got "+a.length,b,c);return b.Eval(c,a[0])})(Bb))),Me=qc(dg(function(a,b){var c,d,e;if(e=a.inAst,e.peek()&&(d=id(a,ih(a,b).index))){e.push(!1);try{if(c=Le(a,d.index),!c)return;return nc(c.index,a.Call(b,a.Ident(b,"$"),c.value))}finally{e.pop()}}},ac,th,Nd)),Ae=lf.generic(Boolean)("inCascade",!0),uc=qc(Zg(p(nh),yg,n(yg),["accesses",pi(Ne)],["assignment",m(Ae(R))])),vc=function(a,b){return vc(a,b)},vc=qc(Zg(["main",uc],["subcascades",m(E(Zg(gh,A,z,["this",Yg(vc,hh)],D)),function(){return[]})])),tc=qc((Bb=Zg(["head",Me],["tail",dg(function(a,b){return a.inCascade.peek()?nc(b,[]):void 0},Nc(pi(Zg(V,["this",Bf(function(a){return{main:a,subcascades:[]}})(uc)])),m(Zg(y,function(a,b){return a.disallowSpaceBeforeAccess.peek()?void 0:nc(b)},gh,["this",E(Zg(A,z,["this",Yg(vc,hh)],D))]),function(){return[]})))]),Bf(function(a,b,c){var d,e,f,g;if(e=a.head,g=a.tail,g.length){if(f=b.getMacroByLabel("cascade"),!f)throw vg("Cannot use cascades until the cascade macro has been defined",b,c);return d=function(a,c,e){var g;return g=this,c.length?f.func({op:"",node:b.Cascade(e,a,function(){var a,f,h,i,j;for(a=[],f=pb(c),i=0,j=f.length,h=function(a){var c,f,g,h;return c=a.main,f=c.accesses,g=c.assignment,h=a.subcascades,function(a){var c,i;return c=Uc(!1,{type:"normal",node:a},f,b,e),i=null!=g?g(c,e):c,h?d(i,h,e):i}};j>i;++i)a.push(h.call(g,f[i]));return a}())},b,e):a},d(e,g,c)}return e})(Bb))),Eg=qc(function(a,b){var c,d,e,f,g,h,i;if(f=tc(a,b)){for(e=!0;e;)for(e=!1,c=pb(a.postfixUnaryOperators()),d=c.length;d--;)if(h=c[d],i=h.rule,g=i(a,f.index)){f=nc(g.index,h.func({op:g.value,node:f.value},a,b)),e=!0;break}return f}}),Fg=qc(function(a,b){var c,d,e,f,g,h;for(c=pb(a.prefixUnaryOperators()),d=c.length;d--;)if(g=c[d],h=g.rule,f=h(a,b),f&&(e=Fg(a,f.index)))return nc(e.index,g.func({op:f.value,node:e.value},a,b));return Eg(a,b)}),ec=function(){var a;return a=[],function(b){return a[b]||(a[b]=qc(function(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(r=a.binaryOperators(b),!r)return Fg(a,c);if(n=ec(+b+1),i=n(a,c)){for(d=pb(r),e=d.length;e--;){for(q=d[e],v=q.rule,w=[],h=i.index;;){if(k=!1,q.invertible&&(j=uf(a,h),j.value&&(k=!0),h=j.index),p=v(a,h),!p)break;if(o=n(a,p.index),!o)break;if(h=o.index,w.push({inverted:k,op:p.value,node:o.value}),q.maximum&&w.length>=q.maximum)break}if(w.length){if(q.rightToLeft){for(u=w[w.length-1].node,l=w.length;l--;)s=w[l],u=q.func({left:0===l?i.value:w[l-1].node,inverted:s.inverted,op:s.op,right:u},a,c);t=u}else{for(m=i.value,f=0,g=w.length;g>f;++f)s=w[f],m=q.func({left:m,inverted:s.inverted,op:s.op,right:s.node},a,c);t=m}return nc(h,t)}}return i}}))}}(),We=qc(ec(0)),Rd=qc(dg(ii,We)),Qd=qc(He(Rd)),Te=qc(Zg(kh,["this",function(a,b){var c,d,e,g,h,i,j,k,l,m,n;if(n=a.source,47===n.charCodeAt(b)&&42===n.charCodeAt(+b+1)&&33===n.charCodeAt(+b+2))for(k=[47,42,33],l=[k],j=n.length,e=+b+3;;++e){if(e>=j)throw vg("Multi-line license comment never ends",a,b);if(d=n.charCodeAt(e),42===d&&47===n.charCodeAt(e+1)){for(k.push(42,47),m=[],g=0,c=l.length;c>g;++g)i=l[g],g>0&&m.push("\n"),f(i,m);return nc(e+2,a.Comment(b,m.join("")))}if(13===d||10===d||8232===d||8233===d){if(13===d&&10===data.charCodeAt(e+1)&&++e,l.push(k=[]),h=J(a,e+1),!h)throw vg("Improper indent in multi-line license comment",a,e+1);e=h.index-1}else k.push(d)}}],ih)),kf=Jb((Bb=Zg(["type",dg(ne,rh,(Cb=Zg(ig,Hd,["this",function(a,b){return jf(a,b)}],Hd,rf,Ac),Bf(function(a,b,c){return b.SyntaxSequence(c,a)})(Cb)),(Cb=Zg(ig,Hd,["this",function(a,b){return gf(a,b)}],Hd,Ac),Bf(function(a,b,c){return b.SyntaxChoice(c,a)})(Cb)))],["multiplier",m(dg(xh("?"),xh("*"),xh("+")))]),Bf(function(a,b,c){var d,e;return e=a.type,d=a.multiplier,d?b.SyntaxMany(c,e,d):e})(Bb))),hf=dg(rh,(Bb=Zg(["ident",dg(Fh,ne)],["type",m(Zg(li("as"),["this",kf]))]),Bf(function(a,b,c){var d,e;return d=a.ident,e=a.type,b.SyntaxParam(c,d,e)})(Bb))),jf=Yg(hf,Ic),gf=Yg(kf,Ag),ef=m((Bb=Zg(li("with"),["this",ci]),Bf(function(a,b,c){if(a=a.reduce(b),!a.isLiteral())throw vg("Macro options must be a literal object without any logic, invocation, or anything else",b,c);return a.literalValue()})(Bb)),function(){return{}}),ff=Zg(z,li("syntax"),bh,function(a,b){var c,d,e,f;if(f=a.pushScope(!0),e=jf(a,b),!e)throw bh;if(d=ef(a,e.index),a.startMacroSyntax(b,e.value,d.value),W(e.value,f),f.add(a.Ident(b,"macroName"),!0,Vh.string),c=Xd(a,d.index),!c)throw bh;return a.macroSyntax(b,"syntax",e.value,d.value,c.value),a.popScope(),nc(c.index)},ih,wc),Ye=dg(Zg(function(a,b){return a.options.noindent?Cc(a,b):nc(b)},ih,s,Hd,E(Zg(function(a,b){return a.options.noindent?B(a,b):A(a,b)},Yg(ff,gh),D)),v),function(a,b){var c,d,e,f,g,h,i;if(i=a.pushScope(!0),h=pg(a,b),!h)throw bh;for(c=pb(h.value),d=c.length;d--;)g=c[d],Ib(i,g,!0);if(f=ef(a,h.index),e=Xd(a,f.index),!e)throw bh;return a.macroSyntax(b,"call",h.value,f.value,e.value),a.popScope(),nc(e.index,a.Nothing(b))}),Je=lf.generic(Boolean)("inMacro",!0),ub=Zg(li("macro"),["this",Je(function(a,b){var c,d;return(d=df(a,b))?(a.enterMacro(b,d.value),c=Ye(a,d.index),a.exitMacro(),nc(c.index,a.Nothing(b))):void 0})]),ed=function(){var a;return a=Zg(li("define"),li("syntax"),bh,["name",ne],Ld,["value",jf]),Je(function(b,c){var d,e;
return(e=a(b,c))?(d=Xd(b,e.index),b.defineSyntax(c,e.value.name.name,e.value.value,null!=d?d.value:void 0),nc(d?d.index:e.index,b.Nothing(c))):void 0})}(),Bb=Zg(li("define"),li("helper"),bh,["name",ne],["value",dg(Zg(Ld,["this",Qd]),Yd)]),bd=Bf(function(a,b,c){var d,e;return d=a.name,e=a.value,b.defineHelper(c,d,e),b.Nothing(c)})(Bb),dd=function(){var a;return a=Zg(li("define"),li("operator"),bh,["type",dg(li("binary"),li("assign"),li("unary"))],["ops",Yg(Ef,Ic)],["options",ef]),Je(function(b,c){var d,e,f,g,h,i,j,k;if(k=a(b,c)){switch(d=k.value,j=d.type,f=d.ops,g=d.options,i=b.pushScope(!0),j){case"binary":case"assign":i.add(b.Ident(c,"left"),!0,Vh.any),i.add(b.Ident(c,"op"),!0,Vh.string),i.add(b.Ident(c,"right"),!0,Vh.any);break;case"unary":i.add(b.Ident(c,"op"),!0,Vh.string),i.add(b.Ident(c,"node"),!0,Vh.any)}if(e=Xd(b,k.index),!e)throw bh;switch(j){case"binary":h=b.defineBinaryOperator(c,f,g,e.value);break;case"assign":h=b.defineAssignOperator(c,f,g,e.value);break;case"unary":h=b.defineUnaryOperator(c,f,g,e.value);break;default:throw Error()}return b.popScope(),nc(e.index,b.Nothing(c))}})}(),cd=qc(dg.generic(Sf)(ub,ed,bd,dd)),Bb=Zg(li("const"),bh,["name",Cf],Ld,["value",Qd]),ad=Bf(function(a,b,c){var d,e;if(d=a.name,e=a.value,e=b.macroExpandAll(e.reduce(b)),!e.isLiteral())throw vg("const value must be a literal.",this,c);return b.defineConst(c,d,e.literalValue()),b.Nothing(c)})(Bb),ph=qc(Zg(["this",Ke(dg.generic(Hf)(Te,cd,ad,S,Rd))],ih)),mf=function(){function a(a){var b,c,d,e;for(e=a.length,b=[],d=0;e>d;++d)b.push(a.charCodeAt(d));return c=b,function(b,d){var f,g;for(g=b.source,f=0;e>f;++f)if(g.charCodeAt(+d+f)!==c[f])return;return nc(+d+e,a)}}function b(b){return c[b]||(c[b]=a(b))}var c;return c=cb(null),function(a,c){return function(d,e){var f;return f=d.options[a],"string"!=typeof f&&(f=c),b(f)(d,e)}}}(),zd=qc(mf("embeddedOpenComment","<%--")),td=mf("embeddedCloseComment","--%>"),yd=qc(mf("embeddedOpen","<%")),sd=qc(Zg(Hd,ih,dg(t,mf("embeddedClose","%>")))),Ad=qc(mf("embeddedOpenWrite","<%=")),ud=qc(Zg(Hd,ih,dg(t,mf("embeddedCloseWrite","%>")))),Ec=qc(Zg(Cc,sd)),Fc=qc(Zg(Cc,ud)),Pf=qc(p(zd)),Qf=qc(p(Ad)),gd=lf.generic(Boolean)("allowEmbeddedText",!1),Ed=gd((Bb=Zg(Pf,Ad,["this",Qd],ud),Bf(function(a,b,c){return b.EmbedWrite(c,a,!0)})(Bb))),wd=dg(Z,Ed,Y),vd=qc((Bb=Zg(function(a,b){return a.options.embedded&&a.allowEmbeddedText.peek()&&b<a.source.length?nc(b):void 0},sd,["this",pi(wd)],dg(t,Zg(Pf,Qf,yd))),Bf(function(a,b,c){return b.Block(c,a)})(Bb))),Vg=qc(u(Wg)),Xg=qc(pi(Vg,!0)),Ue=qc(function(){var a;return a=Zg(Xg,["this",ph]),function(b,c){var d,e,f,g,h,i;if(f=z(b,c)){for(d=c,h=[],g=!1;;)if(i=vd(b,d))g=!1,h.push(i.value),d=i.index;else{if(i=g?a(b,d):ph(b,d),!i)break;g=!0,h.push(i.value),d=i.index}if(0!==h.length)return e=Xg(b,d),e&&(d=e.index),nc(d,h)}}}()),Rg=mb(function(a,b){function c(){g=9}function d(){for(;;)switch(g){case 0:a.clearCache(),i=Ue(a,b),g=i?1:9;break;case 1:k=[i.value],h=i.index,++g;case 2:++g;case 3:a.clearCache(),g=a.options.sync?5:4;break;case 4:return++g,{done:!1,value:eb.fulfilled(void 0)};case 5:l=gh(a,h),g=l?6:8;break;case 6:j=Ue(a,l.index),g=j?7:8;break;case 7:h=j.index,k.push(j.value),g=2;break;case 8:return a.clearCache(),++g,{done:!0,value:nc(h,$(k,a,b))};case 9:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function e(a){throw c(),a}function f(a){try{return d(a)}catch(b){e(b)}}var f,g,d,e,h,i,j,k,l;return g=0,{close:c,iterator:function(){return this},next:function(){return f(void 0)},send:f,"throw":function(a){return e(a),f(void 0)}}}),tb=Bf($,Yg(Ue,gh)),fc=dg(Zg(z,["this",dg.generic(Hf)(Ee,Ce)]),tb),rd=Zg(Qf,Pf,yd,["this",tb],sd),xd=dg(wd,rd),Cd=mb(function(a,b){function c(){g=7}function d(){for(;;)switch(g){case 0:j=[],h=b,++g;case 1:++g;case 2:a.clearCache(),g=a.options.sync?4:3;break;case 3:return++g,{done:!1,value:eb.fulfilled(void 0)};case 4:i=xd(a,h),g=i?5:6;break;case 5:if(j.push(i.value),h===i.index)throw Error("Infinite loop detected");h=i.index,g=1;break;case 6:return a.clearCache(),++g,{done:!0,value:nc(h,a.Block(b,j))};case 7:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function e(a){throw c(),a}function f(a){try{return d(a)}catch(b){e(b)}}var f,g,d,e,h,i,j;return g=0,{close:c,iterator:function(){return this},next:function(){return f(void 0)},send:f,"throw":function(a){return e(a),f(void 0)}}}),Jd=Zg(Hd,ih,m(Xg),li("end")),lc=E(Zg(ih,s,Hd,A,["this",fc],D)),kc=Zg(function(a,b){return Hc(a,b)||a.options.embedded&&(Ec(a,b)||Fc(a,b))?nc(b):void 0},Cc,Hd,["this",function(a,b){var c;c=a.indent,c.push(+c.peek()+1);try{return fc(a,b)}finally{c.pop()}}]),jc=Zg(["this",kc],Jd),hc=qc(function(a,b){var c,d;return d=a.pushScope(!0),c=a.options.noindent?jc(a,b):lc(a,b),a.popScope(),c}),ic=qc(function(a,b){var c,d;return d=a.pushScope(!0),c=a.options.noindent?kc(a,b):lc(a,b),a.popScope(),c}),mc=m(j('"﻿"',65279)),ah=m(Zg(je,Pd,pi(q(s)))),ye=m(Yg((Bb=Zg(li("import"),ih,["this",eh]),Bf(function(a,b,c){if(!a.isConst()||"string"!=typeof a.constValue())throw vg("Expected a string literal in import statement",b,c);return a.constValue()})(Bb)),gh),function(){return[]}),Tg=mb(function(a){function b(){i=14}function c(b){for(;;)switch(i){case 0:if(j=mc(a,0),q=ah(a,j.index),k=Hd(a,q.index),o=ye(a,k.index),o.value.length&&!a.options.filename)throw vg("Cannot use the import statement if not compiling from a file",a,k.index);k=Hd(a,o.index),i=t(a,k.index)?1:2;break;case 1:return i=14,{done:!0,value:nc(k.index,a.Root(k.index,a.options.filename,a.Nothing(k.index)))};case 2:f=pb(o.value),g=0,h=f.length,++i;case 3:i=h>g?4:8;break;case 4:n=f[g],a.clearCache(),i=a.options.sync?5:6;break;case 5:a.importSync(n,o.index),i=7;break;case 6:return++i,{done:!1,value:a["import"](n,o.index)};case 7:++g,i=3;break;case 8:a.clearCache(),i=a.options.sync?9:10;break;case 9:p=Rg.sync(a,k.index),i=12;break;case 10:return++i,{done:!1,value:Rg(a,k.index)};case 11:p=b,++i;case 12:a.clearCache(),i=p?13:14;break;case 13:return l=Hd(a,p.index),m=ih(a,l.index),a.clearCache(),++i,{done:!0,value:nc(m.index,a.Root(k.index,a.options.filename,p.value))};case 14:return{done:!0,value:void 0};default:throw Error("Unknown state: "+i)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var f,g,h,e,i,c,d,j,k,l,m,n,o,p,q;return i=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}),Dd=mb(function(a){function b(){f=6}function c(b){for(;;)switch(f){case 0:g=mc(a,0),i=ah(a,g.index),a.clearCache(),f=a.options.sync?1:2;break;case 1:h=Cd.sync(a,i.index),f=4;break;case 2:return++f,{done:!1,value:Cd(a,i.index)};case 3:h=b,++f;case 4:a.clearCache(),f=h?5:6;break;case 5:return++f,{done:!0,value:nc(h.index,a.Root(0,a.options.filename,h.value,!0,a.inGenerator.peek()))};case 6:return{done:!0,value:void 0};default:throw Error("Unknown state: "+f)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var e,f,c,d,g,h,i;return f=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}),Bd=mb(function(a){function b(){f=5}function c(b){for(;;)switch(f){case 0:a.inGenerator.push(!0),f=a.options.sync?1:2;break;case 1:g=Dd.sync(a),f=4;break;case 2:return++f,{done:!1,value:Dd(a)};case 3:g=b,++f;case 4:return a.inGenerator.pop(),++f,{done:!0,value:g};case 5:return{done:!0,value:void 0};default:throw Error("Unknown state: "+f)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var e,f,c,d,g;return f=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}),Lb=qc(dg(ci,Yf,De)),Kb=qc(dg(Ob,Be)),_c=qc(u(dg(Zg(s,Hd,["this",fc]),Zg(function(a,b){return a.options.embedded?nc(b):void 0},n(sd),Hd,["this",fc]),Rf))),oh=gb(1,function(a){return function(){function b(a){var d;return d=this instanceof b?this:cb(c),d.initial=a,d.data=[],d}var c;return c=b.prototype,b.displayName="Stack<"+(null!=a?kb(a):"")+">",c.count=function(){return this.data.length},c.push=function(a){this.data.push(a)},c.pop=function(){var a;if(a=this.data,0===a.length)throw Error("Cannot pop");return a.pop()},c.canPop=function(){return this.data.length>0},c.peek=function(){var a,b;return a=this.data,b=a.length,0===b?this.initial:a[b-1]},b}()}),ug=function(){function a(b,c,d){var e;return e=this instanceof a?this:cb(q),null==b&&(b=""),e.source=b,null==c&&(c=_()),e.macros=c,null==d&&(d={}),e.options=d,e.indent=oh.generic(Number)(0),e.position=oh.generic(String)("statement"),e.inAst=oh.generic(Boolean)(!1),e.inGenerator=oh.generic(Boolean)(!1),e.inFunctionTypeParams=oh.generic(Boolean)(!1),e.preventUnclosedObjectLiteral=oh.generic(Boolean)(!1),e.allowEmbeddedText=oh.generic(Boolean)(!0),e.inMacro=oh.generic(Boolean)(!1),e.inAst=oh.generic(Boolean)(!1),e.inEvilAst=oh.generic(Boolean)(!1),e.asterixAsArrayLength=oh.generic(Boolean)(!1),e.disallowSpaceBeforeAccess=oh.generic(Boolean)(!1),e.inCascade=oh.generic(Boolean)(!1),e.requireParameterSequence=oh.generic(Boolean)(!1),e.scope=oh.generic(Ug)(Ug(null,!0)),e.failureMessages=[],e.failureIndex=-1,e.calculateLineInfo(),e.cache=[],e.currentTmpId=-1,e}function c(a){return function(b){var c,d,e,f;for(e=0,f=a.length;e!==f;)if(d=Math.floor((e+f)/2),c=a[d],c>b)f=d;else{if(!(b>c)){e=d;break}if(e===d)break;e=d}return{line:e+1,column:b-a[e]+1}}}function d(a){var b;switch(b=gi(a).sort(function(a,b){return bb(a.toLowerCase(),b.toLowerCase())}),b.length){case 0:return"End of input";case 1:return b[0];case 2:return b[0]+" or "+b[1];default:return nb.call(b,0,-1).join(", ")+", or "+b[b.length-1]}}function e(a,b){var c,d,f,g,h,i,j,k;if(jb(b)){for(c=[],d=pb(b),f=0,g=d.length;g>f;++f)h=d[f],c.push(e(a,h));return c}if(b instanceof Hf)return b.reduce(a);if("object"==typeof b&&null!==b){j={};for(i in b)lb.call(b,i)&&(k=b[i],j[i]=e(a,k));return j}return b}function f(a,b,c){return this.Root(a,void 0,this.Return(a,this.Function(a,[b,this.Param(a,this.Ident(a,"__wrap"),void 0,!1,!0,void 0),this.Param(a,this.Ident(a,"__node"),void 0,!1,!0,void 0),this.Param(a,this.Ident(a,"__const"),void 0,!1,!0,void 0)],c,!0,!1),!1))}function g(a){if(a instanceof we)return["ident",a.name];if(a instanceof Ch)return["sequence"].concat(pb(n(h(a.params))));if(a instanceof zh)return["choice"].concat(function(){var b,c,d,e,f;for(b=[],c=pb(a.choices),d=0,e=c.length;e>d;++d)f=c[d],b.push(g(f));return b}());if(a.isConst())return["const",a.constValue()];if(a instanceof Ah)return["many",a.multiplier].concat(pb(g(a.inner)));throw Error("Unknown param type: "+rb(a))}function h(a){return k(function(){var b,c,d,e,f,h,i;for(b=[],c=pb(a),d=0,e=c.length;e>d;++d)if(h=c[d],h.isConst())b.push(["const",h.constValue()]);else{if(!(h instanceof Bh))throw Error();if(f=h.ident,f instanceof we)i=["ident",f.name];else{if(!(f instanceof Eh))throw Error();i=["this"]}h.asType&&i.push.apply(i,pb(g(h.asType))),b.push(i)}return b}())}function i(a){var b,c,d,e,f,g;if(b=this,a instanceof we)return f=a.name,d=this.macros,d.hasSyntax(f)?d.getSyntax(f):function(a,b){return d.getSyntax(f).call(this,a,b)};if(a instanceof Ch)return j.call(this,a.params);if(a instanceof zh)return dg.apply(void 0,function(){var c,d,e,f,g;for(c=[],d=pb(a.choices),e=0,f=d.length;f>e;++e)g=d[e],c.push(i.call(b,g));return c}());if(a.isConst())return g=a.constValue(),"string"!=typeof g&&this.error("Expected a constant string parameter, got "+rb(g)),lb.call(y,g)&&y[g]||mi(g);if(!(a instanceof Ah))return this.error("Unexpected type: "+rb(a));switch(e=a.multiplier,c=i.call(this,a.inner),e){case"*":return pi(c);case"+":return eg(c);case"?":return dg(c,Rf);default:throw Error("Unknown syntax multiplier: "+e)}}function j(a){var b,c,d,e,f,g,h,j,k,l;for(j=[],b=pb(a),c=0,d=b.length;d>c;++c)if(h=b[c],h.isConst())k=h.constValue(),"string"!=typeof k&&this.error("Expected a constant string parameter, got "+rb(k)),j.push(lb.call(y,k)&&y[k]||mi(k));else if(h instanceof Bh){if(f=h.ident,f instanceof we)g=f.name;else{if(!(f instanceof Eh))throw Error("Don't know how to handle ident type: "+rb(f));g="this"}l=null!=(e=h.asType)?e:we(0,h.scope,"Expression"),j.push([g,i.call(this,l)])}else this.error("Unexpected parameter type: "+rb(h));return Zg.apply(void 0,pb(j))}function k(a){return 0===a.length?void 0:1!==a.length||jb(a[0])?a:a[0]}function l(a){var b,c;for(b in a)if(lb.call(a,b))return c=a[b],a}function m(a){return a.serializeMacros?{minify:!0}:{}}function n(a){return null==a?[]:jb(a)?a:[a]}function o(a){var b,c,d,e,f,g,h,i;if(jb(a)){for(b=[],c=pb(a),d=0,e=c.length;e>d;++d)f=c[d],f instanceof Sf?b.push(void 0):b.push(o(f));return b}if(a instanceof Hf)return a;if("object"!=typeof a||null===a||a instanceof RegExp)return a;h={};for(g in a)lb.call(a,g)&&(i=a[g],i instanceof Sf||(h[g]=o(i)));return h}function p(a,b,c,d,e,f,g){function h(a,d,e){var f,h,i,j,k,l,n;if(d.inAst.peek()||!d.expandingMacros)return d.MacroAccess(e,g,d.getLine(e),o(a),d.position.peek(),d.inGenerator.peek(),d.inEvilAst.peek());if(k=d.pushScope(!1),h=$e(d,e,d.position.peek(),d.inGenerator.peek(),d.inEvilAst.peek()),"assignOperator"===b&&h.isIdent(a.left)){if(!h.hasVariable(a.left))throw d.buildError("Trying to assign with "+a.op+" to unknown variable '"+h.name(a.left)+"'",a.left);if(!h.isVariableMutable(a.left)&&!d.inEvilAst.peek())throw d.buildError("Trying to assign with "+a.op+" to immutable variable '"+h.name(a.left)+"'",a.left)}try{j=c.call(h,o(a),ab(h,"wrap"),ab(h,"node"),ab(h,"getConst"))}catch(p){throw p instanceof ReferenceError?p:p instanceof _e?(i=d.getPosition(e),p.setPosition(i.line,i.column),p):_e(p,d,e)}return d.popScope(),j instanceof Hf?(f=d.getLine(e),n=function(a){return a instanceof Xe&&(a.callLine=f),a.walk(n)},j=n(j.reduce(m)),l=h.getTmps(),l.unsaved.length?d.TmpWrapper(e,j,l.unsaved):j):j}var i,j,k,l,m,n,p,q;switch(m=this,q=this.macros,this.currentMacro){case s:return g=q.addBinaryOperator(e,h,f,g);case r:return g=q.addAssignOperator(e,h,f,g);case A:return g=q.addUnaryOperator(e,h,f,g);case t:if(!d)throw Error("Expected rule to exist");return q.addSyntax(f.name,Bf(h)(d)),g=q.addMacro(h,g,null!=f.type&&lb.call(Vh,l=f.type)?Vh[l]:void 0);default:if(!d)throw Error("Expected rule to exist");for(i=pb(q.getOrAddByNames(this.currentMacro)),j=0,k=i.length;k>j;++j)p=i[j],null!=this.pendingMacroId&&p.data.pop(),p.data.push(qc((l=Zg(["macroName",p.token],["macroData",d]),Bf(h)(l))));if(null!=this.pendingMacroId){if(null!=g)throw Error("Cannot provide the macro id if there is a pending macro id");return n=this.pendingMacroId,this.pendingMacroId=null,q.replaceMacro(n,h,null!=f.type&&lb.call(Vh,l=f.type)?Vh[l]:void 0),g=n}return g=q.addMacro(h,g,null!=f.type&&lb.call(Vh,l=f.type)?Vh[l]:void 0)}}var q,r,s,t,u,w,x,y,z,A;return q=a.prototype,a.displayName="Parser",q.buildError=function(a,b){var c;return c="number"==typeof b?b:b.index,_e(a,this,c)},q.makeTmp=function(a,b,c){return null==c&&(c=Vh.any),this.Tmp(a,++this.currentTmpId,b,c)},q.calculateLineInfo=function(){var a,b,d,e,f;for(e=/(?:\r\n?|[\n\u2028\u2029])/g,f=this.source,b=this.lineInfo=[],a=0,b.push(0);;){if(d=e.exec(f),!d)break;a=+d.index+ +d[0].length,b.push(a)}this.getPosition=c(b)},q.indexFromPosition=function(a,b){var c;return c=this.lineInfo[a-1],null!=c?+c+b-1:0},q.getPosition=function(){throw Error("line-info not initialized")},q.getLine=function(a){return null==a&&(a=this.index),this.getPosition(a).line},q.getColumn=function(a){return null==a&&(a=this.index),this.getPosition(a).column},q.fail=function(a,b){b>this.failureIndex&&(this.failureMessages=[],this.failureIndex=b),b>=this.failureIndex&&this.failureMessages.push(a)},q.getFailure=function(a){var b,c;return null==a&&(a=this.failureIndex),c=this.source,b=a<c.length?JSON.stringify(c.substring(a,a+20)):"end-of-input",vg("Expected "+d(this.failureMessages)+", but "+b+" found",this,a)},q["import"]=mb(function(a,c){function d(){h=9}function e(d){for(;;)switch(h){case 0:if(j=b("fs"),m=b("path"),"string"!=typeof i.options.filename)throw vg("Cannot import if the filename option is not provided",i,c);k=m.resolve(m.dirname(i.options.filename),a),h=i.options.sync?1:2;break;case 1:o=j.readFileSync(k,"utf8"),h=4;break;case 2:return++h,{done:!1,value:qb(j.readFile,j,[k,"utf8"])};case 3:o=d,++h;case 4:l={filename:k,noindent:i.options.noindent,sync:i.options.sync},h=i.options.sync?5:6;break;case 5:n=tg.sync(o,i.macros,l),h=8;break;case 6:return++h,{done:!1,value:tg(o,i.macros,l)};case 7:n=d,++h;case 8:i.macros=n.macros,++h;case 9:return{done:!0,value:void 0};default:throw Error("Unknown state: "+h)}}function f(a){throw d(),a}function g(a){try{return e(a)}catch(b){f(b)}}var g,h,e,i,f,j,k,l,m,n,o;return i=this,h=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),q.importSync=function(a,b){if(!this.options.sync)throw Error("Expected options.sync to be true");return this["import"].sync.call(this,a,b)},q.pushScope=function(a,b){var c;return null==a&&(a=!1),null==b&&(b=null),c=(b||this.scope.peek()).clone(a),this.scope.push(c),c},q.popScope=function(){this.scope.pop()},q.getPackageVersion=function(){var a;return null==(a=this._packageVersion)?this._packageVersion=ee(this.options.filename):a},q.hasMacroOrOperator=function(a){return this.macros.hasMacroOrOperator(a)},q.assignOperators=function(){return this.macros.assignOperators},q.allBinaryOperators=function(){return this.macros.allBinaryOperators()},q.binaryOperators=function(a){return this.macros.binaryOperators[a]},q.prefixUnaryOperators=function(){return this.macros.prefixUnaryOperators},q.postfixUnaryOperators=function(){return this.macros.postfixUnaryOperators},q.getMacroByName=function(a){return this.macros.getByName(a)},q.getMacroByLabel=function(a){return this.macros.getByLabel(a)},q.enterMacro=function(a,b){if(!b)throw Error("Must provide a macro name");if(this.currentMacro)throw vg("Attempting to define a macro "+Lg(String(b))+" inside a macro "+Lg(String(this.currentMacro)),this,a);this.currentMacro=b},q.exitMacro=function(){if(!this.currentMacro)throw Error("Attempting to exit a macro when not in one");this.currentMacro=null},q.defineHelper=function(a,c,d){var e,f,g,h,i,j;i=b("./jstranslator"),h=this.macroExpandAll(d).reduce(this),j=h.type(this),e=i.defineHelper(this.macros,this.getPosition,c,h,j),g=e.helper,f=e.dependencies,this.options.serializeMacros&&this.macros.addSerializedHelper(c.name,g,j,f)},y={",":Ic,";":Vg,":":Cc,":=":Gc,"":Rf,"\n":hh,"<":Qe,">":he,"(":ig,")":Ac,"[":jg,"]":Bc,"{":gg,"}":xc,end:v},w=function(){var a;return a={ident:function(a,b){return we(0,a,b)},sequence:function(a){var b;return b=nb.call(arguments,1),Ch(0,a,u(b,a))},choice:function(a){var b;return b=nb.call(arguments,1),zh(0,a,function(){var c,d,e,f;for(c=[],d=0,e=b.length;e>d;++d)f=b[d],c.push(w(f,a));return c}())},"const":function(a,b){return Rc(0,a,b)},many:function(a,b){var c;return c=nb.call(arguments,2),Ah(0,a,w(c,a),b)}},function(b,c){var d;if(null==b&&(b=[]),0!==b.length){if(d=b[0],lb.call(a,d))return a[d].apply(a,[c].concat(pb(nb.call(b,1))));throw Error("Unknown as-type: "+String(d))}}}(),u=function(){var a;return a={"const":function(a,b){return Rc(0,a,b)},ident:function(a,b){var c;return c=nb.call(arguments,2),Bh(0,a,we(0,a,b),w(c,a))},"this":function(a){var b;return b=nb.call(arguments,1),Bh(0,a,Eh(0,a),w(b,a))}},function(b,c){var d,e,f,g,h,i;for(d=[],e=pb(n(b)),f=0,g=e.length;g>f;++f){if(h=e[f],i=h[0],!lb.call(a,i))throw Error("Unknown param type: "+String(i));d.push(a[i].apply(a,[c].concat(pb(nb.call(h,1)))))}return d}}(),z={syntax:function(a,b,c,d,g,i){var n,o,p,q,r,s,t,u,v,w,x,y;if(n=this,s=this.Ident(a,"macroFullData"),p=this.Param(a,s,void 0,!1,!1,void 0),t=this.Ident(a,"macroName"),v=this.scope.peek(),v.add(t,!1,Vh.string),r=this.Ident(a,"macroData"),v.add(r,!1,Vh.object),c=this.Block(a,[this.Var(a,t,!1),this.Assign(a,t,"=",this.Access(a,s,this.Const(a,"macroName"))),this.Var(a,r,!1),this.Assign(a,r,"=",this.Access(a,s,this.Const(a,"macroData")))].concat(function(){var c,d,e,f,g;for(c=[],d=pb(b),e=0,f=d.length;f>e;++e)g=d[e],g instanceof Bh&&(v.add(g.ident,!0,Vh.any),c.push(n.Block(a,[n.Var(a,g.ident,!0),n.Assign(a,g.ident,"=",n.Access(a,r,n.Const(a,g.ident.name)))])));return c}(),[c])),u=f.call(this,a,p,c),y=i(this.macroExpandAll(u).reduce(this),this.macros,this.getPosition,{"return":!0}),o=y.node.toString(m(g)),g.serializeMacros&&(w=o),q=Function(o)(),"function"!=typeof q)throw Error("Error creating function for macro: "+String(this.currentMacro));return x=this,{handler:function(a){var b;return b=nb.call(arguments,1),q.apply(this,[e(x,a)].concat(pb(b))).reduce(x)},rule:j.call(this,b),serialization:null!=w?{type:"syntax",code:w,options:l(d),params:h(b),names:k(this.currentMacro)}:void 0}},defineSyntax:function(a,b,c,d,g,i){var k,n,o,p;return k=this,p=this,n=null!=c?function(){var h,j,l,n,q,r,s;if(n=k.Ident(a,"macroData"),j=k.Param(a,n,void 0,!1,!1,void 0),r=k.scope.peek(),c=k.Block(a,function(){var c,d,e,f,g;for(c=[],d=pb(b),e=0,f=d.length;f>e;++e)g=d[e],g instanceof Bh&&(r.add(g.ident,!0,Vh.any),c.push(k.Block(a,[k.Var(a,g.ident,!0),k.Assign(a,g.ident,"=",k.Access(a,n,k.Const(a,g.ident.name)))])));return c}().concat([c])),q=f.call(k,a,j,c),s=i(k.macroExpandAll(q).reduce(p),k.macros,k.getPosition,{"return":!0}),h=s.node.toString(m(g)),g.serializeMacros&&(o=h),l=Function(h)(),"function"!=typeof l)throw Error("Error creating function for syntax: "+d.name);return function(a){var b;return b=nb.call(arguments,1),e(p,l.apply(this,[e(p,a)].concat(pb(b))))}}():function(a){var b;return b=nb.call(arguments,1),e(p,a)},{handler:n,rule:j.call(this,b),serialization:g.serializeMacros?{type:"defineSyntax",code:o,options:l(d),params:h(b)}:void 0}},call:function(a,b,c,d,g,h){var i,j,n,o,p,q,r,s,t,u,v,w;if(i=this,q=this.Ident(a,"macroFullData"),n=this.Param(a,q,void 0,!1,!1,void 0),t=this.scope.peek(),r=this.Ident(a,"macroName"),t.add(r,!1,Vh.string),p=this.Ident(a,"macroData"),t.add(p,!1,Vh.object),c=this.Block(a,[this.Var(a,r,!1),this.Assign(a,r,"=",this.Access(a,q,this.Const(a,"macroName"))),this.Var(a,p,!1),this.Assign(a,p,"=",this.Access(a,q,this.Const(a,"macroData")))].concat(function(){var c,d,e,f,g;for(c=[],d=pb(b),f=0,e=d.length;e>f;++f)g=d[f],g instanceof qg&&(t.add(g.ident,!0,Vh.any),c.push(i.Block(a,[i.Var(a,g.ident,!0),i.Assign(a,g.ident,"=",i.Access(a,p,i.Const(a,f)))])));return c}(),[c])),s=f.call(this,a,n,c),w=h(this.macroExpandAll(s).reduce(this),this.macros,this.getPosition,{"return":!0}),j=w.node.toString(m(g)),g.serializeMacros&&(u=j),o=Function(j)(),"function"!=typeof o)throw Error("Error creating function for macro: "+this.currentMacro);return v=this,o=function(a){return function(b){var c;return c=nb.call(arguments,1),a.apply(this,[e(v,b)].concat(pb(c))).reduce(v)}}(o),{handler:o,rule:Le,serialization:null!=u?{type:"call",code:u,options:l(d),names:k(this.currentMacro)}:void 0}},binaryOperator:function(a,b,c,d,g,h){var i,j,n,o,p,q,r,s,t,u;if(i=this,p=this.Ident(a,"macroData"),n=this.Param(a,p,void 0,!1,!1,void 0),r=this.scope.peek(),c=this.Block(a,function(){var b,c,d,e,f,g;for(b=[],c=["left","op","right"],d=0,e=c.length;e>d;++d)g=c[d],f=i.Ident(a,g),r.add(f,!0,Vh.any),b.push(i.Block(a,[i.Var(a,f,!0),i.Assign(a,f,"=",i.Access(a,p,i.Const(a,g)))]));return b}().concat([c])),q=f.call(this,a,n,c),u=h(this.macroExpandAll(q).reduce(this),this.macros,this.getPosition,{"return":!0}),j=u.node.toString(m(g)),g.serializeMacros&&(s=j),o=Function(j)(),"function"!=typeof o)throw Error("Error creating function for binary operator "+b.join(", "));return t=this,o=d.invertible?function(a){return function(b){var c,d;return c=nb.call(arguments,1),d=a.apply(this,[e(t,b)].concat(pb(c))),b.inverted?_h(d.index,d.scope,"!",d).reduce(t):d.reduce(t)}}(o):function(a){return function(b){var c;return c=nb.call(arguments,1),a.apply(this,[e(t,b)].concat(pb(c))).reduce(t)}}(o),{handler:o,rule:void 0,serialization:null!=s?{type:"binaryOperator",code:s,operators:k(b),options:l(d)}:void 0}},assignOperator:function(a,b,c,d,g,h){var i,j,n,o,p,q,r,s,t,u;if(i=this,p=this.Ident(a,"macroData"),n=this.Param(a,p,void 0,!1,!1,void 0),r=this.scope.peek(),c=this.Block(a,function(){var b,c,d,e,f,g;for(b=[],c=["left","op","right"],d=0,e=c.length;e>d;++d)g=c[d],f=i.Ident(a,g),r.add(f,!0,Vh.any),b.push(i.Block(a,[i.Var(a,f,!0),i.Assign(a,f,"=",i.Access(a,p,i.Const(a,g)))]));return b}().concat([c])),q=f.call(this,a,n,c),u=h(this.macroExpandAll(q).reduce(this),this.macros,this.getPosition,{"return":!0}),j=u.node.toString(m(g)),g.serializeMacros&&(s=j),o=Function(j)(),"function"!=typeof o)throw Error("Error creating function for assign operator "+b.join(", "));return t=this,o=function(a){return function(b){var c;return c=nb.call(arguments,1),a.apply(this,[e(t,b)].concat(pb(c))).reduce(t)}}(o),{handler:o,rule:void 0,serialization:null!=s?{type:"assignOperator",code:s,operators:k(b),options:l(d)}:void 0}},unaryOperator:function(a,b,c,d,g,h){var i,j,n,o,p,q,r,s,t,u;if(i=this,p=this.Ident(a,"macroData"),n=this.Param(a,p,void 0,!1,!1,void 0),r=this.scope.peek(),c=this.Block(a,function(){var b,c,d,e,f,g;for(b=[],c=["op","node"],d=0,e=c.length;e>d;++d)g=c[d],f=i.Ident(a,g),r.add(f,!0,Vh.any),b.push(i.Block(a,[i.Var(a,f,!0),i.Assign(a,f,"=",i.Access(a,p,i.Const(a,g)))]));return b}().concat([c])),q=f.call(this,a,n,c),u=h(this.macroExpandAll(q).reduce(this),this.macros,this.getPosition,{"return":!0}),j=u.node.toString(m(g)),g.serializeMacros&&(s=j),o=Function(j)(),"function"!=typeof o)throw Error("Error creating function for unary operator "+b.join(", "));return t=this,o=function(a){return function(b){var c;return c=nb.call(arguments,1),a.apply(this,[e(t,b)].concat(pb(c))).reduce(t)}}(o),{handler:o,rule:void 0,serialization:null!=s?{type:"unaryOperator",code:s,operators:k(b),options:l(d)}:void 0}}},x={syntax:function(a){var b,c,d,f,g,h,i,k;if(b=this,c=a.code,i=a.params,g=a.names,h=a.options,null==h&&(h={}),f=a.id,g=n(g),d=Function(c)(),"function"!=typeof d)throw Error("Error deserializing function for macro "+name);return k=this,d=function(a){return function(b){var c;return c=nb.call(arguments,1),a.apply(this,[e(k,b)].concat(pb(c))).reduce(k)}}(d),this.enterMacro(0,g),p.call(this,0,"syntax",d,j.call(this,u(i,this.scope.peek())),null,h,f),this.exitMacro()},call:function(a){var b,c,d,f,g,h,i;if(b=this,c=a.code,g=a.names,h=a.options,null==h&&(h={}),f=a.id,g=n(g),d=Function(c)(),"function"!=typeof d)throw Error("Error deserializing function for macro "+name);return i=this,d=function(a){return function(b){var c;return c=nb.call(arguments,1),a.apply(this,[e(i,b)].concat(pb(c))).reduce(i)}}(d),this.enterMacro(0,g),p.call(this,0,"call",d,Le,null,h,f),this.exitMacro()},defineSyntax:function(a){var b,c,d,f,g,h,i;if(b=this,c=a.code,h=a.params,g=a.options,null==g&&(g={}),f=a.id,this.macros.hasSyntax(g.name))throw Error("Cannot override already-defined syntax: "+g.name);if(i=this,null!=c){if(d=Function(c)(),"function"!=typeof d)throw Error("Error deserializing function for macro syntax "+g.name);d=function(a){return function(b){var c;return c=nb.call(arguments,1),e(i,a.apply(this,[e(i,b)].concat(pb(c))))}}(d)}else d=function(a){return e(i,a)};return this.enterMacro(0,t),p.call(this,0,"defineSyntax",d,j.call(this,u(h,this.scope.peek())),null,g,f),this.exitMacro()},binaryOperator:function(a){var b,c,d,f,g,h,i;if(b=this,c=a.code,g=a.operators,h=a.options,null==h&&(h={}),f=a.id,g=n(g),d=Function(c)(),"function"!=typeof d)throw Error("Error deserializing function for binary operator "+g.join(", "));return i=this,d=h.invertible?function(a){return function(b){var c,d;return c=nb.call(arguments,1),d=a.apply(this,[e(i,b)].concat(pb(c))),b.inverted?_h(d.index,d.scope,"!",d).reduce(i):d.reduce(i)}}(d):function(a){return function(b){var c;return c=nb.call(arguments,1),a.apply(this,[e(i,b)].concat(pb(c))).reduce(i)}}(d),this.enterMacro(0,s),p.call(this,0,"binaryOperator",d,void 0,g,h,f),this.exitMacro()},assignOperator:function(a){var b,c,d,f,g,h,i;if(b=this,c=a.code,g=a.operators,h=a.options,null==h&&(h={}),f=a.id,g=n(g),d=Function(c)(),"function"!=typeof d)throw Error("Error deserializing function for assign operator "+g.join(", "));return i=this,d=function(a){return function(b){var c;return c=nb.call(arguments,1),a.apply(this,[e(i,b)].concat(pb(c))).reduce(i)}}(d),this.enterMacro(0,r),p.call(this,0,"assignOperator",d,void 0,g,h,f),this.exitMacro()},unaryOperator:function(a){var b,c,d,f,g,h,i;if(b=this,c=a.code,g=a.operators,h=a.options,null==h&&(h={}),f=a.id,g=n(g),d=Function(c)(),"function"!=typeof d)throw Error("Error deserializing function for unary operator "+g.join(", "));i=this,d=function(a){return function(b){var c;return c=nb.call(arguments,1),a.apply(this,[e(i,b)].concat(pb(c))).reduce(i)}}(d),this.enterMacro(0,A),p.call(this,0,"unaryOperator",d,void 0,g,h,f),this.exitMacro()}},q.startMacroSyntax=function(a,b,c){function d(a,b,c){if(b.inAst.peek()||!b.expandingMacros)return b.MacroAccess(c,k,b.getLine(c),o(a),b.position.peek(),b.inGenerator.peek(),b.inEvilAst.peek());throw Error("Cannot use macro until fully defined")}var e,f,g,h,i,k,l,m;if(null==c&&(c={}),!this.currentMacro)throw Error("Attempting to specify a macro syntax when not in a macro");for(m=j.call(this,b),l=this.macros,e=pb(l.getOrAddByNames(this.currentMacro)),f=0,g=e.length;g>f;++f)i=e[f],i.data.push((h=Zg(["macroName",i.token],["macroData",m]),Bf(d)(h)));return k=l.addMacro(d,void 0,null!=c.type&&lb.call(Vh,h=c.type)?Vh[h]:void 0),this.pendingMacroId=k,b},q.macroSyntax=function(a,c,d,e,f){var g,h,i,j,k;if(!lb.call(z,c))throw Error("Unknown macro-syntax type: "+c);this.currentMacro||this.error("Attempting to specify a macro syntax when not in a macro"),g=z[c].call(this,a,d,f,e,this.options,b("./jstranslator")),h=g.handler,j=g.rule,k=g.serialization,i=p.call(this,a,c,h,j,d,e),null!=k&&(k.id=i,this.macros.addMacroSerialization(k))},s={},q.defineBinaryOperator=function(a,b,c,d){return this.enterMacro(a,s),this.macroSyntax(a,"binaryOperator",b,c,d),this.exitMacro()},r={},q.defineAssignOperator=function(a,b,c,d){return this.enterMacro(a,r),this.macroSyntax(a,"assignOperator",b,c,d),this.exitMacro()},A={},q.defineUnaryOperator=function(a,b,c,d){return this.enterMacro(a,A),this.macroSyntax(a,"unaryOperator",b,c,d),this.exitMacro()},t={},q.defineSyntax=function(a,b,c,d){return this.enterMacro(a,t),this.macroSyntax(a,"defineSyntax",c,{name:b},d),this.exitMacro()},q.defineConst=function(a,b,c){var d;d=this.scope.peek(),d===this.scope.initial&&(this.macros.addConst(b,c),this.options.serializeMacros&&this.macros.addSerializedConst(b)),d.addConst(b,c)},q.getConst=function(a,b){var c,d;return null==b&&(b=this.scope.peek()),null!=(c=b.constValue(a))?c:(d=this.macros.consts,lb.call(d,a)?{value:d[a]}:void 0)},q.deserializeMacros=function(a){var b,c,d,e,f,g,h;for(h in x)if(lb.call(x,h))for(f=x[h],b=pb(null!=(e=lb.call(a,h)?a[h]:void 0)?e:[]),c=0,d=b.length;d>c;++c)g=b[c],f.call(this,g)},q.macroExpand1=function(a){var b,c,d,e,f,g;if(null!=a._macroExpanded)return a._macroExpanded;if(a instanceof Xe){for(e=[];a instanceof Xe;){e.push(a),this.position.push(a.position),this.inGenerator.push(a.inGenerator),this.inEvilAst.push(a.inEvilAst),this.scope.push(a.scope),f=this.expandingMacros,this.expandingMacros=!0,g=void 0;try{g=this.macros.getById(a.id)(a.data,this,a.index)}catch(h){throw h instanceof _e&&h.setPosition(a.callLine,0),h}finally{this.scope.pop(),this.position.pop(),this.inGenerator.pop(),this.inEvilAst.pop(),this.expandingMacros=f}a=a.doWrapped?g.doWrap(this):g}for(b=0,c=e.length;c>b;++b)d=e[b],d._macroExpanded=a;return a}return a._macroExpanded=a},q.macroExpandAllAsync=function(a,b){function c(a,b){var f,g,h;if((new Date).getTime()-e>5)return $g(function(){return e=(new Date).getTime(),c(a,b)});if(null!=a._macroExpandAlled)return b(null,a._macroExpandAlled);if(a instanceof Xe){try{h=d.macroExpand1(a)}catch(i){return b(i)}return h instanceof Hf?c(h,(g=!1,function(c,d){if(g)throw Error("Attempted to call function more than once");return g=!0,null!=c?b(c):b(null,h._macroExpandAlled=h._macroExpanded=d._macroExpandAlled=d._macroExpanded=a._macroExpandAlled=a._macroExpanded=d)
})):b(null,a._macroExpandAlled=a._macroExpanded=h)}return a.walkAsync(c,(f=!1,function(c,d){if(f)throw Error("Attempted to call function more than once");return f=!0,null!=c?b(c):b(null,d._macroExpandAlled=d._macroExpanded=a._macroExpandAlled=a._macroExpanded=d)}))}var d,e;return d=this,e=(new Date).getTime(),c(a,b)},q.macroExpandAll=function(a){function b(a){var d,e;return null!=a._macroExpandAlled?a._macroExpandAlled:a instanceof Xe?(d=c.macroExpand1(a),d instanceof Hf?(e=b(d),d._macroExpandAlled=d._macroExpanded=e._macroExpandAlled=e._macroExpanded=a._macroExpandAlled=a._macroExpanded=e):a._macroExpandAlled=a._macroExpanded=d):(e=a.walk(b),e._macroExpandAlled=e._macroExpanded=a._macroExpandAlled=a._macroExpanded=e)}var c;return c=this,b(a)},q.macroExpandAllPromise=function(a){var b;return this.options.sync?eb.fulfilled(this.macroExpandAll(a)):(b=eb(),this.macroExpandAllAsync(a,function(a,c){return a?b.reject(a):b.fulfill(c)}),b.promise)},q.clearCache=function(){this.cache=[]},a.addNodeFactory=function(b,c){a.prototype[b]=function(a){var b;return b=nb.call(arguments,1),c.apply(void 0,[a,this.scope.peek()].concat(pb(b)))}},a}(),tg=mb(function(a,b,c){function d(){h=8}function e(d){for(;;)switch(h){case 0:null==b&&(b=null),null==c&&(c={}),n=ug(a,null!=b?b.clone():void 0,c),q=c.embeddedGenerator?Bd:c.embedded?Dd:Tg,r=(new Date).getTime(),p=void 0,++h;case 1:h=c.sync?2:3;break;case 2:p=q.sync(n),h=6;break;case 3:return++h,{done:!1,value:q(n)};case 4:p=d,h=6;break;case 5:if(i!==bh)throw i;++h;case 6:if(n.clearCache(),k=(new Date).getTime(),"function"==typeof c.progress&&c.progress("parse",k-r),!p||p.index<a.length)throw n.getFailure(null!=p?p.index:void 0);return++h,{done:!1,value:n.macroExpandAllPromise(p.value)};case 7:return m=d,j=(new Date).getTime(),"function"==typeof c.progress&&c.progress("macroExpand",j-k),o=m.reduce(n),l=(new Date).getTime(),"function"==typeof c.progress&&c.progress("reduce",l-j),++h,{done:!0,value:{result:o,macros:n.macros,getPosition:n.getPosition,parseTime:k-r,macroExpandTime:j-k,reduceTime:l-j,time:l-r}};case 8:return{done:!0,value:void 0};default:throw Error("Unknown state: "+h)}}function f(a){if(!(h>=1&&4>=h))throw d(),a;i=a,h=5}function g(a){for(;;)try{return e(a)}catch(b){f(b)}}var g,h,e,f,i,j,k,l,m,n,o,p,q,r;return h=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),tg.ParserError=vg,tg.MacroError=_e,tg.Node=Hf,tg.MacroHolder=af,tg.unusedCaches=hi,tg.deserializePrelude=function(a){var b,c;return b="string"==typeof a?JSON.parse(a):a,c=ug(),c.macros.deserialize(b,c,{}),{result:Sf(0,c.scope.peek()),macros:c.macros}},tg.getReservedWords=function(a,b){return null==b&&(b={}),gi(pb(fe(b)).concat(pb(null!=a&&"function"==typeof a.getMacroAndOperatorNames&&a.getMacroAndOperatorNames()||[])))},a.exports=tg;for(sb=["Access","AccessMulti","Args","Array","Assign","Binary","Block","Break","Call","Cascade","Comment","Const","Continue","Debugger","Def","EmbedWrite","Eval","For","ForIn","Function","Ident","If","MacroAccess","MacroConst","Nothing","Object","Param","Regexp","Return","Root","Spread","Super","Switch","SyntaxChoice","SyntaxMany","SyntaxParam","SyntaxSequence","This","Throw","Tmp","TmpWrapper","TryCatch","TryFinally","TypeFunction","TypeGeneric","TypeObject","TypeUnion","Unary","Var","Yield"],xb=0,yb=sb.length;yb>xb;++xb)If=sb[xb],ug.addNodeFactory(If,Hf[If]);ug.prototype.string=Hf.string,ug.prototype.arrayParam=ug.prototype.array,ug.prototype.object=Hf.object,ug.prototype.objectParam=Hf.objectParam}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b["./parser-utils"]=function(){var a={exports:this},c=this;return function(){"use strict";function a(a,b,c){var d,e,f,g,h,i,j;for(j=[],g=!1,d=k(a),e=0,f=d.length;f>e;++e)h=d[e],i=b(h,c),j.push(i),h!==i&&(g=!0);return g?j:a}function d(a,b){var c,d,e,g;return c=arguments.length-1,c>2?d=j.call(arguments,2,c):(c=2,d=[]),e=arguments[c],g=!1,f(1,+a.length,!0,function(c,e){var f,h;return h=a[c],b.apply(void 0,[h].concat(k(d),[(f=!1,function(a,b){if(f)throw Error("Attempted to call function more than once");return f=!0,null!=a?e(a):(h!==b&&(g=!0),e(null,b))})]))},function(b,c){return"undefined"!=typeof b&&null!==b?e(b):e(null,g?c:a)})}function e(a,c,d){var f,g,h,i,j,o;if(j=b("./parser-nodes"),c instanceof j.Param)if((h=c.ident)instanceof j.Ident||h instanceof j.Tmp)a.add(c.ident,d||c.isMutable,c.asType?m(c.asType):c.spread?n.array:n.any);else{if(!(c.ident instanceof j.Access))throw Error("Unknown param ident: "+l(c.ident));if(!(c.ident.child instanceof j.Const)||"string"!=typeof c.ident.child.value)throw Error("Expected constant access: "+l(c.ident.child));a.add(j.Ident(c.index,c.scope,c.ident.child.value),d||c.isMutable,c.asType?m(c.asType):c.spread?n.array:n.any)}else if(c instanceof j.Array)for(f=k(c.elements),g=f.length;g--;)i=f[g],e(a,i,d);else if(c instanceof j.Object)for(f=k(c.pairs),g=f.length;g--;)o=f[g],e(a,o.value,d);else if(!(c instanceof j.Nothing))throw Error("Unknown param node type: "+l(c))}var f,g,h,i,j,k,l,m,n;f=function(a,b,c,d,e){function f(a,b){j||(--n,null!=a&&null==i&&(i=a),c&&null==i&&arguments.length>1&&m.push(b),o||g())}function g(){for(;!j&&null==i&&a>n&&++k<b;)++n,o=!0,d(k,h(f)),o=!1;j||null==i&&0!==n||(j=!0,null!=i?e(i):e(null,m))}var i,j,k,m,n,o;if("number"!=typeof a)throw TypeError("Expected limit to be a Number, got "+l(a));if("number"!=typeof b)throw TypeError("Expected length to be a Number, got "+l(b));if(null==c)c=!1;else if("boolean"!=typeof c)throw TypeError("Expected hasResult to be a Boolean, got "+l(c));if("function"!=typeof d)throw TypeError("Expected onValue to be a Function, got "+l(d));if("function"!=typeof e)throw TypeError("Expected onComplete to be a Function, got "+l(e));return m=c?[]:null,0>=b?e(null,m):((1>a||a!==a)&&(a=1/0),i=null,n=0,o=!1,j=!1,k=-1,g(),void 0)},g="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),h=function(){function a(){throw Error("Attempted to call function more than once")}function b(){}return function(c,d){if("function"!=typeof c)throw TypeError("Expected func to be a Function, got "+l(c));if(null==d)d=!1;else if("boolean"!=typeof d)throw TypeError("Expected silentFail to be a Boolean, got "+l(d));return function(){var e;return e=c,c=d?b:a,e.apply(this,arguments)}}}(),i=Object.prototype.hasOwnProperty,j=Array.prototype.slice,k=function(a){if(null==a)throw TypeError("Expected an object, got "+l(a));if(g(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return j.call(a);throw TypeError("Expected an object with a length property, got "+l(a))},l=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),n=b("./types"),m=function(){var a;return a={Boolean:n.boolean,String:n.string,Number:n.number,Array:n.array,Object:n.object,Function:n["function"],RegExp:n.regexp,Date:n.date,Error:n.error,RangeError:n.error,ReferenceError:n.error,SyntaxError:n.error,TypeError:n.error,URIError:n.error},function(c){var d,e,f,g,h,j,o,p,q,r,s,t,u,v;if(t=b("./parser-nodes"),!(c instanceof t))throw TypeError("Expected a Node, got "+l(c));if(c instanceof t.Ident)return(i.call(a,h=c.name)?a[h]:void 0)||n.any;if(c instanceof t.Const)return null===c.value?n["null"]:void 0===c.value?n.undefined:n.any;if(c instanceof t.TypeGeneric){for(p=m(c.basetype),d=[],e=k(c.args),f=0,g=e.length;g>f;++f)j=e[f],d.push(m(j));return o=d,p===n.array||p===n["function"]?n.generic.apply(n,[p.base].concat(k(o))):p!==n.any?n.generic.apply(n,[p].concat(k(o))):n.any}if(c instanceof t.TypeUnion){for(q=n.none,d=k(c.types),f=d.length;f--;)u=d[f],q=q.union(m(u));return q}if(c instanceof t.TypeObject){for(r={},d=k(c.pairs),f=0,g=d.length;g>f;++f)h=d[f],s=h.key,v=h.value,s instanceof t.Const&&(r[s.value]=m(v));return n.makeObject(r)}return n.any}}(),c.nodeToType=m,c.map=a,c.mapAsync=d,c.addParamToScope=e}.call(this),a.exports},b["./parser-scope"]=function(){var a={exports:this};return function(){"use strict";var c,d,e,f,g,h,i,j,k,l,m,n,o,p;c="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},d=function(a,b){var c;for(c in b)f.call(b,c)&&(a[c]=b[c]);return a},e="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),f=Object.prototype.hasOwnProperty,g=Array.prototype.slice,h=function(a){if(null==a)throw TypeError("Expected an object, got "+i(a));if(e(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return g.call(a);throw TypeError("Expected an object with a length property, got "+i(a))},i=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),p=b("./types"),l=b("./parser-nodes"),k=l.Ident,o=l.Tmp,n=function(a){function b(d){var f,g;return f=this instanceof b?this:c(e),null==d&&(d="Scope already destroyed"),f.message=d,g=a.call(f,f.message),"function"==typeof a.captureStackTrace?a.captureStackTrace(f,b):"stack"in g&&(f.stack=g.stack),f}var d,e;return d=a.prototype,e=b.prototype=c(d),e.constructor=b,b.displayName="ScopeDestroyedError","function"==typeof a.extended&&a.extended(b),e.name="ScopeDestroyedError",b}(Error),m=function(){function a(b,d){var e;if(e=this instanceof a?this:c(l),null==b&&(b=null),e.parent=b,null==d&&(d=!1),e.isTop=d,!b&&!d)throw Error("Must either provide a parent or is-top = true");return e.destroyed=!1,e.children=[],e.variables={},e.consts={},e.tmps={},d||b.children.push(e),e}function e(a){var b;for(b in a)if(f.call(a,b))return!1;return!0}function g(a,b){var c,d,e,i,j,k;if(k=a.variables,f.call(k,b))return k[b];for(c=h(a.children),d=0,e=c.length;e>d;++d)if(j=c[d],null!=(i=g(j,b)))return i}function i(a,b){var c,d,e,g,j,k;if(k=a.tmps,f.call(k,b))return k[b];for(c=h(a.children),d=0,e=c.length;e>d;++d)if(j=c[d],null!=(g=i(j,b)))return g}function j(a,b){var c,d,e,f,h;for(e=a,f=b instanceof o,h=0;e;){if(++h,h>1e3)throw Error("Infinite loop detected");if(e=e.top(),f){if(null!=(c=i(e,b.id)))return c}else if(null!=(d=g(e,b.name)))return d;e=e.parent}}function k(a,b){var c,d,e,g,i,j;if(j=a.consts,f.call(j,b))return{value:j[b]};for(c=h(a.children),d=0,e=c.length;e>d;++d)if(i=c[d],null!=(g=k(i,b)))return g}var l;return l=a.prototype,a.displayName="Scope",l._allVariables=function(){var a,b,c,e,f;for(f=d({},this.variables),a=h(this.children),b=0,c=a.length;c>b;++b)e=a[b],d(f,e._allVariables());return f},l._allTmps=function(){var a,b,c,e,f;for(f=d({},this.tmps),a=h(this.children),b=0,c=a.length;c>b;++b)e=a[b],d(f,e._allTmps());return f},l._allConsts=function(){var a,b,c,e,f;for(f=d({},this.consts),a=h(this.children),b=0,c=a.length;c>b;++b)e=a[b],d(f,e._allConsts());return f},l.inspect=function(){var a,c,d,f,g;return this.isTop?(c=b("util").inspect,g=this._allVariables(),f=this._allTmps(),a=this._allConsts(),d=[],d.push("Scope("),e(g)&&e(f)&&e(a)||d.push(c(g)),e(f)&&e(a)||(d.push(", "),d.push(c(f))),e(a)||(d.push(", "),d.push(c(a))),d.push(")"),this.parent&&(d.push(" -> "),d.push(this.parent.inspect())),d.join("")):this.top().inspect()},l.destroy=function(){var a,b,c,d,e;if(this.destroyed)throw n();for(a=h(this.children),b=a.length;b--;)c=a[b],c.destroy();if(!this.isTop){if(e=this.parent.children,d=e.lastIndexOf(this),-1===d)throw Error("Not found in parents' children");e.splice(d,1)}},l.clone=function(b){if(null==b&&(b=!1),this.destroyed)throw n();return a(this,b)},l.reparent=function(a){var b,c,d;if(null==a&&(a=null),this.destroyed)throw n();if(!a&&!this.isTop)throw Error("Must either provide a parent or is-top = true");if(c=this.parent,a!==c){if(a===this)throw Error("Cannot parent to self");if(a&&a.parent===this)throw Error("Trying to become your own grandpa");if(this.parent=a,!this.isTop){if(d=c.children,b=d.lastIndexOf(this),-1===b)throw Error("Not found in old parents' children");d.splice(b,1),a.children.push(this)}}},l.top=function(){if(this.destroyed)throw n();return this.isTop?this:this.parent.top()},l.add=function(a,b,c){if(null==b&&(b=!1),this.destroyed)throw n();a instanceof o?this.tmps[a.id]={isMutable:b,type:c}:this.variables[a.name]={isMutable:b,type:c}},l.addConst=function(a,b){this.consts[a]=b},l.has=function(a){if(this.destroyed)throw n();return null!=j(this,a)},l.isMutable=function(a){var b;if(this.destroyed)throw n();return(null!=(b=j(this,a))?b.isMutable:void 0)||!1},l.type=function(a){var b;if(this.destroyed)throw n();return(null!=(b=j(this,a))?b.type:void 0)||p.any},l.constValue=function(a){var b,c,d;if(this.destroyed)throw n();for(c=this,d=0;c;){if(++d,d>1e3)throw Error("Infinite loop detected");if(c=c.top(),null!=(b=k(c,a)))return b;c=c.parent}},a}(),a.exports=m,(j=a.exports).ScopeDestroyedError=n}.call(this),a.exports},b["./parser-nodes"]=function(){var a={exports:this};return function(c){"use strict";function d(a,b,c){var d,e,f,g,h,i,j;for(j=[],g=!1,d=o(a),e=0,f=d.length;f>e;++e)h=d[e],i=b(h,c),j.push(i),h!==i&&(g=!0);return g?j:a}function e(a,b){var c,d,e,f,g,h,i,k,l,m,o;for(h=n.call(arguments,3),i=null!=a?a-1:null,k=!1,d=h.length;d--&&(g=h[d],!g||g instanceof U||j(g)&&0===g.length);)h.pop();for(c=[],d=0,e=h.length;e>d;++d)g=h[d],c.push(N(g,null,i));for(o=c,f=!1,d=0,e=o.length;e>d;++d)if(m=o[d],o.length>50||-1!==m.indexOf("\n")){f=!0;break}if(l=f){for(c=[],d=0,e=o.length;e>d;++d)m=o[d],c.push("  "+m.split("\n").join("\n  "));return o=c,b+"(\n"+o.join(",\n")+")"}return b+"("+o.join(", ")+")"}var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb;f=function(a,b,c,d,e){function f(a,b){i||(--m,null!=a&&null==h&&(h=a),c&&null==h&&arguments.length>1&&k.push(b),n||g())}function g(){for(;!i&&null==h&&a>m&&++j<b;)++m,n=!0,d(j,l(f)),n=!1;i||null==h&&0!==m||(i=!0,null!=h?e(h):e(null,k))}var h,i,j,k,m,n;if("number"!=typeof a)throw TypeError("Expected limit to be a Number, got "+p(a));if("number"!=typeof b)throw TypeError("Expected length to be a Number, got "+p(b));if(null==c)c=!1;else if("boolean"!=typeof c)throw TypeError("Expected hasResult to be a Boolean, got "+p(c));if("function"!=typeof d)throw TypeError("Expected onValue to be a Function, got "+p(d));if("function"!=typeof e)throw TypeError("Expected onComplete to be a Function, got "+p(e));return k=c?[]:null,0>=b?e(null,k):((1>a||a!==a)&&(a=1/0),h=null,m=0,n=!1,i=!1,j=-1,g(),void 0)},g="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},h=function(a,b){var c;if("number"!=typeof a)throw TypeError("Expected numArgs to be a Number, got "+p(a));if("function"!=typeof b)throw TypeError("Expected f to be a Function, got "+p(b));return a>1?(c=function(d){var e;return d.length>=a?b.apply(this,d):e=function(){return 0===arguments.length?e:c.call(this,d.concat(n.call(arguments)))}},c([])):b},i="function"==typeof Array.prototype.indexOf?function(){var a;return a=Array.prototype.indexOf,function(b,c){return-1!==a.call(c,b)}}():function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},j="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),k="function"==typeof Object.keys?Object.keys:function(a){var b,c;c=[];for(b in a)m.call(a,b)&&c.push(b);return c},l=function(){function a(){throw Error("Attempted to call function more than once")}function b(){}return function(c,d){if("function"!=typeof c)throw TypeError("Expected func to be a Function, got "+p(c));if(null==d)d=!1;else if("boolean"!=typeof d)throw TypeError("Expected silentFail to be a Boolean, got "+p(d));return function(){var e;return e=c,c=d?b:a,e.apply(this,arguments)}}}(),m=Object.prototype.hasOwnProperty,n=Array.prototype.slice,o=function(a){if(null==a)throw TypeError("Expected an object, got "+p(a));if(j(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return n.call(a);throw TypeError("Expected an object with a length property, got "+p(a))},p=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),mb=b("./types"),q=b("./parser-utils"),T=q.nodeToType,d=q.map,R=q.mapAsync,q=b("./utils"),X=q.quote,O=q.isPrimordial,null!=(q=b("util"))&&(N=q.inspect),S=function(){function a(){var c;throw c=this instanceof a?this:g(b),Error("Node should not be instantiated directly")}var b;return b=a.prototype,a.displayName="Node",b.type=function(){return mb.any},b.walk=function(){return this},b.walkAsync=function(a,b){return b(null,this)},b.cacheable=!0,b.withLabel=function(a){return null==a&&(a=null),x(this.index,this.scope,[this],a)},b._reduce=function(a){return this.walk(function(b){return b.reduce(a)})},b.reduce=function(a){var b;return null!=this._reduced?this._reduced:(b=this._reduce(a),this._reduced=b===this?this:b.reduce(a))},b.isConst=function(){return!1},b.constValue=function(){throw Error("Not a const: "+p(this))},b.isConstType=function(){return!1},b.isConstValue=function(){return!1},b.isLiteral=function(){return this.isConst()},b.literalValue=function(){return this.constValue()},b.isNoop=function(a){return this.reduce(a)._isNoop(a)},b._isNoop=function(){return!1},b.isStatement=function(){return!1},b.rescope=function(a){function b(d){var e,f;return e=d.scope,e===a?d:e===c?d.rescope(a):(f=e.parent,f===c&&e.reparent(a),d.walk(b))}var c;return this.scope===a?this:(c=this.scope,this.scope=a,this.walk(b))},b.doWrap=function(a){var b,c;return this.isStatement()?(b=a.pushScope(!0,this.scope),c=z(this.index,this.scope,K(this.index,this.scope,[],this.rescope(b),!0,!0),[]),a.popScope(),c):this},a}(),S.Access=s=function(a){function b(a,d,e,f){var h;return h=this instanceof b?this:g(c),h.index=a,h.scope=d,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.parent=e,h.child=f,h}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="AccessNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Access",b.argNames=["parent","child"],c.type=function(a){var b,c;return c=this,null==(b=this._type)?this._type=function(){var b,d,e,f,g;if(g=c.parent.type(a),f=g.isSubsetOf(mb.string),f||g.isSubsetOf(mb.arrayLike)){if(b=a.macroExpand1(c.child).reduce(a),b.isConst()){if(e=b.constValue(),"length"===e)return mb.number;if("number"==typeof e)return e>=0&&0===e%1?f?mb.string.union(mb.undefined):g.subtype?g.subtype.union(mb.undefined):mb.any:mb.undefined}else if(d=b.type(a),d.isSubsetOf(mb.number))return f?mb.string.union(mb.undefined):g.subtype?g.subtype.union(mb.undefined):mb.any}else if(g.isSubsetOf(mb.object)&&"function"==typeof g.value&&(b=a.macroExpand1(c.child).reduce(a),b.isConst()))return g.value(String(b.constValue()));return mb.any}():b},c._reduce=function(a){function c(d){var e;return d instanceof L&&"__currentArrayLength"===d.name?(m.cacheable&&null==f&&(f=a.makeTmp(d.index,"ref",m.type(a)),f.scope=d.scope),b(d.index,d.scope,null!=f?f:m,C(d.index,d.scope,"length"))):d instanceof b?(e=c(d.parent),e!==d.parent?b(d.index,d.scope,e,d.child).walk(c):d.walk(c)):d.walk(c)}var d,e,f,g,h,i,j,k,l,m,n,o,p,q;return m=this.parent.reduce(a).doWrap(a),f=null,g=c(this.child.reduce(a).doWrap(a)),null!=f?jb(this.index,this.scope,b(this.index,this.scope,v(this.index,this.scope,f,"=",m),g),[f.id]):m.isConst()&&g.isConst()&&(n=m.constValue(),h=g.constValue(),h in Object(n)&&(q=n[h],null===q||q instanceof RegExp||"string"==(d=typeof q)||"number"===d||"boolean"===d||"undefined"===d))?C(this.index,this.scope,q):g instanceof z&&g.func instanceof L&&"__range"===g.func.name?(d=g.args,o=d[0],i=d[1],p=d[2],l=d[3],k=!p.isConst()||1!==p.constValue(),k||(l.isConst()?l.constValue()&&(i=i.isConst()&&"number"==typeof i.constValue()?C(i.index,i.scope,+i.constValue()+1||1/0):w(i.index,i.scope,w(i.index,i.scope,i,"+",C(l.index,l.scope,1)),"||",C(i.index,i.scope,1/0))):i=M(i.index,i.scope,l,w(i.index,i.scope,w(i.index,i.scope,i,"+",C(l.index,l.scope,1)),"||",C(i.index,i.scope,1/0)),i)),e=[m],j=!i.isConst()||void 0!==(d=i.constValue())&&d!==1/0,(!o.isConst()||0!==o.constValue()||j||k)&&e.push(o),(j||k)&&e.push(i),k&&(e.push(p),(!l.isConst()||l.constValue())&&e.push(l)),z(this.index,this.scope,L(this.index,this.scope,k?"__sliceStep":"__slice"),e,!1,!k).reduce(a)):m!==this.parent||g!==this.child?b(this.index,this.scope,m,g):this},c._isNoop=function(a){var b;return null==(b=this.__isNoop)?this.__isNoop=this.parent.isNoop(a)&&this.child.isNoop(a):b},c.inspect=function(a){return e(a,"AccessNode",this.index,this.parent,this.child)},c.walk=function(a){var c,d;return d=a(this.parent),c=a(this.child),d!==this.parent||c!==this.child?b(this.index,this.scope,d,c):this},c.walkAsync=function(a,c){var d,e;return e=this,a(this.parent,(d=!1,function(f,g){var h;if(d)throw Error("Attempted to call function more than once");return d=!0,null!=f?c(f):a(e.child,(h=!1,function(a,d){if(h)throw Error("Attempted to call function more than once");return h=!0,null!=a?c(a):c(null,g!==e.parent||d!==e.child?b(e.index,e.scope,g,d):e)}))}))},b}(S),S.AccessMulti=r=function(a){function b(a,d,e,f){var h;return h=this instanceof b?this:g(c),h.index=a,h.scope=d,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.parent=e,h.elements=f,h}var c,f;return f=a.prototype,c=b.prototype=g(f),c.constructor=b,b.displayName="AccessMultiNode","function"==typeof a.extended&&a.extended(b),b.cappedName="AccessMulti",b.argNames=["parent","elements"],c.type=function(){return mb.array},c._reduce=function(a){var b,c,d,e,f,g;return b=this,c=this.parent.reduce(a),e=c,g=[],c.cacheable&&(f=a.makeTmp(a.indexFromPosition(this.index),"ref",c.type(a)),f.scope=this.scope,g.push(f.id),e=v(this.index,this.scope,f,"=",c.doWrap(a)),c=f),d=u(this.index,this.scope,function(){var d,f,g,h,i;for(d=[],f=o(b.elements),i=0,g=f.length;g>i;++i)h=f[i],d.push(s(b.index,b.scope,0===i?e:c,h.reduce(a)));return d}()),g.length?jb(this.index,this.scope,d,g):d},c.inspect=function(a){return e(a,"AccessMultiNode",this.index,this.parent,this.elements)},c.walk=function(a){var c,e;return e=a(this.parent),c=d(this.elements,a),e!==this.parent||c!==this.elements?b(this.index,this.scope,e,c):this},c.walkAsync=function(a,c){var d,e;return e=this,a(this.parent,(d=!1,function(f,g){var h;if(d)throw Error("Attempted to call function more than once");return d=!0,null!=f?c(f):R(e.elements,a,(h=!1,function(a,d){if(h)throw Error("Attempted to call function more than once");return h=!0,null!=a?c(a):c(null,g!==e.parent||d!==e.elements?b(e.index,e.scope,g,d):e)}))}))},b}(S),S.Args=t=function(a){function b(a,d){var e;return e=this instanceof b?this:g(c),e.index=a,e.scope=d,e._reduced=void 0,e._macroExpanded=void 0,e._macroExpandAlled=void 0,e}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="ArgsNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Args",b.argNames=[],c.type=function(){return mb.args},c.cacheable=!1,c._isNoop=function(){return!0},c.inspect=function(a){return e(a,"ArgsNode",this.index)},b}(S),S.Array=u=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.elements=e,f}var c,f;return f=a.prototype,c=b.prototype=g(f),c.constructor=b,b.displayName="ArrayNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Array",b.argNames=["elements"],c.type=function(){return mb.array},c._reduce=function(a){var c;return c=d(this.elements,function(b){return b.reduce(a).doWrap(a)}),c!==this.elements?b(this.index,this.scope,c):this},c._isNoop=function(a){var b,c,d,e,f,g;if(null==(f=this.__isNoop)){for(c=!0,b=o(this.elements),d=0,e=b.length;e>d;++d)if(g=b[d],!g.isNoop(a)){c=!1;break}return this.__isNoop=c}return f},c.isLiteral=function(){var a,b,c,d,e,f;if(null==(e=this._isLiteral)){for(b=!0,a=o(this.elements),c=0,d=a.length;d>c;++c)if(f=a[c],!f.isLiteral()){b=!1;break}return this._isLiteral=b}return e},c.literalValue=function(){var a,b,c,d,e;for(a=[],b=o(this.elements),c=0,d=b.length;d>c;++c)e=b[c],a.push(e.literalValue());return a},c.inspect=function(a){return e(a,"ArrayNode",this.index,this.elements)},c.walk=function(a){var c;return c=d(this.elements,a),c!==this.elements?b(this.index,this.scope,c):this},c.walkAsync=function(a,c){var d,e;return e=this,R(this.elements,a,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.elements?b(e.index,e.scope,f):e)}))},b}(S),S.Assign=v=function(a){function b(a,d,e,f,h){var i;return i=this instanceof b?this:g(c),i.index=a,i.scope=d,i._reduced=void 0,i._macroExpanded=void 0,i._macroExpandAlled=void 0,i.left=e,i.op=f,i.right=h,i}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="AssignNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Assign",b.argNames=["left","op","right"],c.type=function(){var a;return a={"=":function(a,b){return b},"+=":function(a,b){return a.isSubsetOf(mb.numeric)&&b.isSubsetOf(mb.numeric)?mb.number:a.overlaps(mb.numeric)&&b.overlaps(mb.numeric)?mb.stringOrNumber:mb.string},"-=":mb.number,"*=":mb.number,"/=":mb.number,"%=":mb.number,"<<=":mb.number,">>=":mb.number,">>>=":mb.number,"&=":mb.number,"^=":mb.number,"|=":mb.number},function(b){var c,d,e;return null==(c=this._type)?(m.call(a,d=this.op)&&(e=a[d]),this._type=e?"function"==typeof e?e(this.left.type(b),this.right.type(b)):e:mb.any):c}}(),c._reduce=function(a){var c,d;return c=this.left.reduce(a),d=this.right.reduce(a).doWrap(a),c!==this.left||d!==this.right?b(this.index,this.scope,c,this.op,d):this},c.inspect=function(a){return e(a,"AssignNode",this.index,this.left,this.op,this.right)},c.walk=function(a){var c,d;return c=a(this.left),d=a(this.right),c!==this.left||d!==this.right?b(this.index,this.scope,c,this.op,d):this},c.walkAsync=function(a,c){var d,e;return e=this,a(this.left,(d=!1,function(f,g){var h;if(d)throw Error("Attempted to call function more than once");return d=!0,null!=f?c(f):a(e.right,(h=!1,function(a,d){if(h)throw Error("Attempted to call function more than once");return h=!0,null!=a?c(a):c(null,g!==e.left||d!==e.right?b(e.index,e.scope,g,e.op,d):e)}))}))},b}(S),S.Binary=w=function(a){function b(a,d,e,f,h){var i;return i=this instanceof b?this:g(c),i.index=a,i.scope=d,i._reduced=void 0,i._macroExpanded=void 0,i._macroExpandAlled=void 0,i.left=e,i.op=f,i.right=h,i}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="BinaryNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Binary",b.argNames=["left","op","right"],c.type=function(){var a;return a={"*":mb.number,"/":mb.number,"%":mb.number,"+":function(a,b){return a.isSubsetOf(mb.numeric)&&b.isSubsetOf(mb.numeric)?mb.number:a.overlaps(mb.numeric)&&b.overlaps(mb.numeric)?mb.stringOrNumber:mb.string},"-":mb.number,"<<":mb.number,">>":mb.number,">>>":mb.number,"<":mb.boolean,"<=":mb.boolean,">":mb.boolean,">=":mb.boolean,"in":mb.boolean,"instanceof":mb.boolean,"==":mb.boolean,"!=":mb.boolean,"===":mb.boolean,"!==":mb.boolean,"&":mb.number,"^":mb.number,"|":mb.number,"&&":function(a,b){return a.intersect(mb.potentiallyFalsy).union(b)},"||":function(a,b){return a.intersect(mb.potentiallyTruthy).union(b)}},function(b){var c,d,e;return null==(c=this._type)?(m.call(a,d=this.op)&&(e=a[d]),this._type=e?"function"==typeof e?e(this.left.type(b),this.right.type(b)):e:mb.any):c}}(),c._reduce=function(){function a(a,b){var c;return(c=a.constValue())!==c?x(this.index,this.scope,[b,a]):void 0}function c(a,b){var c;return(c=b.constValue())!==c?x(this.index,this.scope,[a,b]):void 0}function d(a,c){var d,e;return d=a instanceof rb&&"+"===a.op?a.node:a,e=c instanceof rb&&"+"===c.op?c.node:c,a!==d||c!==e?b(this.index,this.scope,d,this.op,e):void 0}var e,f,g,i;return e={"*":h(2,function(a,b){return a*b}),"/":h(2,function(a,b){return a/b}),"%":h(2,function(a,b){return a%b}),"+":function(){function a(a){var b;return null===a||"number"==(b=typeof a)||"boolean"===b||"undefined"===b}return function(b,c){return a(b)&&a(c)?b- -c:""+b+c}}(),"-":h(2,function(a,b){return a-b}),"<<":h(2,function(a,b){return a<<b}),">>":h(2,function(a,b){return a>>b}),">>>":h(2,function(a,b){return a>>>b}),"<":h(2,function(a,b){return b>a}),"<=":h(2,function(a,b){return b>=a}),">":h(2,function(a,b){return a>b}),">=":h(2,function(a,b){return a>=b}),"==":h(2,function(a,b){return a==b}),"!=":h(2,function(a,b){return a!=b}),"===":h(2,function(a,b){return a===b}),"!==":h(2,function(a,b){return a!==b}),"&":h(2,function(a,b){return a&b}),"^":h(2,function(a,b){return a^b}),"|":h(2,function(a,b){return a|b}),"&&":h(2,function(a,b){return a&&b}),"||":h(2,function(a,b){return a||b})},f={"*":function(a,b){var c;return 1===a.constValue()?rb(this.index,this.scope,"+",b):-1===a.constValue()?rb(this.index,this.scope,"-",b):(c=a.constValue())!==c?x(this.index,this.scope,[b,a]):void 0},"/":a,"%":a,"+":function(a,c,d){var e;return 0===a.constValue()&&c.type(d).isSubsetOf(mb.number)?rb(this.index,this.scope,"+",c):""===a.constValue()&&c.type(d).isSubsetOf(mb.string)?c:"string"==typeof a.constValue()&&c instanceof b&&"+"===c.op&&c.left.isConst()&&"string"==typeof c.left.constValue()?b(this.index,this.scope,C(a.index,this.scope,""+a.constValue()+c.left.constValue()),"+",c.right):(e=a.constValue())!==e?x(this.index,this.scope,[c,a]):void 0},"-":function(a,b){var c;return 0===a.constValue()?rb(this.index,this.scope,"-",b):(c=a.constValue())!==c?x(this.index,this.scope,[b,a]):void 0},"<<":a,">>":a,">>>":a,"&":a,"|":a,"^":a,"&&":function(a,b){return a.constValue()?b:a},"||":function(a,b){return a.constValue()?a:b}},i={"*":function(a,b){var c;return 1===b.constValue()?rb(this.index,this.scope,"+",a):-1===b.constValue()?rb(this.index,this.scope,"-",a):(c=b.constValue())!==c?x(this.index,this.scope,[a,b]):void 0},"/":function(a,b){var c;return 1===b.constValue()?rb(this.index,this.scope,"+",a):-1===b.constValue()?rb(this.index,this.scope,"-",a):(c=b.constValue())!==c?x(this.index,this.scope,[a,b]):void 0},"%":c,"+":function(a,c,d){var e;return 0===c.constValue()&&a.type(d).isSubsetOf(mb.number)?rb(this.index,this.scope,"+",a):"number"==typeof c.constValue()&&c.constValue()<0&&a.type(d).isSubsetOf(mb.number)?b(this.index,this.scope,a,"-",C(c.index,this.scope,-c.constValue())):""===c.constValue()&&a.type(d).isSubsetOf(mb.string)?a:"string"==typeof c.constValue()&&a instanceof b&&"+"===a.op&&a.right.isConst()&&"string"==typeof a.right.constValue()?b(this.index,this.scope,a.left,"+",C(a.right.index,this.scope,""+a.right.constValue()+c.constValue())):(e=c.constValue())!==e?x(this.index,this.scope,[a,c]):void 0},"-":function(a,c,d){var e;return 0===c.constValue()?rb(this.index,this.scope,"+",a):"number"==typeof c.constValue()&&c.constValue()<0&&a.type(d).isSubsetOf(mb.number)?b(this.index,this.scope,a,"+",C(c.index,this.scope,-c.constValue())):(e=c.constValue())!==e?x(this.index,this.scope,[a,c]):void 0},"<<":c,">>":c,">>>":c,"&":c,"|":c,"^":c},g={"*":d,"/":d,"%":d,"-":d,"<<":d,">>":d,">>>":d,"&":d,"^":d,"|":d,"&&":function(a,c,d){var e,f,g;if(g=a.type(d),g.isSubsetOf(mb.alwaysTruthy))return x(this.index,this.scope,[a,c]);if(g.isSubsetOf(mb.alwaysFalsy))return a;if(a instanceof b&&"&&"===a.op){if(a.right.isConst()?e=!!a.right.constValue():(f=a.right.type(d),e=f.isSubsetOf(mb.alwaysTruthy)?!0:f.isSubsetOf(mb.alwaysFalsy)?!1:null),e===!0)return b(this.index,this.scope,a.left,"&&",x(a.right.index,this.scope,[a.right,c]));if(e===!1)return a}},"||":function(a,c,d){var e,f,g,h,i;if(i=a.type(d),i.isSubsetOf(mb.alwaysTruthy))return a;if(i.isSubsetOf(mb.alwaysFalsy))return x(this.index,this.scope,[a,c]);if(a instanceof b&&"||"===a.op){if(a.right.isConst()?f=!!a.right.constValue():(h=a.right.type(d),f=h.isSubsetOf(mb.alwaysTruthy)?!0:h.isSubsetOf(mb.alwaysFalsy)?!1:null),f===!0)return a;
if(f===!1)return b(this.index,this.scope,a.left,"||",x(a.right.index,this.scope,[a.right,c]))}else if(a instanceof M&&a.whenFalse.isConst()&&!a.whenFalse.constValue()){for(e=a.test,g=a.whenTrue;g instanceof M&&g.whenFalse.isConst()&&!g.whenFalse.constValue();)e=b(a.index,a.scope,e,"&&",g.test),g=g.whenTrue;return b(this.index,this.scope,b(a.index,a.scope,e,"&&",g),"||",c)}}},function(a){var c,d,h,j;if(d=this.left.reduce(a).doWrap(a),j=this.right.reduce(a).doWrap(a),h=this.op,d.isConst()){if(j.isConst()&&m.call(e,h))return C(this.index,this.scope,e[h](d.constValue(),j.constValue()));if(m.call(f,h)&&null!=(c=f[h].call(this,d,j,a)))return c}return j.isConst()&&m.call(i,h)&&null!=(c=i[h].call(this,d,j,a))?c:m.call(g,h)&&null!=(c=g[h].call(this,d,j,a))?c:d!==this.left||j!==this.right?b(this.index,this.scope,d,h,j):this}}(),c._isNoop=function(a){var b;return null==(b=this.__isNoop)?this.__isNoop=this.left.isNoop(a)&&this.right.isNoop(a):b},c.inspect=function(a){return e(a,"BinaryNode",this.index,this.left,this.op,this.right)},c.walk=function(a){var c,d;return c=a(this.left),d=a(this.right),c!==this.left||d!==this.right?b(this.index,this.scope,c,this.op,d):this},c.walkAsync=function(a,c){var d,e;return e=this,a(this.left,(d=!1,function(f,g){var h;if(d)throw Error("Attempted to call function more than once");return d=!0,null!=f?c(f):a(e.right,(h=!1,function(a,d){if(h)throw Error("Attempted to call function more than once");return h=!0,null!=a?c(a):c(null,g!==e.left||d!==e.right?b(e.index,e.scope,g,e.op,d):e)}))}))},b}(S),S.Block=x=function(a){function b(a,d,e,f){var h;return h=this instanceof b?this:g(c),null==f&&(f=null),h.index=a,h.scope=d,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.nodes=e,h.label=f,h}var c,f;return f=a.prototype,c=b.prototype=g(f),c.constructor=b,b.displayName="BlockNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Block",b.argNames=["nodes","label"],c.type=function(a){var b;return b=this.nodes,0===b.length?mb.undefined:b[b.length-1].type(a)},c.withLabel=function(a,c){var d,e;if(e=this,null==a&&(a=null),null==this.label){if(1===this.nodes.length)return this.nodes[0].withLabel(a,c);if(this.nodes.length>1&&(d=this.nodes)[d.length-1]instanceof I&&function(){var a,b,c,d,f,g;for(c=!0,a=o(e.nodes),d=0,f=a.length,b=-1,b+=f,b>f&&(b=f);b>d;++d)if(g=a[d],!(g instanceof v||g instanceof sb)){c=!1;break}return c}())return b(this.index,this.scope,n.call(this.nodes,0,-1).concat([(d=this.nodes)[d.length-1].withLabel(a,c)]))}return b(this.index,this.scope,this.nodes,a)},c._reduce=function(a){var c,d,e,f,g,h,i,j;for(e=!1,d=[],c=o(this.nodes),f=0,h=c.length;h>f;++f)if(i=c[f],j=i.reduce(a),j instanceof b&&null==j.label)d.push.apply(d,o(j.nodes)),e=!0;else if(j instanceof U)e=!0;else{if(j instanceof y||j instanceof D||j instanceof hb||j instanceof Z){d.push(j),(j!==i||h-1>f)&&(e=!0);break}d.push(j),j!==i&&(e=!0)}return g=null!=this.label?this.label.reduce(a):this.label,0===d.length?U(this.index,this.scope):null==g&&1===d.length?d[0]:e||g!==this.label?b(this.index,this.scope,d,g):this},c.isStatement=function(){var a,b,c,d;for(c=!1,a=o(this.nodes),b=a.length;b--;)if(d=a[b],d.isStatement()){c=!0;break}return c},c._isNoop=function(a){var b,c,d,e,f;if(null==(e=this.__isNoop)){for(c=!0,b=o(this.nodes),d=b.length;d--;)if(f=b[d],!f.isNoop(a)){c=!1;break}return this.__isNoop=c}return e},c.inspect=function(a){return e(a,"BlockNode",this.index,this.nodes,this.label)},c.walk=function(c){var e,f;return f=d(this.nodes,c),e=this.label instanceof a?c(this.label):this.label,f!==this.nodes||e!==this.label?b(this.index,this.scope,f,e):this},c.walkAsync=function(c,d){var e,f;return f=this,R(this.nodes,c,(e=!1,function(g,h){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):(f.label instanceof a?function(a){var b;return c(f.label,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(f.label)})(function(a){return d(null,h!==f.nodes||a!==f.label?b(f.index,f.scope,h,a):f)})}))},b}(S),S.Break=y=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),null==e&&(e=null),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.label=e,f}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="BreakNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Break",b.argNames=["label"],c.type=function(){return mb.undefined},c.isStatement=function(){return!0},c.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,a)},c.inspect=function(a){return e(a,"BreakNode",this.index,this.label)},c.walk=function(c){var d;return d=this.label instanceof a?c(this.label):this.label,d!==this.label?b(this.index,this.scope,d):this},c.walkAsync=function(c,d){var e;return e=this,(this.label instanceof a?function(a){var b;return c(e.label,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(e.label)})(function(a){return d(null,a!==e.label?b(e.index,e.scope,a):e)})},b}(S),S.Call=z=function(a){function b(a,c,d,e,h,i){var j;return j=this instanceof b?this:g(f),null==h&&(h=!1),null==i&&(i=!1),j.index=a,j.scope=c,j._reduced=void 0,j._macroExpanded=void 0,j._macroExpandAlled=void 0,j.func=d,j.args=e,j.isNew=h,j.isApply=i,j}var f,h;return h=a.prototype,f=b.prototype=g(h),f.constructor=b,b.displayName="CallNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Call",b.argNames=["func","args","isNew","isApply"],f.type=function(){var a,b,c;return a={Object:mb.object,String:mb.string,Number:mb.number,Boolean:mb.boolean,Function:mb["function"],Array:mb.array,Date:mb.string,RegExp:mb.regexp,Error:mb.error,RangeError:mb.error,ReferenceError:mb.error,SyntaxError:mb.error,TypeError:mb.error,URIError:mb.error,escape:mb.string,unescape:mb.string,parseInt:mb.number,parseFloat:mb.number,isNaN:mb.boolean,isFinite:mb.boolean,decodeURI:mb.string,decodeURIComponent:mb.string,encodeURI:mb.string,encodeURIComponent:mb.string},c={Object:{getPrototypeOf:mb.object,getOwnPropertyDescriptor:mb.object,getOwnPropertyNames:mb.string.array(),create:mb.object,defineProperty:mb.object,defineProperties:mb.object,seal:mb.object,freeze:mb.object,preventExtensions:mb.object,isSealed:mb.boolean,isFrozen:mb.boolean,isExtensible:mb.boolean,keys:mb.string.array()},String:{fromCharCode:mb.string},Number:{isFinite:mb.boolean,isNaN:mb.boolean},Array:{isArray:mb.boolean},Math:{abs:mb.number,acos:mb.number,asin:mb.number,atan:mb.number,atan2:mb.number,ceil:mb.number,cos:mb.number,exp:mb.number,floor:mb.number,log:mb.number,max:mb.number,min:mb.number,pow:mb.number,random:mb.number,round:mb.number,sin:mb.number,sqrt:mb.number,tan:mb.number},JSON:{stringify:mb.string.union(mb.undefined),parse:mb.string.union(mb.number).union(mb.boolean).union(mb["null"]).union(mb.array).union(mb.object)},Date:{UTC:mb.number,now:mb.number}},b={String:{toString:mb.string,valueOf:mb.string,charAt:mb.string,charCodeAt:mb.number,concat:mb.string,indexOf:mb.number,lastIndexOf:mb.number,localeCompare:mb.number,match:mb.array.union(mb["null"]),replace:mb.string,search:mb.number,slice:mb.string,split:mb.string.array(),substring:mb.string,toLowerCase:mb.string,toLocaleLowerCase:mb.string,toUpperCase:mb.string,toLocaleUpperCase:mb.string,trim:mb.string},Boolean:{toString:mb.string,valueOf:mb.boolean},Number:{toString:mb.string,valueOf:mb.number,toLocaleString:mb.string,toFixed:mb.string,toExponential:mb.string,toPrecision:mb.string},Date:{toString:mb.string,toDateString:mb.string,toTimeString:mb.string,toLocaleString:mb.string,toLocaleDateString:mb.string,toLocaleTimeString:mb.string,valueOf:mb.number,getTime:mb.number,getFullYear:mb.number,getUTCFullYear:mb.number,getMonth:mb.number,getUTCMonth:mb.number,getDate:mb.number,getUTCDate:mb.number,getDay:mb.number,getUTCDay:mb.number,getHours:mb.number,getUTCHours:mb.number,getMinutes:mb.number,getUTCMinutes:mb.number,getSeconds:mb.number,getUTCSeconds:mb.number,getMilliseconds:mb.number,getUTCMilliseconds:mb.number,getTimezoneOffset:mb.number,setTime:mb.number,setMilliseconds:mb.number,setUTCMilliseconds:mb.number,setSeconds:mb.number,setUTCSeconds:mb.number,setMinutes:mb.number,setUTCMinutes:mb.number,setHours:mb.number,setUTCHours:mb.number,setDate:mb.number,setUTCDate:mb.number,setMonth:mb.number,setUTCMonth:mb.number,setFullYear:mb.number,setUTCFullYear:mb.number,toUTCString:mb.string,toISOString:mb.string,toJSON:mb.string},RegExp:{exec:mb.array.union(mb["null"]),test:mb.boolean,toString:mb.string},Error:{toString:mb.string}},function(b){var d,e;return e=this,null==(d=this._type)?this._type=function(){var d,f,g,h,i,j,k,l,n,o;if(j=e.func,k=j.type(b),k.isSubsetOf(mb["function"]))return k.args[0];if(j instanceof L){if(l=j.name,m.call(a,l))return a[l];if((null!=b?b.macros.hasHelper(l):void 0)&&(k=b.macros.helperType(l),k.isSubsetOf(mb["function"])))return k.args[0]}else if(j instanceof s&&(n=j.parent,i=j.child,i instanceof C))if("call"===(d=i.value)||"apply"===d){if(o=n.type(b),o.isSubsetOf(mb["function"]))return o.args[0]}else if(n instanceof L&&m.call(c,d=n.name)&&m.call(f=c[d],g=i.value)&&null!=(h=f[g]))return h;return mb.any}():d}}(),f._reduce=function(){var a,e;return a={escape:!0,unescape:!0,parseInt:!0,parseFloat:!0,isNaN:!0,isFinite:!0,decodeURI:!0,decodeURIComponent:!0,encodeURI:!0,encodeURIComponent:!0,String:!0,Boolean:!0,Number:!0,RegExp:!0},e={String:{fromCharCode:!0},Number:{isFinite:!0,isNaN:!0},Math:{abs:!0,acos:!0,asin:!0,atan:!0,atan2:!0,ceil:!0,cos:!0,exp:!0,floor:!0,log:!0,max:!0,min:!0,pow:!0,round:!0,sin:!0,sqrt:!0,tan:!0},JSON:{parse:!0,stringify:!0}},function(f){var g,h,i,j,k,l,n,p,q,r,t,u,v,w,x,y;if(v=this.func.reduce(f).doWrap(f),q=d(this.args,function(a){return a.reduce(f).doWrap(f)}),!this.isNew&&!this.isApply){for(t=[],n=!0,g=o(q),h=0,i=g.length;i>h;++h){if(p=g[h],!p.isConst()){n=!1;break}t.push(p.constValue())}if(n)if(v instanceof L){if(m.call(a,v.name))try{if(y=c[v.name].apply(void 0,o(t)),null===y||"number"==(j=typeof y)||"string"===j||"boolean"===j||"undefined"===j)return C(this.index,this.scope,y)}catch(z){}}else if(v instanceof s&&v.child.isConst())if(w=v.parent,r=v.child,u=r.constValue(),w.isConst()){if(x=w.constValue(),"function"==typeof x[u])try{if(y=x[u].apply(x,o(t)),null===y||"number"==(j=typeof y)||"string"===j||"boolean"===j||"undefined"===j)return C(this.index,this.scope,y)}catch(z){}}else if(w instanceof L&&(m.call(e,j=w.name)&&m.call(k=e[j],l=r.value)?k[l]:void 0))try{if(y=(j=c[w.name])[u].apply(j,o(t)),null===y||"number"==(j=typeof y)||"string"===j||"boolean"===j||"undefined"===j)return C(this.index,this.scope,y)}catch(z){}}return v!==this.func||q!==this.args?b(this.index,this.scope,v,q,this.isNew,this.isApply):this}}(),f.inspect=function(a){return e(a,"CallNode",this.index,this.func,this.args,this.isNew,this.isApply)},f.walk=function(a){var c,e;return e=a(this.func),c=d(this.args,a),e!==this.func||c!==this.args?b(this.index,this.scope,e,c,this.isNew,this.isApply):this},f.walkAsync=function(a,c){var d,e;return e=this,a(this.func,(d=!1,function(f,g){var h;if(d)throw Error("Attempted to call function more than once");return d=!0,null!=f?c(f):R(e.args,a,(h=!1,function(a,d){if(h)throw Error("Attempted to call function more than once");return h=!0,null!=a?c(a):c(null,g!==e.func||d!==e.args?b(e.index,e.scope,g,d,e.isNew,e.isApply):e)}))}))},b}(S),S.Cascade=A=function(a){function b(a,d,e,f){var h;return h=this instanceof b?this:g(c),h.index=a,h.scope=d,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.node=e,h.cascades=f,h}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="CascadeNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Cascade",b.argNames=["node","cascades"],c.inspect=function(a){return e(a,"CascadeNode",this.index,this.node,this.cascades)},c.walk=function(a){var c;return c=a(this.node),c!==this.node?b(this.index,this.scope,c,this.cascades):this},c.walkAsync=function(a,c){var d,e;return e=this,a(this.node,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.node?b(e.index,e.scope,f,e.cascades):e)}))},b}(S),S.Comment=B=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.text=e,f}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="CommentNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Comment",b.argNames=["text"],c.type=function(){return mb.undefined},c.cacheable=!1,c.isConst=function(){return!0},c.constValue=function(){},c._isNoop=function(){return!0},c.inspect=function(a){return e(a,"CommentNode",this.index,this.text)},c.walk=function(){return this},c.walkAsync=function(a,b){return b(null,this)},b}(S),S.Const=C=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.value=e,f}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="ConstNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Const",b.argNames=["value"],c.type=function(){var a;if(a=this.value,null===a)return mb["null"];switch(typeof a){case"number":return mb.number;case"string":return mb.string;case"boolean":return mb.boolean;case"undefined":return mb.undefined;default:throw Error("Unknown type for "+String(a))}},c.cacheable=!1,c.isConst=function(){return!0},c.constValue=function(){return this.value},c.isConstType=function(a){return a===typeof this.value},c.isConstValue=function(a){return a===this.value},c._isNoop=function(){return!0},c.inspect=function(a){return"ConstNode("+N(this.value,null,null!=a?a-1:null)+")"},c.walk=function(){return this},c.walkAsync=function(a,b){return b(null,this)},b}(S),S.Continue=D=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),null==e&&(e=null),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.label=e,f}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="ContinueNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Continue",b.argNames=["label"],c.type=function(){return mb.undefined},c.isStatement=function(){return!0},c.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,a)},c.inspect=function(a){return e(a,"ContinueNode",this.index,this.label)},c.walk=function(c){var d;return d=this.label instanceof a?c(this.label):this.label,d!==this.label?b(this.index,this.scope,d):this},c.walkAsync=function(c,d){var e;return e=this,(this.label instanceof a?function(a){var b;return c(e.label,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(e.label)})(function(a){return d(null,a!==e.label?b(e.index,e.scope,a):e)})},b}(S),S.Debugger=E=function(a){function b(a,d){var e;return e=this instanceof b?this:g(c),e.index=a,e.scope=d,e._reduced=void 0,e._macroExpanded=void 0,e._macroExpandAlled=void 0,e}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="DebuggerNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Debugger",b.argNames=[],c.type=function(){return mb.undefined},c.isStatement=function(){return!0},c.inspect=function(a){return e(a,"DebuggerNode",this.index)},b}(S),S.Def=F=function(a){function b(a,d,e,f){var h;return h=this instanceof b?this:g(c),null==f&&(f=void 0),h.index=a,h.scope=d,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.left=e,h.right=f,h}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="DefNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Def",b.argNames=["left","right"],c.type=function(a){return null!=this.right?this.right.type(a):mb.any},c.inspect=function(a){return e(a,"DefNode",this.index,this.left,this.right)},c.walk=function(c){var d,e;return d=c(this.left),e=this.right instanceof a?c(this.right):this.right,d!==this.left||e!==this.right?b(this.index,this.scope,d,e):this},c.walkAsync=function(c,d){var e,f;return f=this,c(this.left,(e=!1,function(g,h){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):(f.right instanceof a?function(a){var b;return c(f.right,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(f.right)})(function(a){return d(null,h!==f.left||a!==f.right?b(f.index,f.scope,h,a):f)})}))},b}(S),S.EmbedWrite=G=function(a){function b(a,d,e,f){var h;return h=this instanceof b?this:g(c),null==f&&(f=!1),h.index=a,h.scope=d,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.text=e,h.escape=f,h}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="EmbedWriteNode","function"==typeof a.extended&&a.extended(b),b.cappedName="EmbedWrite",b.argNames=["text","escape"],c.inspect=function(a){return e(a,"EmbedWriteNode",this.index,this.text,this.escape)},c.walk=function(a){var c;return c=a(this.text),c!==this.text?b(this.index,this.scope,c,this.escape):this},c.walkAsync=function(a,c){var d,e;return e=this,a(this.text,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.text?b(e.index,e.scope,f,e.escape):e)}))},b}(S),S.Eval=H=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.code=e,f}var c,d,f;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="EvalNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Eval",b.argNames=["code"],f={"true":function(){return C(this.index,this.scope,!0)},"false":function(){return C(this.index,this.scope,!1)},"void 0":function(){return C(this.index,this.scope,void 0)},"null":function(){return C(this.index,this.scope,null)}},c._reduce=function(a){var c,d,e;return d=this.code.reduce(a).doWrap(),d.isConst()&&d.isConstType("string")&&(m.call(f,c=d.constValue())&&(e=f[c]),e)?e.call(this):d!==this.code?b(this.index,this.scope,d):this},c.inspect=function(a){return e(a,"EvalNode",this.index,this.code)},c.walk=function(a){var c;return c=a(this.code),c!==this.code?b(this.index,this.scope,c):this},c.walkAsync=function(a,c){var d,e;return e=this,a(this.code,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.code?b(e.index,e.scope,f):e)}))},b}(S),S.For=J=function(a){function b(a,d,e,f,h,i,j){var k;return k=this instanceof b?this:g(c),null==e&&(e=U(0,d)),null==f&&(f=C(0,d,!0)),null==h&&(h=U(0,d)),null==j&&(j=null),k.index=a,k.scope=d,k._reduced=void 0,k._macroExpanded=void 0,k._macroExpandAlled=void 0,k.init=e,k.test=f,k.step=h,k.body=i,k.label=j,k}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="ForNode","function"==typeof a.extended&&a.extended(b),b.cappedName="For",b.argNames=["init","test","step","body","label"],c.type=function(){return mb.undefined},c.isStatement=function(){return!0},c.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,this.init,this.test,this.step,this.body,a)},c.inspect=function(a){return e(a,"ForNode",this.index,this.init,this.test,this.step,this.body,this.label)},c.walk=function(c){var d,e,f,g,h;return e=c(this.init),h=c(this.test),g=c(this.step),d=c(this.body),f=this.label instanceof a?c(this.label):this.label,e!==this.init||h!==this.test||g!==this.step||d!==this.body||f!==this.label?b(this.index,this.scope,e,h,g,d,f):this},c.walkAsync=function(c,d){var e,f;return f=this,c(this.init,(e=!1,function(g,h){var i;if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):c(f.test,(i=!1,function(e,g){var j;if(i)throw Error("Attempted to call function more than once");return i=!0,null!=e?d(e):c(f.step,(j=!1,function(e,i){var k;if(j)throw Error("Attempted to call function more than once");return j=!0,null!=e?d(e):c(f.body,(k=!1,function(e,j){if(k)throw Error("Attempted to call function more than once");return k=!0,null!=e?d(e):(f.label instanceof a?function(a){var b;return c(f.label,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(f.label)})(function(a){return d(null,h!==f.init||g!==f.test||i!==f.step||j!==f.body||a!==f.label?b(f.index,f.scope,h,g,i,j,a):f)})}))}))}))}))},b}(S),S.ForIn=I=function(a){function b(a,d,e,f,h,i){var j;return j=this instanceof b?this:g(c),null==i&&(i=null),j.index=a,j.scope=d,j._reduced=void 0,j._macroExpanded=void 0,j._macroExpandAlled=void 0,j.key=e,j.object=f,j.body=h,j.label=i,j}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="ForInNode","function"==typeof a.extended&&a.extended(b),b.cappedName="ForIn",b.argNames=["key","object","body","label"],c.type=function(){return mb.undefined},c.isStatement=function(){return!0},c.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,this.key,this.object,this.body,a)},c.inspect=function(a){return e(a,"ForInNode",this.index,this.key,this.object,this.body,this.label)},c.walk=function(c){var d,e,f,g;return e=c(this.key),g=c(this.object),d=c(this.body),f=this.label instanceof a?c(this.label):this.label,e!==this.key||g!==this.object||d!==this.body||f!==this.label?b(this.index,this.scope,e,g,d,f):this},c.walkAsync=function(c,d){var e,f;return f=this,c(this.key,(e=!1,function(g,h){var i;if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):c(f.object,(i=!1,function(e,g){var j;if(i)throw Error("Attempted to call function more than once");return i=!0,null!=e?d(e):c(f.body,(j=!1,function(e,i){if(j)throw Error("Attempted to call function more than once");return j=!0,null!=e?d(e):(f.label instanceof a?function(a){var b;return c(f.label,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(f.label)})(function(a){return d(null,h!==f.key||g!==f.object||i!==f.body||a!==f.label?b(f.index,f.scope,h,g,i,a):f)})}))}))}))},b}(S),S.Function=K=function(a){function b(a,d,e,f,h,i,j,k,l,m){var n;return n=this instanceof b?this:g(c),null==h&&(h=!0),null==i&&(i=!1),null==j&&(j=!1),null==k&&(k=void 0),null==l&&(l=!1),null==m&&(m=[]),n.index=a,n.scope=d,n._reduced=void 0,n._macroExpanded=void 0,n._macroExpandAlled=void 0,n.params=e,n.body=f,n.autoReturn=h,n.bound=i,n.curry=j,n.asType=k,n.generator=l,n.generic=m,n}var c,f;return f=a.prototype,c=b.prototype=g(f),c.constructor=b,b.displayName="FunctionNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Function",b.argNames=["params","body","autoReturn","bound","curry","asType","generator","generic"],c.type=function(a){var c,d,e;return null==(c=this._type)?null!=this.asType?this._type=T(this.asType)["function"]():(d=this.autoReturn?this.body.type(a):mb.undefined,e=function(c){var f;return c instanceof Z?(d=d.union(c.type(a)),c):c instanceof b?c:c instanceof P?(("return"===(f=c.data.macroName)||"return?"===f)&&(d=c.data.macroData.node?d.union(c.data.macroData.node.type(a)):d.union(mb.undefined)),c.walk(e)):c.walk(e)},e(this.body),this._type=d["function"]()):c},c._isNoop=function(){return!0},c.inspect=function(a){return e(a,"FunctionNode",this.index,this.params,this.body,this.autoReturn,this.bound,this.curry,this.asType,this.generator,this.generic)},c.walk=function(c){var e,f,g,h;return h=d(this.params,c),f=c(this.body),g=this.bound instanceof a?c(this.bound):this.bound,e=this.asType instanceof a?c(this.asType):this.asType,h!==this.params||f!==this.body||g!==this.bound||e!==this.asType?b(this.index,this.scope,h,f,this.autoReturn,g,this.curry,e,this.generator,this.generic):this},c.walkAsync=function(c,d){var e,f;return f=this,R(this.params,c,(e=!1,function(g,h){var i;if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):c(f.body,(i=!1,function(e,g){if(i)throw Error("Attempted to call function more than once");return i=!0,null!=e?d(e):(f.bound instanceof a?function(a){var b;return c(f.bound,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(f.bound)})(function(e){return(f.asType instanceof a?function(a){var b;return c(f.asType,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(f.asType)})(function(a){return d(null,h!==f.params||g!==f.body||e!==f.bound||a!==f.asType?b(f.index,f.scope,h,g,f.autoReturn,e,f.curry,a,f.generator,f.generic):f)})})}))}))},b}(S),S.Ident=L=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.name=e,f}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="IdentNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Ident",b.argNames=["name"],c.cacheable=!1,c.type=function(a){return"__currentArrayLength"===this.name?mb.number:a?this.scope.type(this):mb.any},c._isNoop=function(){return!0},c.isPrimordial=function(){return O(this.name)},c.inspect=function(a){return e(a,"IdentNode",this.index,this.name)},c.walk=function(){return this},c.walkAsync=function(a,b){return b(null,this)},b}(S),S.If=M=function(a){function b(a,d,e,f,h,i){var j;return j=this instanceof b?this:g(c),null==h&&(h=U(0,d)),null==i&&(i=null),j.index=a,j.scope=d,j._reduced=void 0,j._macroExpanded=void 0,j._macroExpandAlled=void 0,j.test=e,j.whenTrue=f,j.whenFalse=h,j.label=i,j}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="IfNode","function"==typeof a.extended&&a.extended(b),b.cappedName="If",b.argNames=["test","whenTrue","whenFalse","label"],c.type=function(a){var b;return null==(b=this._type)?this._type=this.whenTrue.type(a).union(this.whenFalse.type(a)):b},c.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,this.test,this.whenTrue,this.whenFalse,a)},c._reduce=function(a){var c,d,e,f,g;return d=this.test.reduce(a),g=this.whenTrue.reduce(a),f=this.whenFalse.reduce(a),c=null!=this.label?this.label.reduce(a):this.label,d.isConst()?x(this.index,this.scope,[d.constValue()?g:f],c).reduce(a):(e=d.type(a),e.isSubsetOf(mb.alwaysTruthy)?x(this.index,this.scope,[d,g],c).reduce(a):e.isSubsetOf(mb.alwaysFalsy)?x(this.index,this.scope,[d,f],c).reduce(a):d!==this.test||g!==this.whenTrue||f!==this.whenFalse||c!==this.label?b(this.index,this.scope,d,g,f,c):this)},c.isStatement=function(){var a;return null==(a=this._isStatement)?this._isStatement=this.whenTrue.isStatement()||this.whenFalse.isStatement():a},c.doWrap=function(a){var c,d;return d=this.whenTrue.doWrap(a),c=this.whenFalse.doWrap(a),d!==this.whenTrue||c!==this.whenFalse?b(this.index,this.scope,this.test,d,c,this.label):this},c._isNoop=function(a){var b;return null==(b=this.__isNoop)?this.__isNoop=this.test.isNoop(a)&&this.whenTrue.isNoop(a)&&this.whenFalse.isNoop(a):b},c.inspect=function(a){return e(a,"IfNode",this.index,this.test,this.whenTrue,this.whenFalse,this.label)},c.walk=function(c){var d,e,f,g;return e=c(this.test),g=c(this.whenTrue),f=c(this.whenFalse),d=this.label instanceof a?c(this.label):this.label,e!==this.test||g!==this.whenTrue||f!==this.whenFalse||d!==this.label?b(this.index,this.scope,e,g,f,d):this},c.walkAsync=function(c,d){var e,f;return f=this,c(this.test,(e=!1,function(g,h){var i;if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):c(f.whenTrue,(i=!1,function(e,g){var j;if(i)throw Error("Attempted to call function more than once");return i=!0,null!=e?d(e):c(f.whenFalse,(j=!1,function(e,i){if(j)throw Error("Attempted to call function more than once");return j=!0,null!=e?d(e):(f.label instanceof a?function(a){var b;return c(f.label,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(f.label)})(function(a){return d(null,h!==f.test||g!==f.whenTrue||i!==f.whenFalse||a!==f.label?b(f.index,f.scope,h,g,i,a):f)})}))}))}))},b}(S),S.MacroAccess=P=function(a){function b(a,d,e,f,h,i,j,k,l){var m;return m=this instanceof b?this:g(c),null==j&&(j=!1),null==k&&(k=!1),null==l&&(l=!1),m.index=a,m.scope=d,m._reduced=void 0,m._macroExpanded=void 0,m._macroExpandAlled=void 0,m.id=e,m.callLine=f,m.data=h,m.position=i,m.inGenerator=j,m.inEvilAst=k,m.doWrapped=l,m}var c,h;return h=a.prototype,c=b.prototype=g(h),c.constructor=b,b.displayName="MacroAccessNode","function"==typeof a.extended&&a.extended(b),b.cappedName="MacroAccess",b.argNames=["id","callLine","data","position","inGenerator","inEvilAst","doWrapped"],c.type=function(a){var b,c;return null==(b=this._type)?(c=a.macros.getTypeById(this.id),this._type=null!=c?"string"==typeof c?this.data[c].type(a):c:a.macroExpand1(this).type(a)):b},c.withLabel=function(a,b){return null==a&&(a=null),b.macroExpand1(this).withLabel(a,b)},c.walk=function(){function c(a,b){var c,d,f,g,h;g={},c=!1;for(d in a)m.call(a,d)&&(h=a[d],f=e(h,b),f!==h&&(c=!0),g[d]=f);return c?g:a}function e(b,f){return b instanceof a?f(b):j(b)?d(b,function(a){return e(a,f)}):"object"==typeof b&&null!==b?c(b,f):b}return function(a){var c;return c=e(this.data,a),c!==this.data?b(this.index,this.scope,this.id,this.callLine,c,this.position,this.inGenerator,this.inEvilAst,this.doWrapped):this}}(),c.walkAsync=function(){function c(a,b,c){var e,g,h;return g=!1,h={},e=k(a),f(1,e.length,!1,function(c,f){var i,j,k;return j=e[c],k=a[j],d(item,b,(i=!1,function(a,b){if(i)throw Error("Attempted to call function more than once");return i=!0,null!=a?f(a):(item!==b&&(g=!0),h[j]=b,f(null))}))},function(b){return"undefined"!=typeof b&&null!==b?c(b):c(null,g?h:a)})}function d(b,e,f){return b instanceof a?e(b,f):j(b)?R(b,function(a,b){return d(a,e,b)},f):"object"==typeof b&&null!==b?c(b,e,f):f(null,b)}return function(a,c){var e,f;return f=this,d(this.data,a,(e=!1,function(a,d){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?c(a):c(null,d!==f.data?b(f.index,f.scope,f.id,f.callLine,d,f.position,f.inGenerator,f.inEvilAst,f.doWrapped):f)}))}}(),c._isNoop=function(a){return a.macroExpand1(this).isNoop(a)},c.doWrap=function(){return this.doWrapped?this:b(this.index,this.scope,this.id,this.callLine,this.data,this.position,this.inGenerator,this.inEvilAst,!0)},c.inspect=function(a){return e(a,"MacroAccessNode",this.index,this.id,this.callLine,this.data,this.position,this.inGenerator,this.inEvilAst,this.doWrapped)},b}(S),S.MacroConst=Q=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.name=e,f}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="MacroConstNode","function"==typeof a.extended&&a.extended(b),b.cappedName="MacroConst",b.argNames=["name"],c.type=function(a){var b,c,d;if(null!=(b=this._type))return b;if(c=a.getConst(this.name),!c)return this._type=mb.any;if(d=c.value,null===d)return this._type=mb["null"];switch(typeof d){case"number":return this._type=mb.number;case"string":return this._type=mb.string;case"boolean":return this._type=mb.boolean;case"undefined":return this._type=mb.undefined;default:throw Error("Unknown type for "+String(c.value))}},c._isNoop=function(){return!0},c.toConst=function(a){var b;return C(this.index,this.scope,null!=(b=a.getConst(this.name))?b.value:void 0)},c.inspect=function(a){return e(a,"MacroConstNode",this.index,this.name)},c.walk=function(){return this},c.walkAsync=function(a,b){return b(null,this)},b}(S),S.Nothing=U=function(a){function b(a,c){var e;return e=this instanceof b?this:g(d),e.index=a,e.scope=c,e._reduced=void 0,e._macroExpanded=void 0,e._macroExpandAlled=void 0,e
}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="NothingNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Nothing",b.argNames=[],d.type=function(){return mb.undefined},d.cacheable=!1,d.isConst=function(){return!0},d.constValue=function(){},d.isConstType=function(a){return"undefined"===a},d.isConstValue=function(a){return void 0===a},d._isNoop=function(){return!0},d.inspect=function(a){return e(a,"NothingNode",this.index)},b}(S),S.Object=V=function(a){function b(a,c,d,e){var h;return h=this instanceof b?this:g(f),null==e&&(e=void 0),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.pairs=d,h.prototype=e,h}var c,f;return c=a.prototype,f=b.prototype=g(c),f.constructor=b,b.displayName="ObjectNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Object",b.argNames=["pairs","prototype"],f.type=function(a){var b,c,d,e,f,g,h,i;if(null==(e=this._type)){for(g={},b=o(this.pairs),c=0,d=b.length;d>c;++c)f=b[c],h=f.key,i=f.value,h.isConst()&&(g[h.constValue()]=i.type(a));return this._type=mb.makeObject(g)}return e},f.walk=function(){function a(a,b){var c,d;return c=b(a.key),d=b(a.value),c!==a.key||d!==a.value?{key:c,value:d,property:a.property}:a}return function(c){var e,f;return e=d(this.pairs,a,c),f=null!=this.prototype?c(this.prototype):this.prototype,e!==this.pairs||f!==this.prototype?b(this.index,this.scope,e,f):this}}(),f.walkAsync=function(){function a(a,b,c){var d;return b(a.key,(d=!1,function(e,f){var g;if(d)throw Error("Attempted to call function more than once");return d=!0,null!=e?c(e):b(a.value,(g=!1,function(b,d){if(g)throw Error("Attempted to call function more than once");return g=!0,null!=b?c(b):c(null,f!==a.key||d!==a.value?{key:f,value:d,property:a.property}:a)}))}))}return function(c,d){var e,f;return f=this,R(this.pairs,a,c,(e=!1,function(a,g){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):(null!=f.prototype?function(a){var b;return c(f.prototype,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(f.prototype)})(function(a){return d(null,g!==f.pairs||a!==f.prototype?b(f.index,f.scope,g,a):f)})}))}}(),f._reduce=function(){function a(a,b){var c,d;return c=a.key.reduce(b),d=a.value.reduce(b).doWrap(b),c!==a.key||d!==a.value?{key:c,value:d,property:a.property}:a}return function(c){var e,f;return e=d(this.pairs,a,c),f=null!=this.prototype?this.prototype.reduce(c):this.prototype,e!==this.pairs||f!==this.prototype?b(this.index,this.scope,e,f):this}}(),f._isNoop=function(a){var b,c,d,e,f,g,h,i;if(null==(f=this.__isNoop)){for(c=!0,b=o(this.pairs),d=0,e=b.length;e>d;++d)if(g=b[d],h=g.key,i=g.value,!h.isNoop(a)||!i.isNoop(a)){c=!1;break}return this.__isNoop=c}return f},f.isLiteral=function(){var a,b;return b=this,null==(a=this._isLiteral)?this._isLiteral=null==this.prototype&&function(){var a,c,d,e,f,g,h;for(c=!0,a=o(b.pairs),d=0,e=a.length;e>d;++d)if(f=a[d],g=f.key,h=f.value,!g.isLiteral()||!h.isLiteral()){c=!1;break}return c}():a},f.literalValue=function(){var a,b,c,d,e,f,g;if(null!=this.prototype)throw Error("Cannot convert object with prototype to a literal");for(f={},a=o(this.pairs),b=0,c=a.length;c>b;++b)d=a[b],e=d.key,g=d.value,f[e.literalValue()]=g.literalValue();return f},f.inspect=function(a){return e(a,"ObjectNode",this.index,this.pairs,this.prototype)},b}(S),S.object=function(a,c,d){var e,f,g,h,j,k,l,m,n,p;for(l=[],m=null,e=o(c),f=0,g=e.length;g>f;++f)if(h=e[f],j=h.key,p=h.property,j instanceof C){if(k=String(j.value),("get"===p||"set"===p)&&m&&m.property!==p&&m.key===k){m=null;continue}if(i(k,l))throw n=b("./parser").ParserError,n("Duplicate key "+X(k)+" in object",this,j.index);l.push(k),m="get"===p||"set"===p?{key:k,property:p}:null}else m=null;return this.Object(a,c,d)},S.objectParam=S.object,S.Param=W=function(a){function b(a,c,e,f,h,i,j){var k;return k=this instanceof b?this:g(d),null==f&&(f=void 0),null==h&&(h=!1),null==i&&(i=!1),null==j&&(j=void 0),k.index=a,k.scope=c,k._reduced=void 0,k._macroExpanded=void 0,k._macroExpandAlled=void 0,k.ident=e,k.defaultValue=f,k.spread=h,k.isMutable=i,k.asType=j,k}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="ParamNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Param",b.argNames=["ident","defaultValue","spread","isMutable","asType"],d.inspect=function(a){return e(a,"ParamNode",this.index,this.ident,this.defaultValue,this.spread,this.isMutable,this.asType)},d.walk=function(c){var d,e,f;return f=c(this.ident),e=this.defaultValue instanceof a?c(this.defaultValue):this.defaultValue,d=this.asType instanceof a?c(this.asType):this.asType,f!==this.ident||e!==this.defaultValue||d!==this.asType?b(this.index,this.scope,f,e,this.spread,this.isMutable,d):this},d.walkAsync=function(c,d){var e,f;return f=this,c(this.ident,(e=!1,function(g,h){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):(f.defaultValue instanceof a?function(a){var b;return c(f.defaultValue,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(f.defaultValue)})(function(e){return(f.asType instanceof a?function(a){var b;return c(f.asType,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(f.asType)})(function(a){return d(null,h!==f.ident||e!==f.defaultValue||a!==f.asType?b(f.index,f.scope,h,e,f.spread,f.isMutable,a):f)})})}))},b}(S),S.Regexp=Y=function(a){function b(a,c,e,f){var h;return h=this instanceof b?this:g(d),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.source=e,h.flags=f,h}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="RegexpNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Regexp",b.argNames=["source","flags"],d.type=function(){return mb.regexp},d._isNoop=function(a){return this.text.isNoop(a)},d._reduce=function(a){var c;return c=this.source.reduce(a).doWrap(a),c.isConst()?c!==this.source?b(this.index,this.scope,c,this.flags):this:z(this.index,this.scope,L(this.index,this.scope,"RegExp"),[c,C(this.index,this.scope,this.flags)])},d.inspect=function(a){return e(a,"RegexpNode",this.index,this.source,this.flags)},d.walk=function(a){var c;return c=a(this.source),c!==this.source?b(this.index,this.scope,c,this.flags):this},d.walkAsync=function(a,c){var d,e;return e=this,a(this.source,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.source?b(e.index,e.scope,f,e.flags):e)}))},b}(S),S.Return=Z=function(a){function b(a,c,e){var f;return f=this instanceof b?this:g(d),null==e&&(e=C(a,c,void 0)),f.index=a,f.scope=c,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.node=e,f}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="ReturnNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Return",b.argNames=["node"],d.type=function(a){return this.node.type(a)},d.isStatement=function(){return!0},d._reduce=function(a){var c;return c=this.node.reduce(a).doWrap(a),c!==this.node?b(this.index,this.scope,c):this},d.inspect=function(a){return e(a,"ReturnNode",this.index,this.node)},d.walk=function(a){var c;return c=a(this.node),c!==this.node?b(this.index,this.scope,c):this},d.walkAsync=function(a,c){var d,e;return e=this,a(this.node,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.node?b(e.index,e.scope,f):e)}))},b}(S),S.Root=$=function(a){function b(a,c,e,f,h,i){var j;return j=this instanceof b?this:g(d),null==e&&(e=void 0),null==h&&(h=!1),null==i&&(i=!1),j.index=a,j.scope=c,j._reduced=void 0,j._macroExpanded=void 0,j._macroExpandAlled=void 0,j.file=e,j.body=f,j.isEmbedded=h,j.isGenerator=i,j}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="RootNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Root",b.argNames=["file","body","isEmbedded","isGenerator"],d.isStatement=function(){return!0},d.inspect=function(a){return e(a,"RootNode",this.index,this.file,this.body,this.isEmbedded,this.isGenerator)},d.walk=function(a){var c;return c=a(this.body),c!==this.body?b(this.index,this.scope,this.file,c,this.isEmbedded,this.isGenerator):this},d.walkAsync=function(a,c){var d,e;return e=this,a(this.body,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.body?b(e.index,e.scope,e.file,f,e.isEmbedded,e.isGenerator):e)}))},b}(S),S.Spread=_=function(a){function b(a,c,e){var f;return f=this instanceof b?this:g(d),f.index=a,f.scope=c,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.node=e,f}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="SpreadNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Spread",b.argNames=["node"],d._reduce=function(a){var c;return c=this.node.reduce(a).doWrap(a),c!==this.node?b(this.index,this.scope,c):this},d.inspect=function(a){return e(a,"SpreadNode",this.index,this.node)},d.walk=function(a){var c;return c=a(this.node),c!==this.node?b(this.index,this.scope,c):this},d.walkAsync=function(a,c){var d,e;return e=this,a(this.node,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.node?b(e.index,e.scope,f):e)}))},b}(S),S.string=function(a,b){var c,d,e,f,g;if(e=this.getMacroByLabel("stringConcat"),!e)throw Error("Cannot use string interpolation until the string-concat operator has been defined");if(0===b.length)return this.Const(a,"");if(1===b.length)return e.func({left:this.Const(a,""),op:"",right:b[0]},this,a);for(f=b[0],c=1,d=b.length;d>c;++c)g=b[c],f=e.func({left:f,op:"",right:g},this,a);return f},S.Super=ab=function(a){function b(a,c,d,e){var h;return h=this instanceof b?this:g(f),null==d&&(d=void 0),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.child=d,h.args=e,h}var c,f;return c=a.prototype,f=b.prototype=g(c),f.constructor=b,b.displayName="SuperNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Super",b.argNames=["child","args"],f._reduce=function(a){var c,e;return e=null!=this.child?this.child.reduce(a).doWrap(a):this.child,c=d(this.args,function(a,b){return a.reduce(b).doWrap(b)},a),e!==this.child||c!==this.args?b(this.index,this.scope,e,c):this},f.inspect=function(a){return e(a,"SuperNode",this.index,this.child,this.args)},f.walk=function(c){var e,f;return f=this.child instanceof a?c(this.child):this.child,e=d(this.args,c),f!==this.child||e!==this.args?b(this.index,this.scope,f,e):this},f.walkAsync=function(c,d){var e;return e=this,(this.child instanceof a?function(a){var b;return c(e.child,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(e.child)})(function(a){var f;return R(e.args,c,(f=!1,function(c,g){if(f)throw Error("Attempted to call function more than once");return f=!0,null!=c?d(c):d(null,a!==e.child||g!==e.args?b(e.index,e.scope,a,g):e)}))})},b}(S),S.Switch=bb=function(a){function b(a,c,d,e,h,i){var j;return j=this instanceof b?this:g(f),null==h&&(h=void 0),null==i&&(i=null),j.index=a,j.scope=c,j._reduced=void 0,j._macroExpanded=void 0,j._macroExpandAlled=void 0,j.node=d,j.cases=e,j.defaultCase=h,j.label=i,j}var c,f;return c=a.prototype,f=b.prototype=g(c),f.constructor=b,b.displayName="SwitchNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Switch",b.argNames=["node","cases","defaultCase","label"],f.type=function(a){var b,c,d,e,f,g;if(null==(e=this._type)){for(g=null!=this.defaultCase?this.defaultCase.type(a):mb.undefined,b=o(this.cases),c=0,d=b.length;d>c;++c)f=b[c],g=f.fallthrough?g:g.union(f.body.type(a));return this._type=g}return e},f.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,this.node,this.cases,this.defaultCase,a)},f.walk=function(a){var c,e,f,g;return g=a(this.node),c=d(this.cases,function(b){var c,d;return d=a(b.node),c=a(b.body),d!==b.node||c!==b.body?{node:d,body:c,fallthrough:b.fallthrough}:b}),e=this.defaultCase?a(this.defaultCase):this.defaultCase,f=null!=this.label?a(this.label):this.label,g!==this.node||c!==this.cases||e!==this.defaultCase||f!==this.label?b(this.index,this.scope,g,c,e,f):this},f.walkAsync=function(a,c){var d,e;return e=this,a(this.node,(d=!1,function(f,g){var h;if(d)throw Error("Attempted to call function more than once");return d=!0,null!=f?c(f):R(e.cases,function(b,c){var d;return a(b.node,(d=!1,function(e,f){var g;if(d)throw Error("Attempted to call function more than once");return d=!0,null!=e?c(e):a(b.body,(g=!1,function(a,d){if(g)throw Error("Attempted to call function more than once");return g=!0,null!=a?c(a):c(null,f!==b.node||d!==b.body?{node:f,body:d,fallthrough:b.fallthrough}:b)}))}))},(h=!1,function(d,f){if(h)throw Error("Attempted to call function more than once");return h=!0,null!=d?c(d):(null!=e.defaultCase?function(b){var d;return a(e.defaultCase,(d=!1,function(a,e){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):b(e)}))}:function(a){return a(e.defaultCase)})(function(d){return(null!=e.label?function(b){var d;return a(e.label,(d=!1,function(a,e){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):b(e)}))}:function(a){return a(e.label)})(function(a){return c(null,g!==e.node||f!==e.cases||d!==e.defaultCase||a!==e.label?b(e.index,e.scope,g,f,d,a):e)})})}))}))},f.isStatement=function(){return!0},f.inspect=function(a){return e(a,"SwitchNode",this.index,this.node,this.cases,this.defaultCase,this.label)},b}(S),S.SyntaxChoice=cb=function(a){function b(a,c,d){var e;return e=this instanceof b?this:g(f),e.index=a,e.scope=c,e._reduced=void 0,e._macroExpanded=void 0,e._macroExpandAlled=void 0,e.choices=d,e}var c,f;return c=a.prototype,f=b.prototype=g(c),f.constructor=b,b.displayName="SyntaxChoiceNode","function"==typeof a.extended&&a.extended(b),b.cappedName="SyntaxChoice",b.argNames=["choices"],f.inspect=function(a){return e(a,"SyntaxChoiceNode",this.index,this.choices)},f.walk=function(a){var c;return c=d(this.choices,a),c!==this.choices?b(this.index,this.scope,c):this},f.walkAsync=function(a,c){var d,e;return e=this,R(this.choices,a,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.choices?b(e.index,e.scope,f):e)}))},b}(S),S.SyntaxMany=db=function(a){function b(a,c,e,f){var h;return h=this instanceof b?this:g(d),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.inner=e,h.multiplier=f,h}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="SyntaxManyNode","function"==typeof a.extended&&a.extended(b),b.cappedName="SyntaxMany",b.argNames=["inner","multiplier"],d.inspect=function(a){return e(a,"SyntaxManyNode",this.index,this.inner,this.multiplier)},d.walk=function(a){var c;return c=a(this.inner),c!==this.inner?b(this.index,this.scope,c,this.multiplier):this},d.walkAsync=function(a,c){var d,e;return e=this,a(this.inner,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.inner?b(e.index,e.scope,f,e.multiplier):e)}))},b}(S),S.SyntaxParam=eb=function(a){function b(a,c,e,f){var h;return h=this instanceof b?this:g(d),null==f&&(f=void 0),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.ident=e,h.asType=f,h}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="SyntaxParamNode","function"==typeof a.extended&&a.extended(b),b.cappedName="SyntaxParam",b.argNames=["ident","asType"],d.inspect=function(a){return e(a,"SyntaxParamNode",this.index,this.ident,this.asType)},d.walk=function(c){var d,e;return e=c(this.ident),d=this.asType instanceof a?c(this.asType):this.asType,e!==this.ident||d!==this.asType?b(this.index,this.scope,e,d):this},d.walkAsync=function(c,d){var e,f;return f=this,c(this.ident,(e=!1,function(g,h){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):(f.asType instanceof a?function(a){var b;return c(f.asType,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(f.asType)})(function(a){return d(null,h!==f.ident||a!==f.asType?b(f.index,f.scope,h,a):f)})}))},b}(S),S.SyntaxSequence=fb=function(a){function b(a,c,d){var e;return e=this instanceof b?this:g(f),e.index=a,e.scope=c,e._reduced=void 0,e._macroExpanded=void 0,e._macroExpandAlled=void 0,e.params=d,e}var c,f;return c=a.prototype,f=b.prototype=g(c),f.constructor=b,b.displayName="SyntaxSequenceNode","function"==typeof a.extended&&a.extended(b),b.cappedName="SyntaxSequence",b.argNames=["params"],f.inspect=function(a){return e(a,"SyntaxSequenceNode",this.index,this.params)},f.walk=function(a){var c;return c=d(this.params,a),c!==this.params?b(this.index,this.scope,c):this},f.walkAsync=function(a,c){var d,e;return e=this,R(this.params,a,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.params?b(e.index,e.scope,f):e)}))},b}(S),S.This=gb=function(a){function b(a,c){var e;return e=this instanceof b?this:g(d),e.index=a,e.scope=c,e._reduced=void 0,e._macroExpanded=void 0,e._macroExpandAlled=void 0,e}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="ThisNode","function"==typeof a.extended&&a.extended(b),b.cappedName="This",b.argNames=[],d.cacheable=!1,d._isNoop=function(){return!0},d.inspect=function(a){return e(a,"ThisNode",this.index)},b}(S),S.Throw=hb=function(a){function b(a,c,e){var f;return f=this instanceof b?this:g(d),f.index=a,f.scope=c,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.node=e,f}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="ThrowNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Throw",b.argNames=["node"],d.type=function(){return mb.none},d.isStatement=function(){return!0},d._reduce=function(a){var c;return c=this.node.reduce(a).doWrap(a),c!==this.node?b(this.index,this.scope,c):this},d.doWrap=function(){return z(this.index,this.scope,L(this.index,this.scope,"__throw"),[this.node])},d.inspect=function(a){return e(a,"ThrowNode",this.index,this.node)},d.walk=function(a){var c;return c=a(this.node),c!==this.node?b(this.index,this.scope,c):this},d.walkAsync=function(a,c){var d,e;return e=this,a(this.node,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.node?b(e.index,e.scope,f):e)}))},b}(S),S.Tmp=ib=function(a){function b(a,c,e,f,h){var i;return i=this instanceof b?this:g(d),null==h&&(h=mb.any),i.index=a,i.scope=c,i._reduced=void 0,i._macroExpanded=void 0,i._macroExpandAlled=void 0,i.id=e,i.name=f,i._type=h,i}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="TmpNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Tmp",b.argNames=["id","name","_type"],d.cacheable=!1,d.type=function(){return this._type},d._isNoop=function(){return!0},d.inspect=function(a){return e(a,"TmpNode",this.index,this.id,this.name,this._type)},d.walk=function(){return this},d.walkAsync=function(a,b){return b(null,this)},b}(S),S.TmpWrapper=jb=function(a){function b(a,c,e,f){var h;return h=this instanceof b?this:g(d),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.node=e,h.tmps=f,h}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="TmpWrapperNode","function"==typeof a.extended&&a.extended(b),b.cappedName="TmpWrapper",b.argNames=["node","tmps"],d.type=function(a){return this.node.type(a)},d.withLabel=function(a,c){return null==a&&(a=null),b(this.index,this.scope,this.node.withLabel(a,c),this.tmps)},d._reduce=function(a){var c;return c=this.node.reduce(a),0===this.tmps.length?c:this.node!==c?b(this.index,this.scope,c,this.tmps):this},d.isStatement=function(){return this.node.isStatement()},d._isNoop=function(a){return this.node.isNoop(a)},d.doWrap=function(a){var c;return c=this.node.doWrap(a),c!==this.node?b(this.index,this.scope,c,this.tmps):this},d.inspect=function(a){return e(a,"TmpWrapperNode",this.index,this.node,this.tmps)},d.walk=function(a){var c;return c=a(this.node),c!==this.node?b(this.index,this.scope,c,this.tmps):this},d.walkAsync=function(a,c){var d,e;return e=this,a(this.node,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.node?b(e.index,e.scope,f,e.tmps):e)}))},b}(S),S.TryCatch=kb=function(a){function b(a,c,e,f,h,i){var j;return j=this instanceof b?this:g(d),null==i&&(i=null),j.index=a,j.scope=c,j._reduced=void 0,j._macroExpanded=void 0,j._macroExpandAlled=void 0,j.tryBody=e,j.catchIdent=f,j.catchBody=h,j.label=i,j}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="TryCatchNode","function"==typeof a.extended&&a.extended(b),b.cappedName="TryCatch",b.argNames=["tryBody","catchIdent","catchBody","label"],d.type=function(a){var b;return null==(b=this._type)?this._type=this.tryBody.type(a).union(this.catchBody.type(a)):b},d.isStatement=function(){return!0},d._isNoop=function(a){return this.tryBody.isNoop(a)},d.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,this.tryBody,this.catchIdent,this.catchBody,a)},d.inspect=function(a){return e(a,"TryCatchNode",this.index,this.tryBody,this.catchIdent,this.catchBody,this.label)},d.walk=function(c){var d,e,f,g;return g=c(this.tryBody),e=c(this.catchIdent),d=c(this.catchBody),f=this.label instanceof a?c(this.label):this.label,g!==this.tryBody||e!==this.catchIdent||d!==this.catchBody||f!==this.label?b(this.index,this.scope,g,e,d,f):this},d.walkAsync=function(c,d){var e,f;return f=this,c(this.tryBody,(e=!1,function(g,h){var i;if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):c(f.catchIdent,(i=!1,function(e,g){var j;if(i)throw Error("Attempted to call function more than once");return i=!0,null!=e?d(e):c(f.catchBody,(j=!1,function(e,i){if(j)throw Error("Attempted to call function more than once");return j=!0,null!=e?d(e):(f.label instanceof a?function(a){var b;return c(f.label,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(f.label)})(function(a){return d(null,h!==f.tryBody||g!==f.catchIdent||i!==f.catchBody||a!==f.label?b(f.index,f.scope,h,g,i,a):f)})}))}))}))},b}(S),S.TryFinally=lb=function(a){function b(a,c,e,f,h){var i;return i=this instanceof b?this:g(d),null==h&&(h=null),i.index=a,i.scope=c,i._reduced=void 0,i._macroExpanded=void 0,i._macroExpandAlled=void 0,i.tryBody=e,i.finallyBody=f,i.label=h,i}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="TryFinallyNode","function"==typeof a.extended&&a.extended(b),b.cappedName="TryFinally",b.argNames=["tryBody","finallyBody","label"],d.type=function(a){return this.tryBody.type(a)},d._reduce=function(a){var c,d,e;return e=this.tryBody.reduce(a),c=this.finallyBody.reduce(a),d=null!=this.label?this.label.reduce(a):this.label,c instanceof U?x(this.index,this.scopeIf([e],d)).reduce(a):e instanceof U?x(this.index,this.scopeIf([c],d)).reduce(a):e!==this.tryBody||c!==this.finallyBody||d!==this.label?b(this.index,this.scope,e,c,d):this},d.isStatement=function(){return!0},d._isNoop=function(a){var b;return null==(b=this.__isNoop)?this.__isNoop=this.tryBody.isNoop(a)&&this.finallyBody.isNoop():b},d.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,this.tryBody,this.finallyBody,a)},d.inspect=function(a){return e(a,"TryFinallyNode",this.index,this.tryBody,this.finallyBody,this.label)},d.walk=function(c){var d,e,f;return f=c(this.tryBody),d=c(this.finallyBody),e=this.label instanceof a?c(this.label):this.label,f!==this.tryBody||d!==this.finallyBody||e!==this.label?b(this.index,this.scope,f,d,e):this},d.walkAsync=function(c,d){var e,f;return f=this,c(this.tryBody,(e=!1,function(g,h){var i;if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):c(f.finallyBody,(i=!1,function(e,g){if(i)throw Error("Attempted to call function more than once");return i=!0,null!=e?d(e):(f.label instanceof a?function(a){var b;return c(f.label,(b=!1,function(c,e){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?d(c):a(e)}))}:function(a){return a(f.label)})(function(a){return d(null,h!==f.tryBody||g!==f.finallyBody||a!==f.label?b(f.index,f.scope,h,g,a):f)})}))}))},b}(S),S.TypeFunction=nb=function(a){function b(a,c,e){var f;return f=this instanceof b?this:g(d),f.index=a,f.scope=c,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.returnType=e,f}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="TypeFunctionNode","function"==typeof a.extended&&a.extended(b),b.cappedName="TypeFunction",b.argNames=["returnType"],d.inspect=function(a){return e(a,"TypeFunctionNode",this.index,this.returnType)},d.walk=function(a){var c;return c=a(this.returnType),c!==this.returnType?b(this.index,this.scope,c):this},d.walkAsync=function(a,c){var d,e;return e=this,a(this.returnType,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.returnType?b(e.index,e.scope,f):e)}))},b}(S),S.TypeGeneric=ob=function(a){function b(a,c,d,e){var h;return h=this instanceof b?this:g(f),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.basetype=d,h.args=e,h}var c,f;return c=a.prototype,f=b.prototype=g(c),f.constructor=b,b.displayName="TypeGenericNode","function"==typeof a.extended&&a.extended(b),b.cappedName="TypeGeneric",b.argNames=["basetype","args"],f.inspect=function(a){return e(a,"TypeGenericNode",this.index,this.basetype,this.args)},f.walk=function(a){var c,e;return e=a(this.basetype),c=d(this.args,a),e!==this.basetype||c!==this.args?b(this.index,this.scope,e,c):this},f.walkAsync=function(a,c){var d,e;return e=this,a(this.basetype,(d=!1,function(f,g){var h;if(d)throw Error("Attempted to call function more than once");return d=!0,null!=f?c(f):R(e.args,a,(h=!1,function(a,d){if(h)throw Error("Attempted to call function more than once");return h=!0,null!=a?c(a):c(null,g!==e.basetype||d!==e.args?b(e.index,e.scope,g,d):e)}))}))},b}(S),S.TypeObject=pb=function(a){function b(a,c,d){var e;return e=this instanceof b?this:g(h),e.index=a,e.scope=c,e._reduced=void 0,e._macroExpanded=void 0,e._macroExpandAlled=void 0,e.pairs=d,e}function c(a,b){var c,d;return c=a.key.reduce(b),d=a.value.reduce(b),c!==a.key||d!==a.value?{key:c,value:d}:a}var f,h;return f=a.prototype,h=b.prototype=g(f),h.constructor=b,b.displayName="TypeObjectNode","function"==typeof a.extended&&a.extended(b),b.cappedName="TypeObject",b.argNames=["pairs"],h._reduce=function(a){var e;return e=d(this.pairs,c,a),e!==this.pairs?b(this.index,this.scope,e):this},h.inspect=function(a){return e(a,"TypeObjectNode",this.index,this.pairs)},h.walk=function(){return this},h.walkAsync=function(a,b){return b(null,this)},b}(S),S.TypeUnion=qb=function(a){function b(a,c,d){var e;return e=this instanceof b?this:g(f),e.index=a,e.scope=c,e._reduced=void 0,e._macroExpanded=void 0,e._macroExpandAlled=void 0,e.types=d,e}var c,f;return c=a.prototype,f=b.prototype=g(c),f.constructor=b,b.displayName="TypeUnionNode","function"==typeof a.extended&&a.extended(b),b.cappedName="TypeUnion",b.argNames=["types"],f.inspect=function(a){return e(a,"TypeUnionNode",this.index,this.types)},f.walk=function(a){var c;return c=d(this.types,a),c!==this.types?b(this.index,this.scope,c):this},f.walkAsync=function(a,c){var d,e;return e=this,R(this.types,a,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.types?b(e.index,e.scope,f):e)}))},b}(S),S.Unary=rb=function(a){function b(a,c,e,f){var h;return h=this instanceof b?this:g(d),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.op=e,h.node=f,h}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="UnaryNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Unary",b.argNames=["op","node"],d.type=function(){var a;return a={"-":mb.number,"+":mb.number,"--":mb.number,"++":mb.number,"--post":mb.number,"++post":mb.number,"!":mb.boolean,"~":mb.number,"typeof":mb.string,"delete":mb.boolean},function(){var b;return(m.call(a,b=this.op)?a[b]:void 0)||mb.any}}(),d._reduce=function(){var a,c;return a={"-":function(a){return-a},"+":function(a){return+a},"!":function(a){return!a},"~":function(a){return~a},"typeof":function(a){return typeof a}},c={"+":function(a,b){return a.type(b).isSubsetOf(mb.number)?a:void 0},"-":function(a){var c;if(a instanceof b){if("-"===(c=a.op)||"+"===c)return b(this.index,this.scope,"-"===a.op?"+":"-",a.node)}else if(a instanceof w){if("-"===(c=a.op)||"+"===c)return w(this.index,this.scope,a.left,"-"===a.op?"+":"-",a.right);if("*"===(c=a.op)||"/"===c)return w(this.index,this.scope,b(a.left.index,a.left.scope,"-",a.left),a.op,a.right)}},"!":function(){var a;return a={"<":">=","<=":">",">":"<=",">=":"<","==":"!=","!=":"==","===":"!==","!==":"===","&&":function(a,c){return w(this.index,this.scope,b(a.index,a.scope,"!",a),"||",b(c.index,c.scope,"!",c))},"||":function(a,c){return w(this.index,this.scope,b(a.index,a.scope,"!",a),"&&",b(c.index,c.scope,"!",c))}},function(c,d){var e;if(c instanceof b){if("!"===c.op&&c.node.type(d).isSubsetOf(mb.boolean))return c.node}else if(c instanceof w&&m.call(a,c.op))return e=a[c.op],"function"==typeof e?e.call(this,c.left,c.right):w(this.index,this.scope,c.left,e,c.right)}}(),"typeof":function(){var a;return a=mb["null"].union(mb.object).union(mb.arrayLike).union(mb.regexp).union(mb.date).union(mb.error),function(b,c){var d;if(b.isNoop(c)){if(d=b.type(c),d.isSubsetOf(mb.number))return C(this.index,this.scope,"number");if(d.isSubsetOf(mb.string))return C(this.index,this.scope,"string");if(d.isSubsetOf(mb.boolean))return C(this.index,this.scope,"boolean");if(d.isSubsetOf(mb.undefined))return C(this.index,this.scope,"undefined");if(d.isSubsetOf(mb["function"]))return C(this.index,this.scope,"function");if(d.isSubsetOf(a))return C(this.index,this.scope,"object")}}}()},function(d){var e,f,g;return e=this.node.reduce(d).doWrap(d),f=this.op,e.isConst()&&m.call(a,f)?C(this.index,this.scope,a[f](e.constValue())):(m.call(c,f)&&(g=c[f].call(this,e,d)),null!=g?g.reduce(d):e!==this.node?b(this.index,this.scope,f,e):this)}}(),d._isNoop=function(a){var b,c;return null==(b=this.__isNoop)?this.__isNoop="++"!==(c=this.op)&&"--"!==c&&"++post"!==c&&"--post"!==c&&"delete"!==c&&this.node.isNoop(a):b},d.inspect=function(a){return e(a,"UnaryNode",this.index,this.op,this.node)},d.walk=function(a){var c;return c=a(this.node),c!==this.node?b(this.index,this.scope,this.op,c):this},d.walkAsync=function(a,c){var d,e;return e=this,a(this.node,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.node?b(e.index,e.scope,e.op,f):e)}))},b}(S),S.Var=sb=function(a){function b(a,c,e,f){var h;return h=this instanceof b?this:g(d),null==f&&(f=!1),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.ident=e,h.isMutable=f,h}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="VarNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Var",b.argNames=["ident","isMutable"],d.type=function(){return mb.undefined},d._reduce=function(a){var c;return c=this.ident.reduce(a),c!==this.ident?b(this.index,this.scope,c,this.isMutable):this
},d.inspect=function(a){return e(a,"VarNode",this.index,this.ident,this.isMutable)},d.walk=function(a){var c;return c=a(this.ident),c!==this.ident?b(this.index,this.scope,c,this.isMutable):this},d.walkAsync=function(a,c){var d,e;return e=this,a(this.ident,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.ident?b(e.index,e.scope,f,e.isMutable):e)}))},b}(S),S.Yield=tb=function(a){function b(a,c,e){var f;return f=this instanceof b?this:g(d),f.index=a,f.scope=c,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.node=e,f}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="YieldNode","function"==typeof a.extended&&a.extended(b),b.cappedName="Yield",b.argNames=["node"],d.type=function(){return mb.any},d._reduce=function(a){var c;return c=this.node.reduce(a).doWrap(a),c!==this.node?b(this.index,this.scope,c):this},d.inspect=function(a){return e(a,"YieldNode",this.index,this.node)},d.walk=function(a){var c;return c=a(this.node),c!==this.node?b(this.index,this.scope,c):this},d.walkAsync=function(a,c){var d,e;return e=this,a(this.node,(d=!1,function(a,f){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,f!==e.node?b(e.index,e.scope,f):e)}))},b}(S),a.exports=S}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b["./parser-macroholder"]=function(){var a={exports:this};return function(){"use strict";var c,d,e,f,g,h,i,j,k;c="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},d=function(a,b){var c;for(c in b)f.call(b,c)&&(a[c]=b[c]);return a},e="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),f=Object.prototype.hasOwnProperty,g=Array.prototype.slice,h=function(a){if(null==a)throw TypeError("Expected an object, got "+i(a));if(e(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return g.call(a);throw TypeError("Expected an object with a length property, got "+i(a))},i=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),k=b("./types"),j=function(){function a(b,d,e,f,g){var h;return h=this instanceof a?this:c(i),h.syntaxes=b,h.macroName=d,h.wordOrSymbol=e,h.oneOf=f,h.sequential=g,h.byName={},h.byId=[],h.byLabel={},h.typeById=[],h.operatorNames={},h.binaryOperators=[],h.assignOperators=[],h.prefixUnaryOperators=[],h.postfixUnaryOperators=[],h.consts={},h.serialization={},h.helpers={},h}function e(a){switch(a){case 0:return{type:0===a&&1/a>0?"+0":"-0"};case 1/0:return{type:"Infinity"};case-1/0:return{type:"-Infinity"};default:return a!==a?{type:"NaN"}:void 0===a?{type:"void"}:a}}function g(a){if("object"!=typeof a||null===a||"string"!=typeof a.type)return a;switch(a.type){case"+0":return 0;case"-0":return-0;case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return 0/0;case"void":return;default:throw Error("Unknown value")}}var i;return i=a.prototype,a.displayName="MacroHolder",i.clone=function(){var b;return b=a(this.syntaxes,this.macroName,this.wordOrSymbol,this.oneOf,this.sequential),b.byName=d({},this.byName),b.byId=this.byId.slice(),b.byLabel=d({},this.byLabel),b.typeById=this.typeById.slice(),b.operatorNames=d({},this.operatorNames),b.binaryOperators=this.binaryOperators.slice(),b.assignOperators=this.assignOperators.slice(),b.prefixUnaryOperators=this.prefixUnaryOperators.slice(),b.postfixUnaryOperators=this.postfixUnaryOperators.slice(),b.consts=d({},this.consts),b.serialization=d({},this.serialization),b.helpers=d({},this.helpers),b.syntaxes=d({},this.syntaxes),b},i.getByName=function(a){var b;return f.call(b=this.byName,a)?b[a]:void 0},i.getOrAddByName=function(a){var b,c,d;return b=this.byName,f.call(b,a)?b[a]:(d=this.macroName(a),c=function(a,b){var d,e,f,g,i;for(d=h(c.data),e=0,f=d.length;f>e;++e)if(i=d[e],g=i(a,b))return g},c.token=d,c.data=[],b[a]=c)},i.getOrAddByNames=function(a){var b,c,d,e;for(b=[],c=0,d=a.length;d>c;++c)e=a[c],b.push(this.getOrAddByName(e));return b},i.setTypeById=function(a,b){this.typeById[a]=b},i.getTypeById=function(a){return this.typeById[a]},i.getById=function(a){var b;return b=this.byId,a>=0&&a<b.length?b[a]:void 0},i.addMacro=function(a,b,c){var d;if(null==b&&(b=void 0),null==c&&(c=void 0),d=this.byId,null!=b){if(f.call(d,b))throw Error("Cannot add macro #"+b+", as it already exists");d[b]=a}else d.push(a),b=d.length-1;return null!=c&&(this.typeById[b]=c),b},i.replaceMacro=function(a,b,c){var d;null==c&&(c=void 0),d=this.byId,d[a]=b,null!=c&&(this.typeById[a]=c)},i.hasMacroOrOperator=function(a){return f.call(this.byName,a)||f.call(this.operatorNames,a)},i.getMacroAndOperatorNames=function(){var a,b,c;c=[],a=this.byName;for(b in a)f.call(a,b)&&c.push(b);a=this.operatorNames;for(b in a)f.call(a,b)&&c.push(b);return c},i.allBinaryOperators=function(){var a,b,c,d,e,f;if(null==(d=this._allBinaryOperators)){for(f=[],a=h(this.binaryOperators),b=0,c=a.length;c>b;++b)e=a[b],f.push.apply(f,h(e));return this._allBinaryOperators=f}return d},i.addBinaryOperator=function(a,b,c,d){var e,g,i,j,l,m,n,o,p;for(j=this,e=h(a),g=e.length;g--;)o=e[g],this.operatorNames[o]=!0;for(p=Number(c.precedence)||0,n=+this.binaryOperators.length;p>=n;++n)this.binaryOperators[n]=[];return l=this.binaryOperators[p],m={rule:this.oneOf.apply(this,function(){var b,c,d,e,f;for(b=[],c=h(a),d=0,e=c.length;e>d;++d)f=c[d],b.push(j.wordOrSymbol(f));return b}()),func:b,rightToLeft:!!c.rightToLeft,maximum:c.maximum||0,minimum:c.minimum||0,invertible:!!c.invertible},l.push(m),this._allBinaryOperators=null,c.label&&this.addByLabel(c.label,m),this.addMacro(b,d,"left"===(i=c.type)||"right"===i?c.type:null!=c.type&&f.call(k,i=c.type)?k[i]:void 0)},i.getByLabel=function(a){var b;return f.call(b=this.byLabel,a)?b[a]:void 0},i.addByLabel=function(a,b){return this.byLabel[a]=b},i.addAssignOperator=function(a,b,c,d){var e,g,i,j,l,m;for(j=this,e=h(a),g=e.length;g--;)m=e[g],this.operatorNames[m]=!0;return l={rule:this.oneOf.apply(this,function(){var b,c,d,e,f;for(b=[],c=h(a),d=0,e=c.length;e>d;++d)f=c[d],":="===f?b.push(j.syntaxes.ColonEqual):b.push(j.wordOrSymbol(f));return b}()),func:b},this.assignOperators.push(l),c.label&&this.addByLabel(c.label,l),this.addMacro(b,d,"left"===(i=c.type)||"right"===i?c.type:null!=c.type&&f.call(k,i=c.type)?k[i]:void 0)},i.addUnaryOperator=function(a,b,c,d){var e,g,i,j,l,m,n;for(j=this,e=h(a),g=e.length;g--;)m=e[g],this.operatorNames[m]=!0;return n=c.postfix?this.postfixUnaryOperators:this.prefixUnaryOperators,l={rule:this.oneOf.apply(this,function(){var b,d,e,f,g,i;for(b=[],d=h(a),e=0,f=d.length;f>e;++e)g=d[e],i=j.wordOrSymbol(g),/[a-zA-Z]/.test(g)?b.push(i):c.postfix?b.push(j.sequential(j.syntaxes.NoSpace,["this",i])):b.push(j.sequential(["this",i],j.syntaxes.NoSpace));return b}()),func:b,standalone:f.call(!c,"standalone")||!!c.standalone},n.push(l),c.label&&this.addByLabel(c.label,l),this.addMacro(b,d,"node"===c.type?c.type:null!=c.type&&f.call(k,i=c.type)?k[i]:void 0)},i.addSerializedHelper=function(a,b,c,d){var e,f,g;g=null!=(e=(f=this.serialization).helpers)?e:f.helpers={},g[a]={helper:b,type:c,dependencies:d}},i.addConst=function(a,b){this.consts[a]=b},i.addSerializedConst=function(a){var b,c,d;if(!f.call(this.consts,a))throw Error("Unknown const "+a);d=null!=(b=(c=this.serialization).consts)?b:c.consts={},d[a]=e(this.consts[a])},i.addMacroSerialization=function(a){var b,c,e,f,g;g=d({},a),delete g.type,f=null!=(b=(c=this.serialization)[e=a.type])?b:c[e]=[],f.push(g)},i.addSyntax=function(a,b){if(f.call(this.syntaxes,a))throw Error("Cannot override already-defined syntax: "+a);this.syntaxes[a]=b},i.hasSyntax=function(a){return f.call(this.syntaxes,a)},i.getSyntax=function(a){if(f.call(this.syntaxes,a))return this.syntaxes[a];throw Error("Unknown syntax: "+a)},i.serialize=function(a){var c,e,g,i,j,k,l;if(null==a&&(a=!1),l=d({},this.serialization),f.call(l,"helpers")&&(i=l.helpers),i)for(k in i)if(f.call(i,k))for(g=i[k],c=h(g.dependencies),j=c.length;j--;)e=c[j],f.call(i,e)||g.dependencies.splice(j,1);return a?b("./jsutils").toJSSource(l):JSON.stringify(l)},i.deserialize=function(a,c){var d,e,h,i,j,l,m,n;h=b("./jsast"),d=null!=(e=f.call(a,"helpers")?a.helpers:void 0)?e:{};for(l in d)f.call(d,l)&&(e=d[l],j=e.helper,m=e.type,i=e.dependencies,this.addHelper(l,h.fromJSON(j),k.fromJSON(m),i));d=null!=(e=f.call(a,"consts")?a.consts:void 0)?e:{};for(l in d)f.call(d,l)&&(n=d[l],this.addConst(l,g(n)));c.deserializeMacros(a)},i.addHelper=function(a,b,c,d){if(f.call(this.helpers,a))throw Error("Trying to overwrite helper "+a);return this.helpers[a]={value:b,type:c,dependencies:d}},i.hasHelper=function(a){return f.call(this.helpers,a)},i.getHelper=function(a){if(f.call(this.helpers,a))return this.helpers[a].value;throw Error("No such helper: "+a)},i.helperType=function(a){if(f.call(this.helpers,a))return this.helpers[a].type;throw Error("No such helper: "+a)},i.helperDependencies=function(a){if(f.call(this.helpers,a))return this.helpers[a].dependencies;throw Error("No such helper: "+a)},a}(),a.exports=j}.call(this),a.exports},b["./parser-macrocontext"]=function(){var a={exports:this};return function(){"use strict";function c(a){return a}var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb;d="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},e="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),f=Object.prototype.hasOwnProperty,g=Array.prototype.slice,h=function(a){throw a},i=function(a){if(null==a)throw TypeError("Expected an object, got "+j(a));if(e(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return g.call(a);throw TypeError("Expected an object with a length property, got "+j(a))},j=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),L=b("./parser-nodes"),fb=b("./types"),T=b("./parser-scope"),k=b("./parser-utils"),M=k.nodeToType,n=k.addParamToScope,K=k.map,m=L.Access,l=L.AccessMulti,o=L.Args,p=L.Array,q=L.Assign,r=L.Binary,s=L.Block,t=L.Break,u=L.Call,v=L.Comment,w=L.Const,x=L.Continue,y=L.Debugger,z=L.Def,A=L.EmbedWrite,B=L.Eval,D=L.For,C=L.ForIn,E=L.Function,F=L.Ident,G=L.If,H=L.MacroAccess,I=L.MacroConst,N=L.Nothing,O=L.Object,P=L.Param,Q=L.Regexp,R=L.Return,S=L.Root,U=L.Spread,V=L.Super,W=L.Switch,X=L.SyntaxChoice,Y=L.SyntaxMany,Z=L.SyntaxParam,$=L.SyntaxSequence,_=L.This,ab=L.Throw,bb=L.Tmp,cb=L.TmpWrapper,db=L.TryCatch,eb=L.TryFinally,gb=L.TypeFunction,hb=L.TypeGeneric,ib=L.TypeObject,jb=L.TypeUnion,kb=L.Unary,lb=L.Var,mb=L.Yield,J=function(){function a(b,c,e,f,g){var h;return h=this instanceof a?this:d(v),h.parser=b,h.index=c,h.position=e,h.inGenerator=f,h.inEvilAst=g,h.unsavedTmps=[],h.savedTmps=[],h}function k(a,b,c){if("object"!=typeof a||null===a||a instanceof RegExp)return w(b,c,a);if(e(a))return p(b,c,function(){var d,e,f,g,h;for(d=[],e=i(a),f=0,g=e.length;g>f;++f)h=e[f],d.push(k(h,b,c));return d}());if(a instanceof F&&a.name.length>1&&36===a.name.charCodeAt(0))return u(a.index,c,F(a.index,c,"__wrap"),[F(a.index,c,a.name.substring(1))]);if(a instanceof u&&!a.isNew&&!a.isApply&&a.func instanceof F&&"$"===a.func.name){if(1!==a.args.length||a.args[0]instanceof U)throw Error("Can only use $() in an AST if it has one argument.");return u(a.index,c,F(a.index,c,"__wrap"),[a.args[0]])}if(a instanceof I)return u(a.index,c,F(a.index,c,"__const"),[w(a.index,c,a.name)]);if(a instanceof L){if(a.constructor===L)throw Error("Cannot constify a raw node");return u(a.index,c,F(a.index,c,"__node"),[w(a.index,c,a.constructor.cappedName),w(a.index,c,a.index)].concat(function(){var b,d,e,f,g;for(b=[],d=i(a.constructor.argNames),e=0,f=d.length;f>e;++e)g=d[e],b.push(k(a[g],a.index,c));return b}()))}return O(b,c,function(){var d,e,g;d=[];for(e in a)f.call(a,e)&&(g=a[e],d.push({key:w(b,c,e),value:k(g,b,c)}));return d}())}function l(a,b){var c;if("object"!=typeof a||null===a||a instanceof RegExp)return a;if(!(a instanceof L))throw Error("Unexpected type to walk through: "+j(a));return a instanceof s||null==(c=b(a))?a.walk(function(a){return l(a,b)}):c}var v,y;return v=a.prototype,a.displayName="MacroContext",v.doWrap=function(a){return a instanceof L?a.doWrap(this.parser):a},v.error=function(a,b){throw null==b&&(b=null),this.parser.buildError(a,b||this.index)},v.scope=function(){return this.parser.scope.peek()},v.line=function(a){var b;return b=a instanceof L?a.index:this.index,this.parser.getPosition(b).line},v.column=function(a){var b;return b=a instanceof L?a.index:this.index,this.parser.getPosition(b).column},v.file=function(){return this.parser.options.filename||""},v.version=function(){return this.parser.getPackageVersion()},v.let=function(a,b,c){return null==b&&(b=!1),null==c&&(c=fb.any),a instanceof F&&b&&c.isSubsetOf(fb.undefinedOrNull)&&(c=fb.any),this.scope().add(a,b,c)},v.hasVariable=function(a){return this.scope().has(a)},v.isVariableMutable=function(a){return this.scope().isMutable(a)},v["var"]=function(a,b){return null==b&&(b=!1),this.parser.Var(this.index,a,b)},v.def=function(a,b){return null==a&&(a=N(0,this.scope())),null==b&&(b=void 0),this.parser.Def(this.index,a,this.doWrap(b))},v.noop=function(){return this.parser.Nothing(this.index)},v.block=function(a,b){return null==b&&(b=null),this.parser.Block(this.index,a,b).reduce(this.parser)},v["if"]=function(a,b,c,d){return null==a&&(a=N(0,this.scope())),null==b&&(b=N(0,this.scope())),null==c&&(c=null),null==d&&(d=null),this.parser.If(this.index,this.doWrap(a),b,c,d).reduce(this.parser)},v["switch"]=function(a,b,c,d){var e;return e=this,null==a&&(a=N(0,this.scope())),null==c&&(c=null),null==d&&(d=null),this.parser.Switch(this.index,this.doWrap(a),function(){var a,c,d,f;for(a=[],c=0,d=b.length;d>c;++c)f=b[c],a.push({node:e.doWrap(f.node),body:f.body,fallthrough:f.fallthrough});return a}(),c,d).reduce(this.parser)},v["for"]=function(a,b,c,d,e){return null==a&&(a=null),null==b&&(b=null),null==c&&(c=null),null==d&&(d=N(0,this.scope())),null==e&&(e=null),this.parser.For(this.index,this.doWrap(a),this.doWrap(b),this.doWrap(c),d,e).reduce(this.parser)},v.forIn=function(a,b,c,d){return null==b&&(b=N(0)),null==c&&(c=N(0,this.scope())),null==d&&(d=null),this.parser.ForIn(this.index,a,this.doWrap(b),c,d).reduce(this.parser)},v.tryCatch=function(a,b,c,d){return null==a&&(a=N(0,this.scope())),null==b&&(b=N(0,this.scope())),null==c&&(c=N(0,this.scope())),null==d&&(d=null),this.parser.TryCatch(this.index,a,b,c,d).reduce(this.parser)},v.tryFinally=function(a,b,c){return null==a&&(a=N(0,this.scope())),null==b&&(b=N(0,this.scope())),null==c&&(c=null),this.parser.TryFinally(this.index,a,b,c).reduce(this.parser)},v.assign=function(a,b,c){return null==a&&(a=N(0,this.scope())),null==c&&(c=N(0,this.scope())),this.parser.Assign(this.index,a,b,this.doWrap(c)).reduce(this.parser)},v.binary=function(a,b,c){return null==a&&(a=N(0,this.scope())),null==c&&(c=N(0,this.scope())),this.parser.Binary(this.index,this.doWrap(a),b,this.doWrap(c)).reduce(this.parser)},v.binaryChain=function(a,b){var c,d,e,f,g;if(0===b.length)throw Error("Expected nodes to at least have a length of 1");for(e=this.doWrap(b[0]),c=1,d=b.length;d>c;++c)g=b[c],e=this.parser.Binary(this.index,e,a,this.doWrap(g));return f=e,f.reduce(this.parser)},v.unary=function(a,b){return null==b&&(b=N(0,this.scope())),this.parser.Unary(this.index,a,this.doWrap(b)).reduce(this.parser)},v["throw"]=function(a){return null==a&&(a=N(0,this.scope())),this.parser.Throw(this.index,this.doWrap(a)).reduce(this.parser)},v["return"]=function(a){return null==a&&(a=void 0),this.parser.Return(this.index,this.doWrap(a)).reduce(this.parser)},v.yield=function(a){return null==a&&(a=N(0,this.scope())),this.parser.Yield(this.index,this.doWrap(a)).reduce(this.parser)},v["debugger"]=function(){return this.parser.Debugger(this.index)},v["break"]=function(a){return null==a&&(a=null),this.parser.Break(this.index,a)},v["continue"]=function(a){return null==a&&(a=null),this.parser.Continue(this.index,a)},v.spread=function(a){return this.parser.Spread(this.index,a)},v.real=function(a){return a=this.macroExpand1(a),a instanceof cb?a.node:a},v.rewrap=function(a,b){return b=this.macroExpand1(b),b instanceof cb?a instanceof cb?cb(a.index,a.scope,a,b.tmps.concat(a.tmps)):cb(a.index,a.scope,a,b.tmps.slice()):a},v.eq=function(a,b){return a=this.real(a),b=this.real(b),a instanceof w?b instanceof w&&a.value===b.value:a instanceof F?b instanceof F&&a.name===b.name:!1},v.isLabeledBlock=function(a){return a=this.real(a),a instanceof s||a instanceof G||a instanceof W||a instanceof D||a instanceof C||a instanceof db||a instanceof eb?null!=a.label:!1},v.isBreak=function(a){return this.real(a)instanceof t},v.isContinue=function(a){return this.real(a)instanceof x},v.label=function(a){return a=this.real(a),a instanceof t||a instanceof x||a instanceof s||a instanceof G||a instanceof W||a instanceof D||a instanceof C||a instanceof db||a instanceof eb?a.label:null},v.withLabel=function(a,b){return null==b&&(b=null),a.withLabel(b,this.parser)},v.macroExpand1=function(a){var b;return a instanceof L?(b=this.parser.macroExpand1(a),b instanceof L?b.reduce(this.parser):b):a},v.macroExpandAll=function(a){var b;return a instanceof L?(b=this.parser.macroExpandAll(a),b instanceof L?b.reduce(this.parser):b):a},v.tmp=function(a,b,c){var d;if(null==a&&(a="ref"),null==b&&(b=!1),null==c)c=fb.any;else if("string"==typeof c){if(!((f.call(fb,c)?fb[c]:void 0)instanceof fb))throw Error(c+" is not a known type name");f.call(fb,c)&&(c=fb[c])}else if(!(c instanceof fb))throw Error("Must provide a Type or a string for type, got "+j(c));return d=this.parser.makeTmp(this.index,a,c),(b?this.savedTmps:this.unsavedTmps).push(d.id),d},v.getTmps=function(){return{unsaved:this.unsavedTmps.slice(),saved:this.savedTmps.slice()}},v.isConst=function(a){return void 0===a||a instanceof L&&this.real(a).isConst()},v.value=function(a){var b;if(void 0!==a)return a instanceof L&&(b=this.real(a),b.isConst())?b.constValue():void 0},v["const"]=function(a){return this.parser.Const(this.index,a)},v.isSpread=function(a){return this.real(a)instanceof U},v.spreadSubnode=function(a){return a=this.real(a),a instanceof U?a.node:void 0},v.isNode=function(a){return a instanceof L},v.isIdent=function(a){return this.real(a)instanceof F},v.isPrimordial=function(a){return a=this.real(a),a instanceof F&&a.isPrimordial()},v.isTmp=function(a){return this.real(a)instanceof bb},v.isIdentOrTmp=function(a){var b;return(b=this.real(a))instanceof F||b instanceof bb},v.name=function(a){return a=this.real(a),this.isIdent(a)?a.name:void 0},v.ident=function(a){return b("./jsutils").isAcceptableIdent(a,!0)?this.parser.Ident(this.index,a):void 0},v.isCall=function(a){return this.real(a)instanceof u},v.callFunc=function(a){return a=this.real(a),a instanceof u?a.func:void 0},v.callArgs=function(a){return a=this.real(a),a instanceof u?a.args:void 0},v.isSuper=function(a){return this.real(a)instanceof V},v.superChild=function(a){return a=this.real(a),this.isSuper(a)?a.child:void 0},v.superArgs=function(a){return a=this.real(a),this.isSuper(a)?a.args:void 0},v.callIsNew=function(a){return a=this.real(a),a instanceof u?!!a.isNew:!1},v.callIsApply=function(a){return a=this.real(a),a instanceof u?!!a.isApply:!1},v.call=function(a,b,c,d){var e;if(e=this,null==b&&(b=[]),null==c&&(c=!1),null==d&&(d=!1),c&&d)throw Error("Cannot specify both is-new and is-apply");return u(a.index,this.scope(),this.doWrap(a),function(){var a,c,d,f;for(a=[],c=0,d=b.length;d>c;++c)f=b[c],a.push(e.doWrap(f));return a}(),c,d).reduce(this.parser)},v.func=function(a,b,c,d,e,f,g,h){var j,k,l,m,o,p,q,r;for(null==c&&(c=!0),null==d&&(d=!1),null==e&&(e=!1),null==f&&(f=void 0),null==g&&(g=!1),null==h&&(h=[]),r=this.parser.pushScope(!0),j=[],k=i(a),l=0,m=k.length;m>l;++l)q=k[l],p=q.rescope(r),n(r,p),j.push(p);return a=j,o=E(b.index,r.parent,a,b.rescope(r),c,d,e,f,g,h).reduce(this.parser),this.parser.popScope(),o},v.isFunc=function(a){return this.real(a)instanceof E},v.funcBody=function(a){return a=this.real(a),this.isFunc(a)?a.body:void 0},v.funcParams=function(a){return a=this.real(a),this.isFunc(a)?a.params:void 0},v.funcIsAutoReturn=function(a){return a=this.real(a),this.isFunc(a)?!!a.autoReturn:void 0},v.funcIsBound=function(a){return a=this.real(a),this.isFunc(a)?!(!a.bound||a.bound instanceof L):void 0},v.funcIsCurried=function(a){return a=this.real(a),this.isFunc(a)?!!a.curry:void 0},v.funcAsType=function(a){return a=this.real(a),this.isFunc(a)?a.asType:void 0},v.funcIsGenerator=function(a){return a=this.real(a),this.isFunc(a)?!!a.generator:void 0},v.funcGeneric=function(a){return a=this.real(a),this.isFunc(a)?a.generic.slice():[]},v.param=function(a,b,c,d,e){return P(a.index,a.scope,a,b,c,d,e).reduce(this.parser)},v.isParam=function(a){return this.real(a)instanceof P},v.paramIdent=function(a){return a=this.real(a),this.isParam(a)?a.ident:void 0},v.paramDefaultValue=function(a){return a=this.real(a),this.isParam(a)?a.defaultValue:void 0},v.paramIsSpread=function(a){return a=this.real(a),this.isParam(a)?!!a.spread:void 0},v.paramIsMutable=function(a){return a=this.real(a),this.isParam(a)?!!a.isMutable:void 0},v.paramType=function(a){return a=this.real(a),this.isParam(a)?a.asType:void 0},v.isArray=function(a){return this.real(a)instanceof p},v.elements=function(a){return a=this.real(a),this.isArray(a)?a.elements:void 0},v.arrayHasSpread=function(a){var b,c,d,e,f;if(a=this.real(a),a instanceof p){for(e=!1,b=i(a.elements),c=0,d=b.length;d>c;++c)if(f=b[c],this.real(f)instanceof U){e=!0;break}return e}return!1},v.isObject=function(a){return this.real(a)instanceof O},v.pairs=function(a){return a=this.real(a),this.isObject(a)||this.isTypeObject(a)?a.pairs:void 0},v.isBlock=function(a){return this.real(a)instanceof s},v.nodes=function(a){return a=this.real(a),this.isBlock(a)?a.nodes:void 0},v.array=function(a){var b;return b=this,this.parser.Array(0,function(){var c,d,e,f,g;for(c=[],d=i(a),e=0,f=d.length;f>e;++e)g=d[e],c.push(b.doWrap(g));return c}()).reduce(this.parser)},v.object=function(a){var b;return b=this,this.parser.Object(0,function(){var c,d,e,f,g,h,j,k;for(c=[],d=i(a),e=0,f=d.length;f>e;++e)g=d[e],h=g.key,k=g.value,j=g.property,c.push({key:b.doWrap(h),value:b.doWrap(k)(j)});return c}()).reduce(this.parser)},v.type=function(a){if("string"==typeof a)return f.call(fb,a)&&fb[a]||h(Error("Unknown type "+a));if(a instanceof L)return a.type(this.parser);throw Error("Can only retrieve type from a String or Node, got "+j(a))},v.toType=M,v.isComplex=function(a){return a=this.real(a),!(null==a||a instanceof w||a instanceof F||a instanceof bb||a instanceof _||a instanceof o||a instanceof s&&0===a.nodes.length)},v.isNoop=function(a){return a=this.real(a),a.isNoop(this.parser)},v.isNothing=function(a){return this.real(a)instanceof N},v.isTypeArray=function(a){return a=this.real(a),a instanceof hb&&a.basetype instanceof F&&"Array"===a.basetype.name},v.subtype=function(a){return a=this.real(a),a instanceof hb&&a.basetype instanceof F&&"Array"===a.basetype.name?a.args[0]:void 0},v.isTypeGeneric=function(a){return this.real(a)instanceof hb},v.basetype=function(a){return a=this.real(a),a instanceof hb&&a.basetype},v.typeArguments=function(a){return a=this.real(a),a instanceof hb&&a.args},v.isTypeObject=function(a){return this.real(a)instanceof ib},v.isTypeFunction=function(a){return a=this.real(a),a instanceof hb&&a.basetype instanceof F&&"Function"===a.basetype.name},v.returnType=function(a){return a=this.real(a),a instanceof hb&&a.basetype instanceof F&&"Function"===a.basetype.name?a.args[0]:void 0},v.isTypeUnion=function(a){return this.real(a)instanceof jb},v.types=function(a){return a=this.real(a),this.isTypeUnion(a)&&a.types},v.isThis=function(a){return this.real(a)instanceof _},v.isArguments=function(a){return a=this.real(a),a instanceof o},v.isDef=function(a){return this.real(a)instanceof z},v.isAssign=function(a){return this.real(a)instanceof q},v.isBinary=function(a){return this.real(a)instanceof r},v.isUnary=function(a){return this.real(a)instanceof kb},v.op=function(a){return a=this.real(a),this.isAssign(a)||this.isBinary(a)||this.isUnary(a)?a.op:void 0},v.left=function(a){return a=this.real(a),this.isDef(a)||this.isBinary(a)?a.left:void 0},v.right=function(a){return a=this.real(a),this.isDef(a)||this.isBinary(a)?a.right:void 0},v.unaryNode=function(a){return a=this.real(a),this.isUnary(a)?a.node:void 0},v.isAccess=function(a){return this.real(a)instanceof m},v.parent=function(a){return a=this.real(a),a instanceof m?a.parent:void 0},v.child=function(a){return a=this.real(a),a instanceof m?a.child:void 0},v.isIf=function(a){return this.real(a)instanceof G},v.test=function(a){return a=this.real(a),a instanceof G?a.test:void 0},v.whenTrue=function(a){return a=this.real(a),a instanceof G?a.whenTrue:void 0},v.whenFalse=function(a){return a=this.real(a),a instanceof G?a.whenFalse:void 0},v.cache=function(a,b,c,d){return null==c&&(c="ref"),null==d&&(d=!1),this.maybeCache(a,function(a,c,d){return d&&b.push(a),c},c,d)},v.maybeCache=function(a,b,c,d){var e,f;return null==c&&(c="ref"),null==d&&(d=!1),a=this.macroExpand1(a),this.isComplex(a)?(f=a.type(this.parser),e=this.tmp(c,d,f),this.scope().add(e,!1,f),b(this.parser.Block(this.index,[this.parser.Var(this.index,e,!1),this.parser.Assign(this.index,e,"=",this.doWrap(a))]),e,!0)):b(a,a,!1)},v.maybeCacheAccess=function(a,b,c,d,e){var f;return f=this,null==c&&(c="ref"),null==d&&(d="ref"),null==e&&(e=!1),a=this.macroExpand1(a),this.isAccess(a)?this.maybeCache(this.parent(a),function(c,g,h){return f.maybeCache(f.child(a),function(d,e,i){return h||i?b(f.parser.Access(f.index,c,d),f.parser.Access(f.index,g,e),!0):b(a,a,!1)},d,e)},c,e):b(a,a,!1)},v.empty=function(a){var b,c,d,e;if(null==a)return!0;if(a instanceof L){if(a instanceof s){for(c=!0,b=i(a.nodes),d=b.length;d--;)if(e=b[d],!this.empty(e)){c=!1;break}return c}return a instanceof N}return!1},a.constifyObject=k,v.wrap=function(a){var b;return e(a)?s(0,this.scope(),a).reduce(this.parser):a instanceof L?a:null==a?N(0,this.scope()):a instanceof RegExp||"string"==(b=typeof a)||"boolean"===b||"number"===b?w(0,this.scope(),a):a},v.node=function(a,b){var c;return c=g.call(arguments,2),"MacroAccess"===a?this.macro.apply(this,[b].concat(i(c))):L[a].apply(L,[b,this.scope()].concat(i(c))).reduce(this.parser)},v.getConstValue=function(a,b){var c;if(c=this.parser.getConst(a))return c.value;if(arguments.length<2)throw Error("Unknown const '"+a+"'");return b},v.getConst=function(a){return w(0,this.scope(),this.getConstValue(a))},v.macro=function(a,b,c,d,e,f,g){return L.MacroAccess(a,this.scope(),b,c,d,e,f||this.parser.inGenerator.peek(),g).reduce(this.parser)},v.walk=function(a,b){return null!=a?l(a,b):a},v.hasFunc=function(a){var b,c;if(null!=this._hasFunc)return this._hasFunc;b={},c=function(a){if(a instanceof E)throw b;return a.walk(c)};try{l(this.macroExpandAll(a),c)}catch(d){if(d!==b)throw d;return this._hasFunc=!0}return this._hasFunc=!1},v.isStatement=function(a){return a=this.macroExpand1(a),a instanceof L&&a.isStatement()},v.isType=function(a,b){var c;if(f.call(fb,b)&&(c=fb[b]),null==c||!(c instanceof fb))throw Error(b+" is not a known type name");return a.type(this.parser).isSubsetOf(c)},v.hasType=function(a,b){var c;if(f.call(fb,b)&&(c=fb[b]),null==c||!(c instanceof fb))throw Error(b+" is not a known type name");return a.type(this.parser).overlaps(c)},y={Block:function(a,b){var c,d,e;return e=a.nodes,d=e.length,0!==d&&(c=this.mutateLast(e[d-1],b),c!==e[d-1])?s(a.index,a.scope,i(g.call(e,0,-1)).concat([c]),a.label):a},If:function(a,b){var c,d;return d=this.mutateLast(a.whenTrue,b),c=this.mutateLast(a.whenFalse,b),d!==a.whenTrue||c!==a.whenFalse?G(a.index,a.scope,a.test,d,c,a.label):a},Switch:function(a,b){var c,d,e;return c=this,d=K(a.cases,function(a){var d;return a.fallthrough?a:(d=c.mutateLast(a.body,b),d!==a.body?{node:a.node,body:d,fallthrough:a.fallthrough}:a)}),e=this.mutateLast(a.defaultCase||this.noop(),b),d!==a.cases||e!==a.defaultCase?W(a.index,a.scope,a.node,d,e,a.label):a},TmpWrapper:function(a,b){var c;return c=this.mutateLast(a.node,b),c!==a.node?cb(a.index,a.scope,c,a.tmps):a},MacroAccess:function(a,b){return this.mutateLast(this.macroExpand1(a),b)},TryCatch:function(a,b){var c,d;return d=this.mutateLast(a.tryBody,b),c=this.mutateLast(a.catchBody,b),d!==a.tryBody||c!==a.catchBody?db(a.index,a.scope,d,a.catchIdent,c,a.label):a},Break:c,Continue:c,Nothing:c,Return:c,Debugger:c,Throw:c},v.mutateLast=function(a,b,c){var d;if("object"!=typeof a||null===a||a instanceof RegExp)return a;if(!(a instanceof L))throw Error("Unexpected type to mutate-last through: "+j(a));return!f.call(y,a.constructor.cappedName)||c&&a instanceof N?null!=(d=b.call(this,a))?d:a:y[a.constructor.cappedName].call(this,a,b)},v.canMutateLast=function(a){return a instanceof L&&f.call(y,a.constructor.cappedName)},a}(),a.exports=J}.call(this),a.exports},b["./jstranslator"]=function(){var a={exports:this};return function(c){"use strict";function d(a){return!(a instanceof H.Ident||a instanceof H.Const||a instanceof H.This||a instanceof H.Arguments)}function e(a){return a.mutateLast(function(a){return H.Return(a.pos,a)})}function f(a){return a}function g(a){return a?e:f}function h(){function a(b){var c;return d.getOrAdd(b,(c=!1,function(b){var d,e;if(c)throw Error("Attempted to call function more than once");if(c=!0,e=!1,b instanceof R.Yield||b instanceof R.Return)return!0;if(!(b instanceof R.Function)){d={};try{b.walk(function(b){if(a(b))throw d;return b})}catch(f){if(f===d)return!0;throw f}}return!1}))}function b(c){var f;return e.getOrAdd(c,(f=!1,function(c){var e,g;if(f)throw Error("Attempted to call function more than once");if(f=!0,e=d.get(c))return e;if(c instanceof R.Yield||c instanceof R.Return||c instanceof R.Continue)return!0;if(!(c instanceof R.Function)){g={};try{c.walk(function(c){if(c instanceof R.For||c instanceof R.ForIn){if(a(c))throw g}else if(b(c))throw g;return c})}catch(h){if(h===g)return!0;throw h}}return!1}))}function c(h,i){var j;return null==i&&(i=!1),(i?g:f).getOrAdd(h,(j=!1,function(f){var h,k;if(j)throw Error("Attempted to call function more than once");if(j=!0,!i&&(h=g.get(f)))return h;if(h=d.get(f))return h;if(h=e.get(f))return h;if(f instanceof R.Yield||f instanceof R.Continue||f instanceof R.Break||!i&&f instanceof R.Return)return!0;if(!(f instanceof R.Function)){k={};try{f.walk(function(d){if(d instanceof R.For||d instanceof R.ForIn){if(a(d))throw k}else if(d instanceof R.Switch){if(b(d))throw k}else if(c(d,i))throw k;return d})}catch(l){if(l===k)return!0;throw l}}return!1}))}var d,e,f,g;return d=J.generic(R,Boolean)(),e=J.generic(R,Boolean)(),g=J.generic(R,Boolean)(),f=J.generic(R,Boolean)(),c}function i(a){var b,c,d,e,f,g;for(g=[],e=!1,b=E(a),c=0,d=b.length;d>c;++c)f=b[c],f instanceof R.Spread&&f.node instanceof R.Array?(g.push.apply(g,E(f.node.elements)),e=!0):g.push(f);return e?i(g):a}function j(a,b,c){var d;return null==c&&(c=void 0),d={line:a,column:b},null!=c&&(d.file=c),d}function k(){}function l(a,b,c,d,e,f){var g,h,j,k,l,n,o,p;for(p=[],l=[],p.push(l),g=E(i(b)),j=0,k=g.length;k>j;++j)n=g[j],n instanceof R.Spread?(p.push({tNode:m(n.node,c,"expression",null,f),type:n.node.type()}),l=[],p.push(l)):l.push(m(n,c,"expression",null,f));if(1===p.length)return function(){return H.Arr(a,function(){var a,b,c,d,e;for(a=[],b=E(p[0]),c=0,d=b.length;d>c;++c)e=b[c],a.push(e());return a}())};for(o=p.length,h=function(a,b){return 0===b%2?a.length>0?p[b]=function(){var b,c,d,e,f,g;for(b=[],c=E(a),d=0,e=c.length;e>d;++d)g=c[d],b.push(g());
return f=b,H.Arr(f[0].pos,f)}:p.splice(b,1):p[b]=function(){var b;return b=a.tNode(),a.type.isSubsetOf(U.array)?b:(c.addHelper("__toArray"),H.Call(b.pos,H.Ident(b.pos,"__toArray"),[b]))}};o--;)h.call(this,p[o],o);return 1===p.length?function(){var b;return b=p[0](),d&&b instanceof H.Call&&b.func instanceof H.Ident&&"__toArray"===b.func.name?H.Call(a,H.Access(a,H.Ident(a,"__slice"),"call"),b.args):e&&b instanceof H.Call&&b.func instanceof H.Ident&&"__toArray"===b.func.name&&b.args[0]instanceof H.Arguments?b.args[0]:b}:function(){var b,c,d,e,f,g;for(e=p[0](),b=[],c=1,d=p.length;d>c;++c)f=p[c],b.push(f());return g=b,H.Call(a,H.Access(a,e,"concat"),g)}}function m(a,b,c,d,e){var f;if("function"!=typeof d&&(d=g(d)),!B.call(T,a.constructor.cappedName))throw Error("Unable to translate unknown node type: "+String(a.constructor.cappedName));if(f=T[a.constructor.cappedName](a,b,c,d,e),"function"!=typeof f)throw Error("Translated non-function: "+F(f));return f}function n(a,b,c,d,e){var f,g,h,i;for(f=[],g=0,h=a.length;h>g;++g)i=a[g],f.push(m(a[g],b,c,g===h-1&&d,e));return f}function o(a,b,c,d,e,f){var g,i,j,k,l;return null==f&&(f={}),k=!1,b&&(j=h(),k=!j(e,!0),!k)?(i=K(a,d,j),M(e,d,i.start,null,null,c).goto(a,function(){return i.stop}),l=i.create(),a.file&&((g=l.pos).file||(g.file=a.file)),{wrap:function(a){return a},body:l}):(l=m(e,d,"topStatement",c,f)(),a.file&&((g=l.pos).file||(g.file=a.file)),{wrap:k?(d.addHelper("__generator"),function(b){return H.Call(a,H.Ident(a,"__generator"),[b])}):function(a){return a},body:l})}function p(a){return function(b){var c;return c=a(b.index),j(c.line,c.column,b.file)}}function q(a,b,c){function d(a){var b;for(b=[];;)if(a instanceof H.Comment)b.push(a),a=H.Noop(a.pos);else{if(!(a instanceof H.Block&&a.body[0]instanceof H.Comment))break;b.push(a.body[0]),a=H.Block(a.pos,C.call(a.body,1))}return{comments:b,body:a}}var e,f,g,h,i,k,l,n,q,r,s,t,u,v,w,x,z;if(y(a)||(a=[a]),y(c)||(c=[c]),0===a.length&&a.push({type:"Root",line:0,column:0,body:{type:"Nothing",line:0,column:0}}),v=j(0,0),b.options.embedded)for(e=["write","context"],f=0,g=e.length;g>f;++f)u=e[f],s=H.Ident({line:0,column:0},u),b.addVariable(s),b.markAsParam(s);for(h=1===a.length?function(){var d,e,f;if(N=p(c[0]),!(a[0]instanceof R.Root))throw Error("Cannot translate non-Root object");return a[0].isGenerator&&(b=b.clone(!0)),f=N(a[0]),e=o(f,a[0].isGenerator,b.options["return"]||b.options.eval,b,a[0].body),(d=e.body.pos).file||(d.file=f.file),N=null,e}():{wrap:function(a){return a},body:H.Block(v,function(){var e,f,g,h,i,j,k,l,n,o;for(e=[],f=E(a),g=0,h=f.length;h>g;++g){if(l=f[g],N=p(c[0]),!(l instanceof R.Root))throw Error("Cannot translate non-Root object");k=b.clone(!0),i=d(m(l.body,k,"topStatement",b.options["return"]||b.options.eval,[])()),j=i.comments,n=i.body,o=N(l),N=null,e.push(H.Block(o,E(j).concat([H.Call(o,H.Func(o,null,[],k.getVariables(),n))])))}return e}())},z=h.wrap,k=h.body,t=[],b.hasBound&&b.usedThis&&(q=H.Ident(k.pos,"_this"),b.addVariable(q),t.push(H.Assign(k.pos,q,H.This(k.pos)))),b.fillHelperDependencies(),e=E(b.getHelpers()),f=0,g=e.length;g>f;++f)r=e[f],"GLOBAL"!==r&&b.macros.hasHelper(r)&&(s=H.Ident(k.pos,r),b.addVariable(s),t.push(H.Assign(k.pos,s,b.macros.getHelper(r))));return i=[],b.options.eval&&(x=function(a){return a instanceof H.Func?(b.addHelper("GLOBAL"),null!=a.name?H.Block(a.pos,[a,H.Assign(a.pos,H.Access(a.pos,H.Ident(a.pos,"GLOBAL"),a.name.name),a.name)]):a):a instanceof H.Binary&&"="===a.op&&a.left instanceof H.Ident?(b.addHelper("GLOBAL"),H.Assign(a.pos,H.Access(a.pos,H.Ident(a.pos,"GLOBAL"),a.left.name),a.walk(x))):void 0},k=k.walk(x),k=k.mutateLast(function(a){return b.addHelper("GLOBAL"),H.Assign(a.pos,H.Access(a.pos,H.Ident(a.pos,"GLOBAL"),H.Const(a.pos,"_")),a)},{"return":!0})),h=d(k),n=h.comments,w=h.body,b.options.embedded&&(w=H.Block(k.pos,[H.Return(k.pos,z(H.Func(k.pos,null,[H.Ident(k.pos,"write"),H.Ident(k.pos,"context")],[],H.Block(k.pos,[H.If(k.pos,H.Binary(k.pos,H.Ident(k.pos,"context"),"==",H.Const(k.pos,null)),H.Assign(k.pos,H.Ident(k.pos,"context"),H.Obj(k.pos))),w]))))])),b.options.bare?(b.hasHelper("GLOBAL")&&(b.addVariable(H.Ident(k.pos,"GLOBAL")),i.unshift(H.Assign(k.pos,H.Ident(k.pos,"GLOBAL"),b.macros.getHelper("GLOBAL")))),null!=b.options.undefinedName&&b.addVariable(b.options.undefinedName),H.Root(k.pos,H.Block(k.pos,E(n).concat(E(i),E(t),[w])),b.getVariables(),["use strict"])):(l=H.Call(k.pos,H.Access(k.pos,H.Func(k.pos,null,(b.hasHelper("GLOBAL")?[H.Ident(k.pos,"GLOBAL")]:[]).concat(null!=b.options.undefinedName?[H.Ident(k.pos,b.options.undefinedName,!0)]:[]),b.getVariables(),H.Block(k.pos,E(t).concat([w])),["use strict"]),"call"),[H.This(k.pos)].concat(b.hasHelper("GLOBAL")?[b.macros.getHelper("GLOBAL")]:[])),b.options["return"]&&(l=H.Return(k.pos,l)),H.Root(k.pos,H.Block(k.pos,E(n).concat(E(i),[l])),[],[]))}var r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U;r=function(){var a;return a={iterator:function(){return this},next:function(){var a,b;return b=A(this.index)+1,a=this.array,b>=A(a.length)?{done:!0,value:void 0}:(this.index=b,{done:!1,value:a[b]})}},function(b){var c;if(!y(b))throw TypeError("Expected array to be an Array, got "+F(b));return c=t(a),c.array=b,c.index=-1,c}}(),s=function(a,b){var c;if(a===b)return 0;if(c=typeof a,"number"!==c&&"string"!==c)throw TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>a?-1:1},t="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},u=function(a,b){var c;if("number"!=typeof a)throw TypeError("Expected numArgs to be a Number, got "+F(a));if("function"!=typeof b)throw TypeError("Expected f to be a Function, got "+F(b));return a>1?(c=function(d){var e;return d.length>=a?b.apply(this,d):e=function(){return 0===arguments.length?e:c.call(this,d.concat(C.call(arguments)))}},c([])):b},v=function(a){return a},w=function(a,b){var c;for(c in b)B.call(b,c)&&(a[c]=b[c]);return a},x=function(a,b){var c,d,e,f;if("number"==typeof b){if(b!==b){for(c=E(a),e=c.length;e--;)if(d=c[e],d!==d)return e;return-1}if(0===b){for(f=1/b,c=E(a),e=c.length;e--;)if(d=c[e],0===d&&1/d===f)return e;return-1}}return a.indexOf(b)},y="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),z=function(a){if(null==a)throw TypeError("Expected iterable to be an Object, got "+F(a));if(y(a))return r(a);if("function"==typeof a.iterator)return a.iterator();if("function"==typeof a.next)return a;throw Error("Expected iterable to be an Array or an Object with an 'iterator' function or an Object with a 'next' function, got "+F(a))},A=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+F(a));return a},B=Object.prototype.hasOwnProperty,C=Array.prototype.slice,D=function(a){throw a},E=function(a){if(null==a)throw TypeError("Expected an object, got "+F(a));if(y(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return C.call(a);throw TypeError("Expected an object with a length property, got "+F(a))},F=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),Q="function"==typeof c.Map?c.Map:Q=function(){function a(c){var d,e,f,g;if(f=this instanceof a?this:t(b),f._keys=[],f._values=[],null!=c)try{for(e=z(c);d=e.next(),!d.done;)g=d.value,f.set(g[0],g[1])}finally{try{e.close()}catch(h){}}return f}var b;return b=a.prototype,a.displayName="Map",b.get=function(a){var b;return b=x(this._keys,a),-1===b?void 0:this._values[b]},b.has=function(a){return-1!==x(this._keys,a)},b.set=function(a,b){var c,d;d=this._keys,c=x(d,a),-1===c&&(c=d.length,d[c]=a),this._values[c]=b},b["delete"]=function(a){var b,c;return c=this._keys,b=x(c,a),-1===b?!1:(c.splice(b,1),this._values.splice(b,1))},b.keys=function(){function a(){g=3}function b(){for(;;)switch(g){case 0:e=E(h._keys),f=e.length,++g;case 1:g=f--?2:3;break;case 2:return i=e[f],g=1,{done:!1,value:i};case 3:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function c(b){throw a(),b}function d(a){try{return b(a)}catch(d){c(d)}}var e,f,d,g,b,h,c,i;return h=this,g=0,{close:a,iterator:function(){return this},next:function(){return d(void 0)},send:d,"throw":function(a){return c(a),d(void 0)}}},b.values=function(){function a(){g=3}function b(){for(;;)switch(g){case 0:e=E(h._values),f=e.length,++g;case 1:g=f--?2:3;break;case 2:return i=e[f],g=1,{done:!1,value:i};case 3:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function c(b){throw a(),b}function d(a){try{return b(a)}catch(d){c(d)}}var e,f,d,g,b,h,c,i;return h=this,g=0,{close:a,iterator:function(){return this},next:function(){return d(void 0)},send:d,"throw":function(a){return c(a),d(void 0)}}},b.items=function(){function a(){f=3}function b(){for(;;)switch(f){case 0:j=g._values,e=E(g._keys),h=e.length,++f;case 1:f=h--?2:3;break;case 2:return i=e[h],f=1,{done:!1,value:[i,j[h]]};case 3:return{done:!0,value:void 0};default:throw Error("Unknown state: "+f)}}function c(b){throw a(),b}function d(a){try{return b(a)}catch(d){c(d)}}var e,d,f,b,g,c,h,i,j;return g=this,f=0,{close:a,iterator:function(){return this},next:function(){return d(void 0)},send:d,"throw":function(a){return c(a),d(void 0)}}},b.iterator=a.prototype.items,a}(),H=b("./jsast"),I=H.Node,U=b("./types"),G=b("./parser"),R=G.Node,P=G.MacroHolder,G=b("./utils"),J=G.Cache,O=G.isPrimordial,S=function(){function a(b,d,f,g,h,i,j){var k;return k=this instanceof a?this:t(c),null==b&&(b={}),k.options=b,k.macros=d,null==f&&(f=!1),k.bound=f,null==g&&(g={}),k.usedTmps=g,null==h&&(h={}),k.helperNames=h,null==j&&(j={}),k.tmps=j,k.variables=i?t(i):{},k.hasBound=!1,k.usedThis=!1,k.id=e(),k}function b(a,b){return s(a.toLowerCase(),b.toLowerCase())}var c,e;return c=a.prototype,a.displayName="Scope",e=function(){var a;return a=-1,function(){return++a}}(),c.maybeCache=function(a,b,c){var e,f;return null==b&&(b=U.any),d(a)?(e=this.reserveIdent(a.pos,"ref",b),f=c(H.Assign(a.pos,e,a),e,!0),this.releaseIdent(e),f):c(a,a,!1)},c.maybeCacheAccess=function(a,b,c,d,e){var f;return f=this,null==c&&(c="ref"),null==d&&(d="ref"),null==e&&(e=!1),a instanceof H.Binary&&"."===a.op?this.maybeCache(a.left,U.any,function(c,d,e){return f.maybeCache(a.right,U.any,function(f,g,h){return e||h?b(H.Access(a.pos,c,f),H.Access(a.pos,d,g),!0):b(a,a,!1)})}):b(a,a,!1)},c.reserveIdent=function(a,b,c){var d;return d=this,null==b&&(b="ref"),null==c&&(c=U.any),function(){var e,f,g;for(e=1;;++e)if(g=1===e?"_"+b:"_"+b+e,!(g in d.usedTmps))return d.usedTmps[g]=!0,f=H.Ident(a,g),d.addVariable(f,c),f}()},c.reserveParam=function(a){var b;return b=this,function(){var c,d;for(c=1;;++c)if(d=1===c?"_p":"_p"+c,!(d in b.usedTmps))return b.usedTmps[d]=!0,H.Ident(a,d)}()},c.getTmp=function(a,b,c,d){var e,f;return null==d&&(d=U.any),f=this.tmps,b in f&&(e=f[b],e instanceof H.Ident)?e:f[b]=this.reserveIdent(a,c||"tmp",d)},c.releaseTmp=function(a){var b,c;B.call(this.tmps,a)&&this.releaseIdent((b=(c=this.tmps)[a],delete c[a],b))},c.releaseTmps=function(){var a,b;a=this.tmps;for(b in a)B.call(a,b)&&this.releaseTmp(b);this.tmps={}},c.releaseIdent=function(a){if(!B.call(this.usedTmps,a.name))throw Error("Trying to release a non-reserved ident: "+a.name);delete this.usedTmps[a.name]},c.markAsParam=function(a){this.variables[a.name].isParam=!0},c.markAsFunction=function(a){this.variables[a.name].isFunction=!0},c.addHelper=function(a){this.helperNames[a]=!0},c.fillHelperDependencies=function(){var a,b,c,d,e,f,g;for(e=this.helperNames,g={};;){for(f in e)if(B.call(e,f)&&this.macros.hasHelper(f))for(a=E(this.macros.helperDependencies(f)),c=a.length;c--;)d=a[c],B.call(e,d)||(g[d]=!0);b=!0;for(f in g)B.call(g,f)&&(b=!1,this.addHelper(f));if(b)break;e=g,g={}}},c.getHelpers=function(){var a,c,d,e;a=[],c=this.helperNames;for(d in c)B.call(c,d)&&a.push(d);return e=a,e.sort(b)},c.hasHelper=function(a){return B.call(this.helperNames,a)},c.addVariable=function(a,b,c){null==b&&(b=U.any),null==c&&(c=!1),this.variables[a.name]={type:b,isMutable:c}},c.hasVariable=function(a){return a.name in this.variables&&"object"==typeof this.variables[a.name]&&null!==this.variables[a.name]},c.hasOwnVariable=function(a){return B.call(this.variables,a.name)},c.isVariableMutable=function(a){var b;return null!=(b=this.variables[a.name])?b.isMutable:void 0},c.removeVariable=function(a){delete this.variables[a.name]},c.getVariables=function(){var a,c,d,e,f;a=[],c=this.variables;for(d in c)B.call(c,d)&&(e=c[d],e.isParam||e.isFunction||a.push(d));return f=a,f.sort(b)},c.clone=function(b){return b&&(this.hasBound=!0),a(this.options,this.macros,b,t(this.usedTmps),this.helperNames,this.variables,t(this.tmps))},a}(),L=function(){function a(b){var d;return d=this instanceof a?this:t(c),d.builder=b,d.nodes=[],d}function b(b,c){if(c instanceof a)return H.Const(b,c.caseId());if(c instanceof H.Node)return c;throw TypeError("Expected a GeneratorState or Node, got "+F(c))}var c;return c=a.prototype,a.displayName="GeneratorState",c.hasGeneratorNode=function(a){return this.builder.hasGeneratorNode(a)},c.add=function(a){return this.nodes.push(a),this},c.branch=function(){var b,c;return c=a(this.builder),this.builder.currentCatch.length&&(b=this.builder.currentCatch)[b.length-1].push(c),this.builder.statesOrder.push(c),c},c.caseId=function(){return this.builder.caseId(this.getRedirect())},c.makeGoto=function(b,c,d){var e;return e=this,null==d&&(d=!1),function(){var f,g,h;if(h=c(),h instanceof a)g=H.Const(b,h.caseId());else{if(!(h instanceof H.Node))throw Error("Expected a GeneratorState or Node, got "+F(h));g=h}return g instanceof H.Const&&"number"==typeof g.value&&g.value===+e.caseId()+1?H.Unary(b,"++",e.builder.stateIdent):(f=H.Assign(b,e.builder.stateIdent,g),d?H.Block(b,[f,H.Break(b)]):f)}},c.yield=function(a,b){var c;return c=this.branch(),this.nodes.push(this.makeGoto(a,function(){return c},!1),function(){return H.Return(a,H.Obj(a,[H.Obj.Pair(a,"done",H.Const(a,!1)),H.Obj.Pair(a,"value",b())]))}),c},c["return"]=function(a,b){var c;c=this,null==b&&(b=null),null==b?this.goto(a,function(){return c.builder.stop}):(this.add(this.makeGoto(a,function(){return c.builder.stop},!1)),this.add(function(){var c;return c=b(),c instanceof H.Statement?c:H.Return(a,H.Obj(a,[H.Obj.Pair(a,"done",H.Const(a,!0)),H.Obj.Pair(a,"value",b())]))}))},c.returnOrAdd=function(a,b,c){return a?(this["return"](b,c),this):this.add(c)},c.getRedirect=function(){return this.builder.getRedirect(this)},c.goto=function(a,c,d){var e;null==d&&(d=!1),e=this.nodes,0!==e.length||d||this.builder.addRedirect(this,c),e.push(this.makeGoto(a,function(){return b(a,c())},!0))},c.noop=function(a){var b;return 0===this.nodes.length?this:(b=this.branch(),this.goto(a,function(){return b}),b)},c.gotoIf=function(a,c,d,e){var f;f=this,this.goto(a,function(){return H.IfExpression(a,c(),b(a,d()),b(a,e()))},!0)},c.pendingFinally=function(a,b){var c,d,e;return c=this,e=this.builder.scope,d=e.reserveIdent(a,"finally",U.undefined["function"]()),e.markAsFunction(d),this.builder.finallies.push(function(){return H.Func(a,d,[],[],b())}),this.nodes.push(function(){return H.Call(a,H.Access(a,c.builder.pendingFinalliesIdent,"push"),[d])}),this},c.runPendingFinally=function(a){var b;return b=this,this.nodes.push(function(){return H.Call(a,H.Call(a,H.Access(a,b.builder.pendingFinalliesIdent,"pop")))}),this},c.enterTryCatch=function(a){var b;return b=this.noop(a),this.builder.enterTryCatch(b),b},c.exitTryCatch=function(a,b,c){var d;return this.goto(a,c),d=this.noop(a),this.builder.exitTryCatch(d,b),d},a}(),K=function(){function a(b,d,e){var f,g;return f=this instanceof a?this:t(c),f.pos=b,f.scope=d,f.hasGeneratorNode=e,f.currentCatch=[],f.redirects=Q(),f.start=L(f),f.stop=L(f).add(function(){return H.Return(b,H.Obj(b,[H.Obj.Pair(b,"done",H.Const(b,!0)),H.Obj.Pair(b,"value",H.Const(b,void 0))]))}),f.statesOrder=[f.start],f.stateIdent="undefined"!=typeof stateIdent&&null!==stateIdent?stateIdent:d.reserveIdent(b,"state",U.number),f.pendingFinalliesIdent=d.reserveIdent(b,"finallies",U.undefined["function"]().array()),g=d.clone(!1),f.receivedIdent=g.reserveIdent(b,"received",U.any),g.markAsParam(f.receivedIdent),f.finallies=[],f.catches=[],f}function b(a){var b,c,d,e,f,g,h;for(g=[],h=-1/0,e=-1,b=E(a),c=0,f=b.length;f>c;++c)d=b[c],d!==e+1&&(-1!==e&&g.push({start:h,finish:e}),h=d),e=d;return-1!==e&&g.push({start:h,finish:e}),g}var c;return c=a.prototype,a.displayName="GeneratorBuilder",c.addRedirect=function(a,b){this.redirects.set(a,b)},c.getRedirect=function(a){var b,c;if(c=this.redirects.get(a),null==c)return a;if(c instanceof L)return c;if("function"==typeof c){if(b=c(),!(b instanceof L))throw Error("Expected a GeneratorState, got "+F(c));return b=this.getRedirect(b),this.redirects.set(a,b),b}throw Error("Unknown value in redirects: "+F(c))},c._calculateCaseIds=function(){var a,b,c,d,e,f;for(e=-1,d=this.caseIds=Q(),a=E(this.statesOrder),b=0,c=a.length;c>b;++b)f=a[b],this.redirects.has(f)||d.set(f,++e)},c.caseId=function(a){var b;if(b=this.caseIds,null==b)throw Error("_calculate-case-ids must be called first");if(!b.has(a))throw Error("case-ids does not contain state");return b.get(a)},c.enterTryCatch=function(a){this.currentCatch.push([a])},c.exitTryCatch=function(a,b){var c,d;if(0===this.currentCatch.length)throw Error("Unable to exit-try-catch without first using enter-try-catch");c=this.currentCatch.pop(),d=c.indexOf(a),-1!==d&&c.splice(d,1),this.catches.push({tryStates:c,tIdent:b,catchState:a})},c.create=function(){var a,c,d,e,f,g,h,i,j,k,l,m,n;if(a=this,this.currentCatch.length)throw Error("Cannot create a generator if there are stray catches");return this.statesOrder.push(this.stop),this._calculateCaseIds(),c=[H.Assign(this.pos,this.stateIdent,H.Const(this.pos,this.start.caseId()))],e=this.scope.reserveIdent(this.pos,"close",U.undefined["function"]()),this.scope.markAsFunction(e),0===this.finallies.length?(this.scope.removeVariable(this.pendingFinalliesIdent),c.push(H.Func(this.pos,e,[],[],H.Block(this.pos,[H.Assign(this.pos,this.stateIdent,this.stop.caseId())])))):(c.push(H.Assign(this.pos,this.pendingFinalliesIdent,H.Arr(this.pos))),c.push.apply(c,function(){var b,c,d,e,f;for(b=[],c=E(a.finallies),d=0,e=c.length;e>d;++d)f=c[d],b.push(f());return b}()),h=this.scope.clone(!1),g=h.reserveIdent(this.pos,"f",U.undefined["function"]().union(U.undefined)),c.push(H.Func(this.pos,e,[],h.getVariables(),H.Block(this.pos,[H.Assign(this.pos,this.stateIdent,this.stop.caseId()),H.Assign(this.pos,g,H.Call(this.pos,H.Access(this.pos,this.pendingFinalliesIdent,"pop"))),H.If(this.pos,g,H.TryFinally(this.pos,H.Call(this.pos,g),H.Call(this.pos,e)))])))),f=this.scope.reserveIdent(this.pos,"e",U.any),d=this.catches,l=this.stateIdent,m=this.scope.reserveIdent(this.pos,"step",U["function"]),i=this.scope.reserveIdent(this.pos,"send",U["function"]),n=this.scope.reserveIdent(this.pos,"throw",U["function"]),c.push(H.Func(this.pos,m,[this.receivedIdent],[],H.While(this.pos,!0,H.Switch(this.pos,l,function(){var b,c,d,e,f,g,h,i,j,k,l;for(b=[],c=E(a.statesOrder),f=0,h=c.length;h>f;++f)if(k=c[f],!a.redirects.has(k)){for(d=[],e=E(k.nodes),g=0,i=e.length;i>g;++g)l=e[g],d.push(l());if(j=d,0===j.length)throw Error("Found state with no nodes in it");b.push(H.Switch.Case(j[0].pos,H.Const(j[0].pos,k.caseId()),H.Block(j[0].pos,j)))}return b}(),H.Throw(this.pos,H.Call(this.pos,H.Ident(this.pos,"Error"),[H.Binary(this.pos,"Unknown state: ","+",l)])))))),c.push(H.Func(this.pos,n,[f],[],function(){var c,g,h,i;for(i=H.Block(a.pos,[H.Call(a.pos,e,[]),H.Throw(a.pos,f)]),c=E(d),h=c.length,g=function(a){var c,d,e,g,h,j,k,m,n;for(h=this,j=a.tIdent(),this.scope.addVariable(j),c=[],d=E(a.tryStates),e=0,g=d.length;g>e;++e)k=d[e],this.redirects.has(k)||c.push(k.caseId());return m=c,m.sort(u(2,function(a,b){return s(a,b)})),n=b(m),i=H.If(this.pos,H.Or.apply(H,[this.pos].concat(function(){var a,b,c,d,e,f,g;for(a=[],b=E(n),c=0,d=b.length;d>c;++c)e=b[c],g=e.start,f=e.finish,g===-1/0?0===f?a.push(H.Binary(h.pos,l,"===",H.Const(h.pos,0))):a.push(H.Binary(h.pos,l,"<=",H.Const(h.pos,f))):f===g?a.push(H.Binary(h.pos,l,"===",H.Const(h.pos,g))):f===+g+1?a.push(H.Or(h.pos,H.Binary(h.pos,l,"===",H.Const(h.pos,g)),H.Binary(h.pos,l,"===",H.Const(h.pos,f)))):a.push(H.And(h.pos,H.Binary(h.pos,l,">=",H.Const(h.pos,g)),H.Binary(h.pos,l,"<=",H.Const(h.pos,f))));return a}())),H.Block(this.pos,[H.Assign(this.pos,j,f),H.Assign(this.pos,l,H.Const(this.pos,a.catchState.caseId()))]),i)};h--;)g.call(a,c[h]);return i}())),j=H.TryCatch(this.pos,H.Return(this.pos,H.Call(this.pos,m,[this.receivedIdent])),f,H.Call(this.pos,n,[f])),k=0===this.finallies.length?j:H.TryFinally(this.pos,j,H.If(this.pos,H.Binary(this.pos,l,"===",this.stop.caseId()),H.Call(this.pos,e,[]))),c.push(H.Func(this.pos,i,[this.receivedIdent],[],d.length?H.While(this.pos,!0,k):k)),c.push(H.Return(this.pos,H.Obj(this.pos,[H.Obj.Pair(this.pos,"close",e),H.Obj.Pair(this.pos,"iterator",H.Func(this.pos,null,[],[],H.Return(this.pos,H.This(this.pos)))),H.Obj.Pair(this.pos,"next",H.Func(this.pos,null,[],[],H.Return(this.pos,H.Call(this.pos,i,[H.Const(this.pos,void 0)])))),H.Obj.Pair(this.pos,"send",i),H.Obj.Pair(this.pos,"throw",H.Func(this.pos,null,[f],[],H.Block(this.pos,[H.Call(this.pos,n,[f]),H.Return(this.pos,H.Call(this.pos,i,[H.Const(this.pos,void 0)]))])))]))),H.Block(this.pos,c)},a}(),N=function(){throw Error("get-pos must be overridden")},M=function(){function a(a){var b,c;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+F(a));return a.memoized?a:((b=function(){return a&&(c=a(),a=null),c}).memoized=!0,b)}function b(a){var b;return(b=function(){return a}).memoized=!0,b}function c(b,c,e,f,g){var h,i,j;return null==g&&(g=k),"function"==typeof b?(i=a(b),{state:e.add(function(){var a;return a=f(),H.Assign(a.pos,i(),a)}),tNode:i,cleanup:g}):b?(f=a(f),j=a(function(){return c.reserveIdent(f().pos,"tmp",U.any)}),h=a(function(){return f()===e.builder.receivedIdent||d(f())}),{state:e.add(function(){var a;return a=f(),h()?H.Assign(a.pos,j(),a):a}),tNode:function(){return h()?j():f()},cleanup:function(){return g(),h()?c.releaseIdent(j()):void 0}}):{state:e,tNode:f,cleanup:g}}function e(c,d,e,f,g){return null==f&&(f="tmp"),null==g&&(g=U.any),"function"==typeof c?a(c):b(d.reserveIdent(e,f,g))}function f(a,b,c){return"function"==typeof a?function(){var d,e;return e=a(),d=c(),e===d?b.releaseIdent(d):void 0}:function(){return b.releaseIdent(c())}}function g(a,b,c,d,g){var i,j,m,n,o,p;for(p=e(g,c,a,"arr",U.array),o=null,i=E(b),n=0,m=i.length,j=function(e,f){var g;return o||d.hasGeneratorNode(e)?(null==o&&(o=l(a,C.call(b,0,f),c,!0,!1),d=d.add(function(){return H.Assign(a,p(),o())})),e instanceof R.Spread?(g=h(e.node,c,d,!1),d=g.state.add(function(){var a;return a=p(),c.addHelper("__toArray"),H.Call(N(e),H.Access(N(e),a,H.Const(N(e),"push"),H.Const(N(e),"apply")),[a,H.Call(N(e),H.Ident(N(e),"__toArray"),[v(g.tNode(),g.cleanup())])])})):(g=h(e,c,d,!1),d=g.state.add(function(){return H.Call(N(e),H.Access(N(e),p(),H.Const(N(e),"push")),[v(g.tNode(),g.cleanup())])}))):void 0};m>n;++n)j.call(this,i[n],n);return null==o?{state:d,tNode:l(a,b,c,!0,!1),cleanup:k}:{state:d,tNode:p,cleanup:f(g,c,p)}}function h(a,b,d,e){var f;if(null==e&&(e=!1),f=a.constructor.cappedName,d.hasGeneratorNode(a)){if(B.call(i,f))return i[f](a,b,d,e);throw Error("Unknown expression type: "+F(a))}return c(e,b,d,m(a,b,"expression"))}var i,j;return i={Access:function(a,b,d,e){var f,g;return g=h(a.parent,b,d,!0),f=h(a.child,b,g.state,!1),c(e,b,f.state,function(){var b;return b=H.Access(N(a),g.tNode(),f.tNode()),g.cleanup(),f.cleanup(),b})},Array:function(a,b,c,d){return g(N(a),a.elements,b,c,d)},Assign:function(a,b,d,e){var f,g,i,j,l;return l=a.left,l instanceof R.Access?(i=h(l.parent,b,d,!0),f=h(l.child,b,i.state,!0),g={state:f.state,tNode:function(){return H.Access(N(l),i.tNode(),f.tNode())},cleanup:function(){return i.cleanup(),f.cleanup()}}):g={state:d,tNode:m(a.left,b,"leftExpression"),cleanup:k},j=h(a.right,b,g.state,g.tNode),c(e,b,j.state,j.tNode,function(){return g.cleanup(),j.cleanup()})},Binary:function(){var b;return b={"&&":function(b,c,d,e){var f,g,i,j,k;return f=h(b.left,c,d,e||!0),j=a(f.tNode),f.state.gotoIf(N(b),j,function(){return k},function(){return i}),k=f.state.branch(),g=h(b.right,c,k,j),g.state.goto(N(b),function(){return i}),i=f.state.branch(),{tNode:j,state:i,cleanup:function(){return f.cleanup(),g.cleanup()}}},"||":function(b,c,d,e){var f,g,i,j,k;return f=h(b.left,c,d,e||!0),j=a(f.tNode),f.state.gotoIf(N(b),j,function(){return i},function(){return k}),k=f.state.branch(),g=h(b.right,c,k,j),g.state.goto(N(b),function(){return i}),i=f.state.branch(),{tNode:j,state:i,cleanup:function(){return f.cleanup(),g.cleanup()}}}},function(a,d,e,f){var g,i;return B.call(b,a.op)?b[a.op](a,d,e,f):(g=h(a.left,d,e,!0),i=h(a.right,d,g.state,!1),c(f,d,i.state,function(){return H.Binary(N(a),g.tNode(),(g.cleanup(),a.op),v(i.tNode(),i.cleanup()))}))}}(),Block:function(a,b,c,d){var e,f,g,i,j;for(e=E(a.nodes),f=0,g=e.length;g>f;++f)if(j=e[f],i=h(j,b,c,f===g-1&&d),c=i.state,f===g-1)return i;throw Error("Unreachable state")},Call:function(a,b,d,e){var f,i,j,l,m,n,o,p;return a.func instanceof R.Access?(m=h(a.func.parent,b,d,!0),j=h(a.func.child,b,m.state,!0),l={tNode:function(){return H.Access(N(a),m.tNode(),j.tNode())},cleanup:function(){return m.cleanup(),j.cleanup()},state:j.state}):l=h(a.func,b,d,!0),o=a.isApply,p=a.isNew,f=a.args,!o||0!==f.length&&f[0]instanceof R.Spread?(i=g(N(a),f,b,l.state),c(e,b,i.state,function(){var c,d;return d=l.tNode(),c=i.tNode(),l.cleanup(),i.cleanup(),o?H.Call(N(a),H.Access(N(a),d,"apply"),[H.Access(N(a),c,H.Const(N(a),0)),H.Call(N(a),H.Access(N(a),c,H.Const(N(a),"slice")),[H.Const(N(a),1)])]):p?(b.addHelper("__new"),H.Call(N(a),H.Access(N(a),H.Ident(N(a),"__new"),H.Const(N(a),"apply")),[d,c])):c instanceof H.Arr?H.Call(N(a),H.Access(N(a),d,"call"),[d instanceof H.Binary&&"."===d.op?d.left:H.Const(N(a),void 0)].concat(E(c.elements))):H.Call(N(a),H.Access(N(a),d,"apply"),[d instanceof H.Binary&&"."===d.op?d.left:H.Const(N(a),void 0),c])})):(n=0===f.length?{state:l.state,tNode:function(){return H.Const(N(a),void 0)},cleanup:k}:h(f[0],b,l.state,!0),i=g(N(a),C.call(f,1),b,n.state),c(e,b,i.state,function(){var b,c,d;return c=l.tNode(),d=n.tNode(),b=i.tNode(),l.cleanup(),n.cleanup(),i.cleanup(),b instanceof H.Arr?H.Call(N(a),H.Access(N(a),c,"call"),[d].concat(E(b.elements))):H.Call(N(a),H.Access(N(a),c,"apply"),[d,b])}))},EmbedWrite:function(a,b,d,e){var f;return f=h(a.text,b,d,!1),c(e,b,f.state,function(){return H.Call(N(a),H.Ident(N(a),"write"),[f.tNode()].concat(a.escape?[H.Const(N(a),!0)]:[]))},f.cleanup)},Eval:function(a,b,d,e){var f;return f=h(a.code,b,d,!1),c(e,b,f.state,function(){return H.Eval(N(a),f.tNode(),f.cleanup)})},If:function(a,b,d,g){var i,j,k,l,n,o,p,q,r,s;return n=h(a.test,b,d,d.hasGeneratorNode(a.test)),d=n.state,d.hasGeneratorNode(a.whenTrue)||d.hasGeneratorNode(a.whenFalse)?(d.gotoIf(N(a),function(){var a;return a=n.tNode(),n.cleanup(),a},function(){return s},function(){return r}),o=e(g,b,N(a)),s=d.branch(),k=h(a.whenTrue,b,s,o),k.state.goto(N(a.whenTrue),function(){return l}),r=d.branch(),j=h(a.whenFalse,b,r,o),j.state.goto(N(a.whenFalse),function(){return l}),l=d.branch(),i=f(g,b,o),{state:l,tNode:o,cleanup:function(){return k.cleanup(),j.cleanup(),i()}}):(q=m(a.whenTrue,b,"expression"),p=m(a.whenFalse,b,"expression"),c(g,b,d,function(){return H.If(N(a),n.tNode(),(n.cleanup(),q()),p())}))},Regexp:function(a,b,d,e){var f;return f=h(a.source,b,d,!1),c(e,b,d,function(){var b;return b=f.tNode(),b.isConst()?H.Regex(N(a),String(b.constValue()),a.flags):H.Call(N(a),H.Ident(N(a),"RegExp"),[b,H.Const(N(a),flags)])},f.cleanup)},TmpWrapper:function(a,b,d,e){var f;return f=h(a.node,b,d,!1),c(e,b,f.state,f.tNode,function(){var c,d,e;for(f.cleanup(),c=E(a.tmps),d=c.length;d--;)e=c[d],b.releaseTmp(e)})},Unary:function(a,b,d,e){var f;return f=h(a.node,b,d,!1),c(e,b,f.state,function(){return H.Unary(N(a),a.op,v(f.tNode(),f.cleanup()))})},Yield:function(a,b,d,e){var f;return f=h(a.node,b,d,!1),d=f.state.yield(N(a),f.tNode),c(e,b,d,function(){return d.builder.receivedIdent},f.cleanup)}},j={Block:function(a,b,c,d,e,f){var g,h,i,j,k;if(null!=a.label)throw Error("Not implemented: block with label in generator");for(h=c,g=E(a.nodes),i=0,j=g.length;j>i;++i)k=g[i],h=M(k,b,h,d,e,f&&i===j-1);return h},Break:function(a,b,c,d){if(null!=a.label)throw Error("Not implemented: break with label in a generator");if(null==d)throw Error("break found outside of a loop or switch");return c.goto(N(a),d),c},Continue:function(a,b,c,d,e){if(null!=a.label)throw Error("Not implemented: break with label in a generator");if(null==e)throw Error("continue found outside of a loop");return c.goto(N(a),e),c},For:function(a,b,c){var d,e,f,g,i;if(null!=a.label)throw Error("Not implemented: for with label in generator");return null==a.init||a.init instanceof R.Nothing||(c=M(a.init,b,c)),c.goto(N(a),function(){return i}),i=c.branch(),e=h(a.test,b,i,c.hasGeneratorNode(a.test)),i.gotoIf(N(a.test),function(){var a;return a=e.tNode(),e.cleanup(),a},function(){return d},function(){return f}),d=c.branch(),M(a.body,b,d,function(){return f},function(){return g}).goto(N(a.body),function(){return g||i}),g=null,null==a.step||a.step instanceof R.Nothing||(g=c.branch(),M(a.step,b,g).goto(N(a.step),function(){return i})),f=c.branch()},ForIn:function(b,c,d){var e,f,g,i,j,k,l,n,o,p;if(null!=b.label)throw Error("Not implemented: for-in with label in generator");return p=m(b.key,c,"leftExpression"),g=h(b.object,c,d,!1),d=g.state,j=c.reserveIdent(N(b),"keys",U.string.array()),f=a(function(){var a;if(a=p(),!(a instanceof H.Ident))throw Error("Expected an Ident for a for-in key");return c.addVariable(a,U.string),a}),i=c.reserveIdent(N(b),"i",U.number),k=c.reserveIdent(N(b),"len",U.number),c.addHelper("__allkeys"),d=d.add(function(){return H.Block(N(b),[H.Assign(N(b),j,H.Call(N(b),H.Ident(N(b),"__allkeys"),[v(g.tNode(),g.cleanup())])),H.Assign(N(b),i,0),H.Assign(N(b),k,H.Access(N(b),j,"length"))])}),d.goto(N(b),function(){return o}),o=d.branch(),o.gotoIf(N(b),function(){return H.Binary(N(b),i,"<",k)},function(){return e},function(){return l}),e=o.branch(),d=e.add(function(){return H.Assign(N(b),f(),H.Access(N(b),j,i))}),M(b.body,c,d,function(){return l},function(){return n}).goto(N(b.body),function(){return n}),n=e.branch(),n.add(function(){return H.Unary(N(b),"++",i)}).goto(N(b),function(){return o}),l=n.branch()},If:function(a,b,c,d,e,f){var g,i,j,k,l,n;return i=h(a.test,b,c,c.hasGeneratorNode(a.test)),c=i.state,c.hasGeneratorNode(a.whenTrue)||c.hasGeneratorNode(a.whenFalse)?(c.gotoIf(N(a),function(){var a;return a=i.tNode(),i.cleanup(),a},function(){return n||g},function(){return l||g}),!a.whenTrue||a.whenTrue instanceof R.Nothing||(n=c.branch()),n&&M(a.whenTrue,b,n,d,e,f).goto(N(a.whenTrue),function(){return g}),!a.whenFalse||a.whenFalse instanceof R.Nothing||(l=c.branch()),l&&M(a.whenFalse,b,l,d,e,f).goto(N(a.whenFalse),function(){return g}),g=c.branch()):(k=m(a.whenTrue,b,"statement"),j=m(a.whenFalse,b,"statement"),c.returnOrAdd(f,N(a),function(){return H.If(N(a),i.tNode(),(i.cleanup(),k()),j())}))},Return:function(a,b,c){var d,e;return e=N(a),a.node.isConst()&&void 0===a.node.constValue()?(c["return"](N(a)),c):(d=h(a.node,b,c,!1),c=d.state,c["return"](N(a),function(){var a;return a=d.tNode(),d.cleanup(),a}),c)},Switch:function(a,b,c,d,e,f){var g,i,j,k,l,n,o,p,q,r,s;if(null!=a.label)throw Error("Not implemented: switch with label in generator");for(p=h(a.node,b,c,!1),k=[],s=[],p.state.add(function(){return H.Switch(N(a),p.tNode(),function(){var a,b,c,d;for(a=[],b=0,c=s.length;c>b;++b)d=s[b],a.push(d());return a}(),n())}),p.state.add(function(){return H.Break(N(a))}),g=E(a.cases),q=0,j=g.length,i=function(a,d){var g,h,i,j;
if(c.hasGeneratorNode(a.node))throw Error("Cannot use yield in the check of a switch's case");return i=m(a.node,b,"expression"),g=p.state.branch(),k[d]=g,h=M(a.body,b,g,function(){return r},e,f&&!a.fallthrough),h.goto(N(a.node),a.fallthrough?function(){return k[d+1]||r}:function(){return r}),j=g.makeGoto(N(a.node),function(){return g}),s.push(function(){return H.Switch.Case(N(a.node),i(),H.Block(N(a.node),[j(),H.Break(N(a.node))]))})};j>q;++q)i.call(this,g[q],q);return null!=a.defaultCase?(l=p.state.branch(),o=M(a.defaultCase,b,l,function(){return r},e,f),o.goto(N(a.defaultCase),function(){return r}),n=l.makeGoto(N(a.defaultCase),function(){return l})):n=p.state.makeGoto(N(a),function(){return r}),r=c.branch()},Throw:function(a,b,c){var d;return d=h(a.node,b,c,!1),d.state.add(function(){return H.Throw(N(a),v(d.tNode(),d.cleanup()))})},TmpWrapper:function(a,b,c,d,e,f){var g,h,i,j;for(i=M(a.node,b,c,d,e,f),g=E(a.tmps),h=g.length;h--;)j=g[h],b.releaseTmp(j);return i},TryCatch:function(a,b,c,d,e,f){var g;if(null!=a.label)throw Error("Not implemented: try-catch with label in generator");return c=c.enterTryCatch(N(a)),c=M(a.tryBody,b,c,d,e,f),c=c.exitTryCatch(N(a.tryBody),m(a.catchIdent,b,"leftExpression",!1),function(){return g}),c=M(a.catchBody,b,c,d,e,f),c.goto(N(a),function(){return g}),g=c.branch()},TryFinally:function(a,b,c,d,e,f){if(null!=a.label)throw Error("Not implemented: try-finally with label in generator");if(c.hasGeneratorNode(a.finallyBody))throw Error("Cannot use yield in a finally");return c=c.pendingFinally(N(a),m(a.finallyBody,b,"statement")),c=M(a.tryBody,b,c,d,e,f),c.runPendingFinally(N(a))},Yield:function(a,b,c,d,e,f){var g,i;return g=h(a.node,b,c,!1),i=g.state.yield(N(a),function(){var a;return a=g.tNode(),g.cleanup(),a}),f&&i["return"](N(a),function(){return c.builder.receivedIdent}),i}},function(a,b,c,d,e,f){var g,i;if(c.hasGeneratorNode(a)){if(g=a.constructor.cappedName,B.call(j,g)){if(i=j[g](a,b,c,d,e,f,f),!(i instanceof L))throw Error("Translated non-GeneratorState from "+F(a)+": "+F(i));return i}return i=h(a,b,c),i.state.returnOrAdd(f,N(a),function(){var a;return a=i.tNode(),i.cleanup(),a})}return c.returnOrAdd(f,N(a),m(a,b,"statement",!1))}}(),T={Access:function(a,b,c,d,e){var f,g;return g=m(a.parent,b,"expression",null,e),f=m(a.child,b,"expression",null,e),function(){return d(H.Access(N(a),g(),f()))}},Args:function(a,b,c,d){return function(){return d(H.Arguments(N(a)))}},Array:function(a,b,c,d,e){var f;return f=l(N(a),a.elements,b,!0,!1,e),function(){return d(f())}},Assign:function(a,b,c,d,e){var g,h,i;if(g=a.op,h=m(a.left,b,"leftExpression"),i=m(a.right,b,"expression",null,e),e&&a.left instanceof R.Ident){if("="===g&&e[a.left.name]&&a.right.isConst()&&void 0===a.right.constValue())return function(){return H.Noop(N(a))};e[a.left.name]=!1}return function(){var e,j,k;return j=h(),k=i(),"="===g&&"topStatement"===c&&j instanceof H.Ident&&k instanceof H.Func&&null==k.name&&b.hasOwnVariable(j)&&!b.isVariableMutable(j)?(b.markAsFunction(j),e=H.Func(N(a),j,k.params,k.variables,k.body,k.declarations),d!==f?H.Block(N(a),[e,d(j)]):e):d(H.Binary(N(a),j,g,k))}},Binary:function(a,b,c,d,e){var f,g;return f=m(a.left,b,"expression",null,e),g=m(a.right,b,"expression",null,e),function(){return d(H.Binary(N(a),f(),a.op,g()))}},Block:function(a,b,c,d,e){var f,g;return f=a.label&&m(a.label,b,"label"),g=n(a.nodes,b,c,d,e),function(){return H.Block(N(a),function(){var a,b,c,d,e;for(a=[],b=E(g),c=0,d=b.length;d>c;++c)e=b[c],a.push(e());return a}(),"function"==typeof f?f():void 0)}},Break:function(a,b){var c;return c=a.label&&m(a.label,b,"label"),function(){return H.Break(N(a),"function"==typeof c?c():void 0)}},Call:function(a,b,c,d,e){var f,g,h,i,j,k;return j=m(a.func,b,"expression",null,e),g=a.isApply,h=a.isNew,f=a.args,!g||0!==f.length&&f[0]instanceof R.Spread?(i=l(N(a),f,b,!1,!0,e),function(){var c,e,f,k;return k=j(),f=i(),g?b.maybeCache(f,U.array,(c=!1,function(e,f){if(c)throw Error("Attempted to call function more than once");return c=!0,b.addHelper("__slice"),d(H.Call(N(a),H.Access(N(a),k,"apply"),[H.Access(N(a),e,0),H.Call(N(a),H.Access(N(a),H.Ident(N(a),"__slice"),"call"),[f,H.Const(N(a),1)])]))})):f instanceof H.Arr?d(H.Call(N(a),k,f.elements,h)):h?(b.addHelper("__new"),d(H.Call(N(a),H.Access(N(a),H.Ident(N(a),"__new"),H.Const(N(a),"apply")),[k,f]))):k instanceof H.Binary&&"."===k.op?b.maybeCache(k.left,U["function"],(e=!1,function(b,c){if(e)throw Error("Attempted to call function more than once");return e=!0,d(H.Call(N(a),H.Access(N(a),b,k.right,"apply"),[c,f]))})):d(H.Call(N(a),H.Access(N(a),k,"apply"),[H.Const(N(a),void 0),f]))}):(k=0===f.length?function(){return H.Const(N(a),void 0)}:m(f[0],b,"expression",null,e),i=l(N(a),C.call(f,1),b,!1,!0,e),function(){var b,c,e;return c=j(),e=k(),b=i(),b instanceof H.Arr?d(H.Call(N(a),H.Access(N(a),c,"call"),[e].concat(E(b.elements)))):d(H.Call(N(a),H.Access(N(a),c,"apply"),[e,b]))})},Comment:function(a){return function(){return H.Comment(N(a),a.text)}},Const:function(a,b,c,d){return function(){return d(H.Const(N(a),a.value))}},Continue:function(a,b){var c;return c=a.label&&m(a.label,b,"label"),function(){return H.Continue(N(a),"function"==typeof c?c():void 0)}},Debugger:function(a){return function(){return H.Debugger(N(a))}},Def:function(){throw Error("Cannot have a stray def")},EmbedWrite:function(a,b,c,d,e){var f;return f=m(a.text,b,"expression",null,e),function(){return H.Call(N(a),H.Ident(N(a),"write"),[f()].concat(a.escape?[H.Const(N(a),!0)]:[]))}},Eval:function(a,b,c,d,e){var f;return f=m(a.code,b,"expression",null,e),function(){return d(H.Eval(N(a),f()))}},For:function(a,b,c,d,e){var f,g,h,i,j;return h=a.label&&m(a.label,b,"label"),null!=a.init&&(g=m(a.init,b,"expression",null,e)),null!=a.test&&(j=m(a.test,b,"expression")),null!=a.step&&(i=m(a.step,b,"expression")),f=m(a.body,b,"statement"),function(){return H.For(N(a),"function"==typeof g?g():void 0,"function"==typeof j?j():void 0,"function"==typeof i?i():void 0,f(),"function"==typeof h?h():void 0)}},ForIn:function(a,b,c,d,e){var f,g,h,i;return h=a.label&&m(a.label,b,"label"),g=m(a.key,b,"leftExpression"),i=m(a.object,b,"expression",null,e),f=m(a.body,b,"statement"),function(){var c;if(c=g(),!(c instanceof H.Ident))throw Error("Expected an Ident for a for-in key");return b.addVariable(c,U.string),H.ForIn(N(a),c,i(),f(),"function"==typeof h?h():void 0)}},Function:function(){function a(a){if(!B.call(f,a.constructor.cappedName))throw Error("Unknown type: "+String(a.constructor.cappedName));return f[a.constructor.cappedName](a)}function b(a,b,c){var e;if(e=a.constructor.cappedName,!B.call(d,e))throw Error("Unknown parameter type: "+e);return d[e](a,b,c)}var c,d,e,f;return c={Boolean:"boolean",String:"string",Number:"number",Function:"function"},f={Ident:function(a){return B.call(c,a.name)?U[c[a.name]]:U.any},Access:function(){return U.any},TypeUnion:function(a){var b,d,e,f,g;for(f=U.none,b=E(a.types),d=0,e=b.length;e>d;++d)if(g=b[d],g instanceof R.Const)if(null===g.value)f=f.union(U["null"]);else{if(void 0!==g.value)throw Error("Unknown const value for typechecking: "+String(g.value));f=f.union(U.undefined)}else{if(!(g instanceof R.Ident))throw Error("Not implemented: typechecking for non-idents/consts within a type-union");f=f.union(B.call(c,g.name)?U[c[g.name]]:U.any)}return f},TypeFunction:function(){return U["function"]},TypeGeneric:function(b){return"Array"===b.basetype.name?a(b.args[0]).array():"Function"===b.basetype.name?U["function"]:U.any},TypeObject:function(b){var c,d,e,f,g,h,i;for(h={},c=E(b.pairs),d=0,e=c.length;e>d;++d)f=c[d],g=f.key,i=f.value,g instanceof R.Const&&(h[g.value]=a(i));return U.makeObject(h)}},d={Param:function(b,c){var d,e,f,g;if(d=m(b.ident,c,"param")(),e=[],d instanceof H.Binary&&"."===d.op&&d.right instanceof H.Const&&"string"==typeof d.right.value&&(f=H.Ident(d.pos,d.right.value),e.push(H.Binary(d.pos,d,"=",f)),d=f),!(d instanceof H.Ident))throw Error("Expecting param to be an Ident, got "+F(d));return b.asType&&(g=a(b.asType)),c.addVariable(d,g,b.isMutable),c.markAsParam(d),{init:e,ident:d,spread:!!b.spread}}},e=function(){var a;return a={Ident:function(){var a;return a={String:U.string,Number:U.number,Boolean:U.boolean,Function:U["function"],Array:U.array},function(b){if(!B.call(a,b.name))throw Error("Not implemented: custom type "+b.name);return a[b.name]}}(),Const:function(a){switch(a.value){case null:return U["null"];case void 0:return U.undefined;default:throw Error("Unexpected const type: "+String(a.value))}},TypeGeneric:function(a,b){var c,d,f,g,h,i,j;for(j=e(a.basetype,b),c=[],d=E(a.args),f=0,g=d.length;g>f;++f)h=d[f],c.push(e(h,b));return i=c,U.generic.apply(U,[j].concat(E(i)))},TypeUnion:function(a){var b,c,d,f,g;for(f=U.none,b=E(a.types),c=0,d=b.length;d>c;++c)g=b[c],f=f.union(e(g));return f}},function(b,c){if(!B.call(a,b.constructor.cappedName))throw Error("Unknown type to translate: "+String(b.constructor.cappedName));return a[b.constructor.cappedName](b,c)}}(),function(a,c,d,e){return function(){var d,f,g,h,i,j,k,l,n,p,q,r,s,t;for(k=c.clone(!!a.bound),r=k,a.generator&&!k.bound&&(k=k.clone(!0)),q=[],j=[],d=E(a.params),i=0,l=d.length;l>i;++i){if(n=d[i],p=b(n,k,!1),p.spread)throw Error("Encountered a spread parameter");q.push(p.ident),j.push.apply(j,E(p.init))}if(s={},f=o(N(a),a.generator,a.autoReturn,k,a.body,s),g=f.body,t=f.wrap,k.releaseTmps(),g=H.Block(N(a.body),E(j).concat([g])),(k.usedThis||a.bound instanceof R)&&(a.bound instanceof R?(h=H.Ident(N(a.body),"_this"),k.addVariable(h),g=H.Block(N(a.body),[H.Assign(N(a.body),h,m(a.bound,c,"expression",null,s)()),g,H.Return(N(a.body),h)])):(k.bound&&(c.usedThis=!0),!k.hasBound&&!a.generator||r.bound||(h=H.Ident(N(a.body),"_this"),k.addVariable(h),g=H.Block(N(a.body),[H.Assign(N(a.body),h,H.This(N(a.body))),g])))),a.curry)throw Error("Expected node to already be curried");return e(t(H.Func(N(a),null,q,k.getVariables(),g,[])))}}}(),Ident:function(a,b,c,d){var e;return e=a.name,b.addHelper(e),function(){var f;return f=H.Ident(N(a),e),!b.options.embedded||O(e)||"expression"!==c||b.hasVariable(f)||b.macros.hasHelper(e)?d(f):H.Access(N(a),H.Ident(N(a),"context"),H.Const(N(a),e))}},If:function(a,b,c,d,e){var f,g,h,i,j;return f="statement"===c||"topStatement"===c?"statement":c,g=a.label&&m(a.label,b,"label"),h=m(a.test,b,"expression",null,e),j=m(a.whenTrue,b,f,d,e),null!=a.whenFalse&&(i=m(a.whenFalse,b,f,d,e)),function(){return H.If(N(a),h(),j(),"function"==typeof i?i():void 0,"function"==typeof g?g():void 0)}},Nothing:function(a){return function(){return H.Noop(N(a))}},Object:function(a,b,c,d,e){var f,g,h,i,j,k,l,n;for(k=[],n=[],j=[],f=E(a.pairs),g=0,h=f.length;h>g;++g)i=f[g],k.push(m(i.key,b,"expression",null,e)),n.push(m(i.value,b,"expression",null,e)),j.push(i.property);return null!=a.prototype&&(l=m(a.prototype,b,"expression",null,e)),function(){var c,e,f,g,h,i,m,o,p,q,r,s,t,u,v,w;for(e=[],q=[],"function"==typeof l&&(s=l()),g=null!=s?q:e,o=null,h=0,c=k.length;c>h;++h)u=k[h],v=n[h],m=u(),w=v(),r=j[h],m instanceof H.Const&&!r||(g=q),f=g[g.length-1],("get"===r||"set"===r)&&o&&r!==o&&m instanceof H.Const&&f.key instanceof H.Const&&m.value===f.key.value?(f[o]=f.value,f.property=""+o+r,delete f.value,f[r]=w,o=null):(g.push({key:m,value:w,property:r}),("get"===r||"set"===r)&&(o=r));return null!=s?(b.addHelper("__create"),p=H.Call(N(a),H.Ident(N(a),"__create"),[s])):p=H.Obj(N(a),function(){var a,b,c,d,f,g;for(a=[],b=0,c=e.length;c>b;++b)d=e[b],f=d.key,g=d.value,a.push(H.Obj.Pair(f.pos,String(f.value),g));return a}()),0===q.length?d(p):(i=b.reserveIdent(N(a),"o",U.object),t=H.BlockExpression(N(a),[H.Assign(N(a),i,p)].concat(function(){var a,c,d,e,f,g;for(a=[],c=0,d=q.length;d>c;++c)f=q[c],e=f.key,g=f.property,g?(b.addHelper("__defProp"),a.push(H.Call(e.pos,H.Ident(e.pos,"__defProp"),[i,e,"property"===g?f.value:"getset"===g?H.Obj(f.get.pos,[H.Obj.Pair(f.get.pos,"get",f.get),H.Obj.Pair(f.set.pos,"set",f.set),H.Obj.Pair(f.set.pos,"configurable",H.Const(f.set.pos,!0)),H.Obj.Pair(f.set.pos,"enumerable",H.Const(f.set.pos,!0))]):"setget"===g?H.Obj(f.set.pos,[H.Obj.Pair(f.set.pos,"set",f.set),H.Obj.Pair(f.get.pos,"get",f.get),H.Obj.Pair(f.get.pos,"configurable",H.Const(f.get.pos,!0)),H.Obj.Pair(f.get.pos,"enumerable",H.Const(f.get.pos,!0))]):"get"===g?H.Obj(f.value.pos,[H.Obj.Pair(f.value.pos,"get",f.value),H.Obj.Pair(f.value.pos,"configurable",H.Const(f.value.pos,!0)),H.Obj.Pair(f.value.pos,"enumerable",H.Const(f.value.pos,!0))]):"set"===g?H.Obj(f.value.pos,[H.Obj.Pair(f.value.pos,"set",f.value),H.Obj.Pair(f.value.pos,"configurable",H.Const(f.value.pos,!0)),H.Obj.Pair(f.value.pos,"enumerable",H.Const(f.value.pos,!0))]):D(Error("Unknown property type: "+String(g)))]))):a.push(H.Assign(e.pos,H.Access(e.pos,i,e),f.value));return a}(),[i])),b.releaseIdent(i),d(t))}},Regexp:function(a,b,c,d,e){var f;return f=m(a.source,b,"expression",null,e),function(){var b,c;return c=f(),b=a.flags,c.isConst()?d(H.Regex(N(a),String(c.constValue()),b)):d(H.Call(N(a),H.Ident(N(a),"RegExp"),[c,H.Const(N(a),b)]))}},Return:function(a,b,c,d,e){var f;if("statement"!==c&&"topStatement"!==c)throw Error("Expected Return in statement position");return f=m(a.node,b,"expression",null,e),function(){return H.Return(N(a),f())}},Switch:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o;for(n=a.label&&m(a.label,b,"label"),o=m(a.node,b,"expression",null,e),f=[],g=E(a.cases),h=0,i=g.length;i>h;++h)j=g[h],f.push({pos:N(j.node),tNode:m(j.node,b,"expression",null,e),tBody:m(j.body,b,"statement",null,e),fallthrough:j.fallthrough});return k=f,null!=a.defaultCase&&(l=m(a.defaultCase,b,"statement",null,e)),function(){return H.Switch(N(a),o(),function(){var a,b,c,e,f,g;for(a=[],f=0,g=k.length;g>f;++f)b=k[f],e=b.tNode(),c=b.tBody(),(!b.fallthrough||f===g-1&&defaultCase.isNoop())&&(c=H.Block(b.pos,[d(c),H.Break(c.pos)])),a.push(H.Switch.Case(b.pos,e,c));return a}(),null!=l?d(l()):H.Noop(N(a)),"function"==typeof n?n():void 0)}},Super:function(){throw Error("Cannot have a stray super call")},Tmp:function(a,b,c,d){var e;return e=b.getTmp(N(a),a.id,a.name,a.type()),function(){return d(e)}},TmpWrapper:function(a,b,c,d,e){var f,g,h,i;for(i=m(a.node,b,c,d,e),f=E(a.tmps),g=f.length;g--;)h=f[g],b.releaseTmp(h);return i},This:function(a,b,c,d){return function(){return b.usedThis=!0,d(b.bound?H.Ident(N(a),"_this"):H.This(N(a)))}},Throw:function(a,b,c,d,e){var f;return f=m(a.node,b,"expression",null,e),function(){return H.Throw(N(a),f())}},TryCatch:function(a,b,c,d,e){var f,g,h,i,j;return i=a.label&&m(a.label,b,"label"),j=m(a.tryBody,b,"statement",d,e),f=b.clone(!1),h=m(a.catchIdent,f,"leftExpression"),g=m(a.catchBody,f,"statement",d,e),function(){var c,d;return c=h(),c instanceof H.Ident&&(f.addVariable(c),f.markAsParam(c)),d=H.TryCatch(N(a),j(),c,g(),"function"==typeof i?i():void 0),w(b.variables,f.variables),d}},TryFinally:function(a,b,c,d,e){var f,g,h;return g=a.label&&m(a.label,b,"label"),h=m(a.tryBody,b,"statement",d,e),f=m(a.finallyBody,b,"statement",null,e),function(){return H.TryFinally(N(a),h(),f(),"function"==typeof g?g():void 0)}},Unary:function(a,b,c,d,e){var f,g;return e&&("++"===(f=a.op)||"--"===f||"++post"===f||"--post"===f)&&a.node instanceof R.Ident&&(e[a.node.name]=!1),g=m(a.node,b,"expression",null,e),function(){return d(H.Unary(N(a),a.op,g()))}},Var:function(a,b,c,d,e){var f;return e&&a.ident instanceof R.Ident&&!B.call(e,a.ident.name)&&(e[a.ident.name]=!0),f=m(a.ident,b,"leftExpression",d),function(){var c;return c=f(),b.addVariable(c,U.any,a.isMutable),H.Noop(N(a))}}},a.exports=function(a,b,c,d){var e,f,g,h;null==d&&(d={}),h=(new Date).getTime();try{g=S(d,b,!1),f=q(a,g,c),g.releaseTmps()}catch(i){if("undefined"!=typeof callback&&null!==callback)return callback(i);throw i}return e=(new Date).getTime(),"function"==typeof d.progress&&d.progress("translate",e-h),{node:f,time:e-h}},a.exports.defineHelper=function(a,b,c,d,e,f){var g,h,i;if(i=S({},a,!1),N=p(b),"string"==typeof c)h=H.Ident(j(0,0),c);else{if(!(c instanceof R.Ident))throw TypeError("Expecting name to be a String or Ident, got "+F(c));h=m(c,i,"leftExpression")()}if(!(h instanceof H.Ident))throw Error("Expected name to be an Ident, got "+F(h));if(d instanceof I)g=d;else{if(!(d instanceof R))throw TypeError("Expected value to be a parser or ast Node, got "+F(d));g=m(d,i,"expression")()}return null==f&&(f=i.getHelpers()),a.addHelper(h.name,g,e,f),N=null,{helper:g,dependencies:f}}}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b["./gorilla"]=function(){var a={exports:this},c=this;return function(a){"use strict";function d(a){var b,c,d,e,f;for(e={parseTime:0,macroExpandTime:0,reduceTime:0,macros:a[0].macros,result:[]},b=s(a),c=0,d=b.length;d>c;++c)f=b[c],e.parseTime+=m(f.parseTime),e.macroExpandTime+=m(f.macroExpandTime),e.reduceTime+=m(f.reduceTime),e.result.push(f.result);return e}function e(c,d){var e,f,g,h,i,j,k,l,m,o,p,q,s;if("function"==typeof b&&null!=(i=b("vm"))&&(q=i.Script),q){if(p=q.createContext(),p.global=p.root=p.GLOBAL=p,null!=d.sandbox)if(d.sandbox instanceof p.constructor)p=d.sandbox;else{h=d.sandbox;for(l in h)n.call(h,l)&&(s=h[l],p[l]=s)}else for(l in a)n.call(a,l)&&(s=a[l],p[l]=s);if(p.__filename=d.filename||"eval",p.__dirname=B.dirname(p.__filename),!p.module&&!p.require)for(m=b("module"),g=p.module=new m(d.modulename||"eval"),j=p.require=function(a){return m._load(a,g)},g.filename=p.__filename,e=Object.getOwnPropertyNames(b),f=e.length;f--;){o=e[f];try{j[o]=b[o]}catch(t){}}if(d.includeGlobals)for(l in a)!n.call(a,l)||l in p||(p[l]=a[l]);return q.runInContext(c,p)}return k=Function("return "+r(c)),k()}var f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;f=function(){function a(){function b(a,b){var f;c&&(f=c,c=null,d=a,e=b,f.length&&D(function(){var a,b;for(b=0,a=f.length;a>b;++b)f[b]()}))}var c,d,e;return d=!1,e=null,c=[],{promise:{then:function(b,f,g){function h(){var a,c;try{a=d?f:b,"function"==typeof a?(c=a(e),c&&"function"==typeof c.then?c.then(j,l,g):j(c)):(d?l:j)(e)}catch(h){l(h)}}var i,j,k,l;return g!==!0&&(g=void 0),i=a(),k=i.promise,j=i.fulfill,l=i.reject,c?c.push(h):g?h():D(h),k},sync:function(){var a,b;switch(b=0,a=0,this.then(function(c){return b=1,a=c},function(c){return b=2,a=c},!0),b){case 0:throw Error("Promise did not execute synchronously");case 1:return a;case 2:throw a;default:throw Error("Unknown state")}}},fulfill:function(a){b(!1,a)},reject:function(a){b(!0,a)}}}return a.fulfilled=function(b){var c;return c=a(),c.fulfill(b),c.promise},a.rejected=function(b){var c;return c=a(),c.reject(b),c.promise},a}(),g=function(a){function b(a,b){return b.then(function(b){i[a]=b,0===--h&&c.fulfill(i)},c.reject)}var c,d,e,g,h,i,j;if("object"!=typeof a||null===a)throw TypeError("Expected promises to be an Object, got "+u(a));if(e=k(a),c=f(),i=e?[]:{},h=0,e)for(d=a.length,h=d;d--;)b(d,a[d]);else for(g in a)n.call(a,g)&&(j=a[g],++h,b(g,j));return c.promise},h=function(a,b){function c(c,g){var h;try{h=a[c](g)}catch(i){return f.rejected(i)}return h.done?f.fulfilled(h.value):h.value.then(d,e,b)}function d(a){return c("send",a)}function e(a){return c("throw",a)}if("object"!=typeof a||null===a)throw TypeError("Expected generator to be an Object, got "+u(a));if("function"!=typeof a.send)throw TypeError("Expected generator.send to be a Function, got "+u(a.send));if("function"!=typeof a["throw"])throw TypeError("Expected generator.throw to be a Function, got "+u(a["throw"]));if(null==b)b=!1;else if("boolean"!=typeof b)throw TypeError("Expected allowSync to be a Boolean, got "+u(b));return d(void 0)},j=function(a,b){var c;for(c in b)n.call(b,c)&&(a[c]=b[c]);return a},k="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),l=function(a,b){var c;if(c=typeof a,"number"!==c&&"string"!==c)throw TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>=a},m=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+u(a));return a},n=Object.prototype.hasOwnProperty,o=function(a,b){var c;if(null==b)b=!1;else if("boolean"!=typeof b)throw TypeError("Expected allowSync to be a Boolean, got "+u(b));return"function"==typeof a?(c=function(){return h(a.apply(this,arguments))},c.sync=function(){return h(a.apply(this,arguments),!0).sync()},c):h(a,b)},p=function(a,b,c){function d(a){return++k,c(a).then(function(b){return j[a]=b,--k,e()},function(a){return h=!0,g.reject(a)})}function e(){for(;!h&&a>k&&b>i;++i)d(i);return!h&&i>=b&&0===k?(h=!0,g.fulfill(j)):void 0}var g,h,i,j,k;if("number"!=typeof a)throw TypeError("Expected limit to be a Number, got "+u(a));if("number"!=typeof b)throw TypeError("Expected length to be a Number, got "+u(b));if("function"!=typeof c)throw TypeError("Expected body to be a Function, got "+u(c));return(1>a||a!==a)&&(a=1/0),j=[],h=!1,k=0,g=f(),i=0,D(e),g.promise},q=Array.prototype.slice,r=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw TypeError("Expected a string or number, got "+u(a))},s=function(a){if(null==a)throw TypeError("Expected an object, got "+u(a));if(k(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return q.call(a);throw TypeError("Expected an object with a length property, got "+u(a))},t=function(a,b,c){var d;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+u(a));return d=f(),a.apply(b,s(c).concat([function(a,b){null!=a?d.reject(a):d.fulfill(b)}])),d.promise},u=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),D="function"==typeof a.setImmediate?a.setImmediate:"undefined"!=typeof process&&"function"==typeof process.nextTick?function(){var a;return a=process.nextTick,function(b){var c;if("function"!=typeof b)throw TypeError("Expected func to be a Function, got "+u(b));return c=q.call(arguments,1),c.length?a(function(){b.apply(void 0,s(c))}):a(b)}}():function(a){var b;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+u(a));return b=q.call(arguments,1),b.length?setTimeout(function(){a.apply(void 0,s(b))},0):setTimeout(a,0)},A=b("./parser"),z=b("os"),x=b("fs"),B=b("path"),E=b("./source-map"),v=b("./utils"),F=v.writeFileWithMkdirp,G=v.writeFileWithMkdirpSync,c.version="0.8.2",c.ParserError=A.ParserError,c.MacroError=A.MacroError,b.extensions?b.extensions[".gs"]=function(a,b){var d;return d=c.compileSync(x.readFileSync(b,"utf8"),{filename:b}),a._compile(d.code,b)}:b.registerExtension&&b.registerExtension(".gs",function(a){return c.compileSync(a,{filename:filename})}),"undefined"!=typeof __filename&&null!==__filename&&(C=x.realpathSync(__filename)),w=function(){function a(a,b){var c,d;if("string"!=typeof a)throw TypeError("Expected lang to be a String, got "+u(a));if(null==b)b=!1;else if("boolean"!=typeof b)throw TypeError("Expected sync to be a Boolean, got "+u(b));return n.call(e,a)&&(d=e[a]),null!=d?b?d:f.fulfilled(d):b?h.sync(a,!0):null==(c=g[a])?g[a]=h(a):c}var b,d,e,g,h;return e={},null!=C&&(d=function(a){return B.join(B.dirname(C),"../src/"+r(a)+"prelude.gs")}),null!=z&&(b=function(a){return B.join(z.tmpDir(),"gs-"+r(a)+"prelude-"+r(c.version)+".cache")}),g={},h=o(function(a,c){function f(){k=30}function h(f){for(;;)switch(k){case 0:if("string"!=typeof a)throw TypeError("Expected lang to be a String, got "+u(a));v=d(a),k=c?1:2;break;case 1:w=x.statSync(v),k=4;break;case 2:return++k,{done:!1,value:t(x.stat,x,[v])};case 3:w=f,++k;case 4:r=b(a),s=void 0,++k;case 5:k=c?6:7;break;case 6:s=x.statSync(r),k=10;break;case 7:return++k,{done:!1,value:t(x.stat,x,[r])};case 8:s=f,k=10;break;case 9:if("ENOENT"!==h.code)throw h;++k;case 10:p=void 0,k=s&&l(w.mtime.getTime(),s.mtime.getTime())?11:19;break;case 11:k=c?12:13;break;case 12:m=x.readFileSync(r,"utf8"),k=15;break;case 13:return++k,{done:!1,value:t(x.readFile,x,[r,"utf8"])};case 14:m=f,++k;case 15:o=!1;try{p=e[a]=A.deserializePrelude(m)}catch(h){if(h instanceof ReferenceError)throw h;console.error("Error deserializing prelude, reloading. "+String(h)),o=!0}k=o?16:19;break;case 16:k=c?17:18;break;case 17:x.unlinkSync(r),k=19;break;case 18:return++k,{done:!1,value:t(x.unlink,x,[r])};case 19:k=null==p?20:29;break;case 20:k=c?21:22;break;case 21:q=x.readFileSync(v,"utf8"),k=24;break;case 22:return++k,{done:!1,value:t(x.readFile,x,[v,"utf8"])};case 23:q=f,++k;case 24:k=c?25:26;break;case 25:p=e[a]=A.sync(q,null,{serializeMacros:!0,sync:!0}),k=28;break;case 26:return++k,{done:!1,value:A(q,null,{serializeMacros:!0})};case 27:e[a]=f,p=e[a],++k;case 28:F(r,p.macros.serialize(),"utf8"),++k;case 29:return delete g[a],++k,{done:!0,value:p};case 30:return{done:!0,value:void 0};default:throw Error("Unknown state: "+k)}}function i(a){if(!(k>=5&&8>=k))throw f(),a;n=a,k=9}function j(a){for(;;)try{return h(a)}catch(b){i(b)}}var j,k,h,i,m,n,o,p,q,r,s,v,w;return k=0,{close:f,iterator:function(){return this},next:function(){return j(void 0)},send:j,"throw":function(a){return i(a),j(void 0)}}}),a.serialized=o(function(c){function d(){h=3}function e(d){for(;;)switch(h){case 0:if("string"!=typeof c)throw TypeError("Expected lang to be a String, got "+u(c));return++h,{done:!1,value:a(c)};case 1:return++h,{done:!1,value:t(x.readFile,x,[b(c),"utf8"])};case 2:return++h,{done:!0,value:d};case 3:return{done:!0,value:void 0};default:throw Error("Unknown state: "+h)}}function f(a){throw d(),a}function g(a){try{return e(a)}catch(b){f(b)}}var g,h,e,f;return h=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),c.withPrelude=function(a,b){if("string"!=typeof a)throw TypeError("Expected lang to be a String, got "+u(a));if("object"!=typeof b||null===b)throw TypeError("Expected serializedPrelude to be an Object, got "+u(b));return e[a]=A.deserializePrelude(b),this},a}(),c.getSerializedPrelude=w.serialized,c.parse=o(function(a,b){function c(){g=12}function d(c){for(;;)switch(g){case 0:null==b&&(b={}),k=b.sync,g=b.macros?1:2;break;case 1:i=b.macros,g=8;break;case 2:g=b.noPrelude?3:4;break;case 3:i=null,g=8;break;case 4:g=k?5:6;break;case 5:i=w(b.lang||"js",!0).macros,g=8;break;case 6:return++g,{done:!1,value:w(b.lang||"js")};case 7:h=c,i=h.macros,++g;case 8:j={filename:b.filename,noindent:!!b.noindent,sync:!!b.sync,progress:b.progress},b.embedded&&(j.embedded=!!b.embedded,j.embeddedUnpretty=!!b.embeddedUnpretty,j.embeddedGenerator=!!b.embeddedGenerator,j.embeddedOpen=b.embeddedOpen,j.embeddedClose=b.embeddedClose,j.embeddedOpenWrite=b.embeddedOpenWrite,j.embeddedCloseWrite=b.embeddedCloseWrite,j.embeddedOpenComment=b.embeddedOpenComment,j.embeddedCloseComment=b.embeddedCloseComment),g=k?9:10;break;case 9:return g=12,{done:!0,value:A.sync(a,i,j)};case 10:return++g,{done:!1,value:A(a,i,j)};case 11:return++g,{done:!0,value:c};case 12:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function e(a){throw c(),a}function f(a){try{return d(a)}catch(b){e(b)}}var f,g,d,e,h,i,j,k;return g=0,{close:c,iterator:function(){return this},next:function(){return f(void 0)},send:f,"throw":function(a){return e(a),f(void 0)}}}),c.parseSync=function(a,b){var d;return null==b&&(b={}),c.parse.sync(a,((d=j({},b)).sync=!0,d))},c.getReservedWords=function(a){return null==a&&(a={}),a.noPrelude?A.getReservedWords(null,a):A.getReservedWords(w(a.lang||"js",!0).macros,a)},c.ast=o(function(a,e){function f(){q=15}function g(f){for(;;)switch(q){case 0:null==e&&(e={}),z=(new Date).getTime(),A=e.sync,C="function"==typeof e.translator?e.translator:b("string"==typeof e.translator?e.translator:"./jstranslator"),q=k(a)?1:10;break;case 1:t=[],w=e.progress,y={parse:0,macroExpand:0,reduce:0},"function"==typeof w&&(e.progress=function(a,b){return y[a]=m(y[a])+m(b)}),l=s(a),o=0,p=l.length,++q;case 2:q=p>o?3:9;break;case 3:u=l[o],k(e.filenames)&&(e.filename=e.filenames[i]),n=[],q=A?4:5;break;case 4:r=c.parseSync(u,e),q=7;break;case 5:return++q,{done:!1,value:c.parse(u,e)};case 6:r=f,++q;case 7:n.push(r),t.push.apply(t,n),++q;case 8:++o,q=2;break;case 9:if(e.progress=w,"function"==typeof w)for(l=["parse","macroExpand","reduce"],o=0,p=l.length;p>o;++o)v=l[o],e.progress(v,y[v]);x=d(t),q=14;break;case 10:q=A?11:12;break;case 11:x=c.parseSync(a,e),q=14;break;case 12:return++q,{done:!1,value:c.parse(a,e)};case 13:x=f,++q;case 14:return B=C(x.result,x.macros,x.getPosition,e),++q,{done:!0,value:{node:B.node,parseTime:x.parseTime,macroExpandTime:x.macroExpandTime,reduceTime:x.reduceTime,translateTime:B.time,time:m((new Date).getTime())-m(z)}};case 15:return{done:!0,value:void 0};default:throw Error("Unknown state: "+q)}}function h(a){throw f(),a}function j(a){try{return g(a)}catch(b){h(b)}}var l,n,o,p,j,q,g,h,r,t,u,v,w,x,y,z,A,B,C;return q=0,{close:f,iterator:function(){return this},next:function(){return j(void 0)},send:j,"throw":function(a){return h(a),j(void 0)}}}),c.astSync=function(a,b){var d;return null==b&&(b={}),c.ast.sync(a,((d=j({},b)).sync=!0,d))},c.compile=o(function(a,b){function d(){h=5}function e(d){for(;;)switch(h){case 0:null==b&&(b={}),k=b.sync,j=(new Date).getTime(),h=k?1:2;break;case 1:l=c.astSync(a,b),h=4;break;case 2:return++h,{done:!1,value:c.ast(a,b)};case 3:l=d,++h;case 4:return i=l.node.compile(b),++h,{done:!0,value:{parseTime:l.parseTime,macroExpandTime:l.macroExpandTime,reduceTime:l.reduceTime,translateTime:l.translateTime,compileTime:i.compileTime,uglifyTime:i.uglifyTime,time:m((new Date).getTime())-m(j),code:i.code}};case 5:return{done:!0,value:void 0};default:throw Error("Unknown state: "+h)}}function f(a){throw d(),a}function g(a){try{return e(a)}catch(b){f(b)}}var g,h,e,f,i,j,k,l;return h=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),c.compileSync=function(a,b){var d;return null==b&&(b={}),c.compile.sync(a,((d=j({},b)).sync=!0,d))},c.compileFile=o(function(a){function d(){v=20}function e(d){for(;;)switch(v){case 0:if(null==a&&(a={}),a=j({},a),R=a.sync,D=a.input,"string"==typeof D)D=[D];else{if(!k(D))throw Error("Expected options.input to be a string or array of strings");if(0===D.length)throw Error("Expected options.input to not be empty")}if(K=a.output,"string"!=typeof K)throw Error("Expected options.output to be a string, got "+u(K));if(O=void 0,a.sourceMap)if("string"==typeof a.sourceMap)O=a.sourceMap,a.sourceMap=E(a.output,"");else{if("string"!=typeof a.sourceMap.file)throw Error("Expected options.sourceMap.file to be a string, got "+u(a.sourceMap.file));if("string"!=typeof a.sourceMap.sourceRoot)throw Error("Expected options.sourceMap.sourceRoot to be a string, got "+u(a.sourceMap.sourceRoot));O=a.sourceMap.file,a.sourceMap=E(a.output,a.sourceMap.sourceRoot)}else a.sourceMap=null;P=[],v=R?1:2;break;case 1:for(i=s(D),n=0,q=i.length;q>n;++n)C=i[n],P.push(x.readFileSync(C,"utf8"));v=4;break;case 2:return++v,{done:!1,value:p(5,m(D.length),o(function(a){function b(){f=2}function c(b){for(;;)switch(f){case 0:return g=D[a],++f,{done:!1,value:t(x.readFile,x,[g,"utf8"])};case 1:return++f,{done:!0,value:b};case 2:return{done:!0,value:void 0};default:throw Error("Unknown state: "+f)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var e,f,c,d,g;return f=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}))};case 3:P=d,++v;case 4:J=P.length>0&&a.progress,M={parse:0,macroExpand:0,reduce:0},"function"==typeof J&&(a.progress=function(a,b){return M[a]=m(M[a])+m(b)}),i=[],A=0,q=P.length,++v;case 5:v=q>A?6:11;break;case 6:N=P[A],Q=Date.now(),a.filename=D[A],v=R?7:8;break;case 7:i.push(c.parseSync(N,a)),v=10;break;case 8:return l=[],++v,{done:!1,value:c.parse(N,a)};case 9:l.push(d),i.push.apply(i,l),++v;case 10:++A,v=5;break;case 11:if(L=i,"function"==typeof J)for(a.progress=J,i=["parse","macroExpand","reduce"],n=0,q=i.length;q>n;++n)I=i[n],a.progress(I,M[I]);
a.filenames=D,T=b("./jstranslator"),S=T(function(){var a,b,c,d;for(a=[],b=0,c=L.length;c>b;++b)d=L[b],a.push(d.result);return a}(),L[0].macros,function(){var a,b,c,d;for(a=[],b=0,c=L.length;c>b;++b)d=L[b],a.push(d.getPosition);return a}(),a),y=S.node.compile(a),v=R?13:12;break;case 12:return++v,{done:!1,value:f.fulfilled()};case 13:w=y.code,O&&(H=a.linefeed||"\n",z=r(H)+"/*"+r(H)+"//@ sourceMappingURL="+r(B.relative(B.dirname(a.output),O))+r(H)+"*/"+r(H),w=r(w)+z),v=R?14:15;break;case 14:G(a.output,w,a.encoding||"utf8"),v=16;break;case 15:return++v,{done:!1,value:F(a.output,w,a.encoding||"utf8")};case 16:v=O?17:20;break;case 17:v=R?18:19;break;case 18:G(O,a.sourceMap.toString(),"utf8"),v=20;break;case 19:return++v,{done:!1,value:F(O,a.sourceMap.toString(),"utf8")};case 20:return{done:!0,value:void 0};default:throw Error("Unknown state: "+v)}}function g(a){throw d(),a}function h(a){try{return e(a)}catch(b){g(b)}}var i,l,n,q,h,v,e,g,w,y,z,A,C,D,H,I,J,K,L,M,N,O,P,Q,R,S,T;return v=0,{close:d,iterator:function(){return this},next:function(){return h(void 0)},send:h,"throw":function(a){return g(a),h(void 0)}}}),c.compileFileSync=function(a){var b;return null==a&&(a={}),c.compileFile.sync(((b=j({},a)).sync=!0,b))},c.eval=o(function(a,b){function d(){i=5}function f(d){for(;;)switch(i){case 0:null==b&&(b={}),n=b.sync,b.eval=!0,b["return"]=!1,i=n?1:2;break;case 1:j=c.compileSync(a,b),i=4;break;case 2:return++i,{done:!1,value:c.compile(a,b)};case 3:j=d,++i;case 4:return l=(new Date).getTime(),k=e(j.code,b),"function"==typeof b.progress&&b.progress("eval",m((new Date).getTime())-m(l)),++i,{done:!0,value:k};case 5:return{done:!0,value:void 0};default:throw Error("Unknown state: "+i)}}function g(a){throw d(),a}function h(a){try{return f(a)}catch(b){g(b)}}var h,i,f,g,j,k,l,n;return i=0,{close:d,iterator:function(){return this},next:function(){return h(void 0)},send:h,"throw":function(a){return g(a),h(void 0)}}}),c.evalSync=function(a,b){var d;return null==b&&(b={}),c.eval.sync(a,((d=j({},b)).sync=!0,d))},c.run=o(function(a,d){function e(){i=12}function f(e){for(;;)switch(i){case 0:null==d&&(d={}),m=d.sync,i="undefined"==typeof process?1:5;break;case 1:i=m?2:3;break;case 2:return i=12,{done:!0,value:c.evalSync(a,d)};case 3:return++i,{done:!1,value:c.eval(a,d)};case 4:return i=12,{done:!0,value:e};case 5:k=b.main,k.filename=process.argv[1]=d.filename?x.realpathSync(d.filename):".",k.moduleCache&&(k.moduleCache={}),process.binding("natives").module&&(l=b("module").Module,k.paths=l._nodeModulePaths(B.dirname(d.filename))),i=".gs"!==B.extname(k.filename)||b.extensions?6:11;break;case 6:i=m?7:8;break;case 7:j=c.compileSync(a,d),i=10;break;case 8:return++i,{done:!1,value:c.compile(a,d)};case 9:j=e,++i;case 10:return i=12,{done:!0,value:k._compile(j.code,k.filename)};case 11:return++i,{done:!0,value:k._compile(a,k.filename)};case 12:return{done:!0,value:void 0};default:throw Error("Unknown state: "+i)}}function g(a){throw e(),a}function h(a){try{return f(a)}catch(b){g(b)}}var h,i,f,g,j,k,l,m;return i=0,{close:e,iterator:function(){return this},next:function(){return h(void 0)},send:h,"throw":function(a){return g(a),h(void 0)}}}),c.runSync=function(a,b){var d;return null==b&&(b={}),c.run.sync(a,((d=j({},b)).sync=!0,d))},y=c.init=o(function(a){function b(){f=4}function c(b){for(;;)switch(f){case 0:null==a&&(a={}),f=a.sync?1:2;break;case 1:return f=4,{done:!0,value:w(a.lang||"js",!0)};case 2:return++f,{done:!1,value:w(a.lang||"js")};case 3:return++f,{done:!0,value:b};case 4:return{done:!0,value:void 0};default:throw Error("Unknown state: "+f)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var e,f,c,d;return f=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}),c.initSync=function(a){var b;null==a&&(a={}),y.sync(((b=j({},a)).sync=!0,b))},c.getMtime=o(function(){function a(){k=6}function b(a){for(;;)switch(k){case 0:return n=[],n.push(B.join(B.dirname(C),"../src/jsprelude.gs")),q=B.join(B.dirname(C),"../lib"),++k,{done:!1,value:t(x.readdir,x,[q])};case 1:for(u=a,e=s(u),h=0,i=e.length;i>h;++h)r=e[h],".js"===B.extname(r)&&n.push(B.join(q,r));p=g(function(){var a,b,c,d;for(a=[],b=0,c=n.length;c>b;++b)d=n[b],a.push(t(x.stat,x,[d]));return a}()),++k;case 2:return++k,{done:!1,value:p};case 3:o=a,k=5;break;case 4:return k=6,{done:!0,value:new Date};case 5:for(l=-4503599627370496,e=s(o),h=0,i=e.length;i>h;++h)v=e[h],l=l>m(j=v.mtime.getTime())?l:j;return w=l,++k,{done:!0,value:new Date(w)};case 6:return{done:!0,value:void 0};default:throw Error("Unknown state: "+k)}}function c(b){if(2!==k&&3!==k)throw a(),b;f=b,k=4}function d(a){for(;;)try{return b(a)}catch(d){c(d)}}var e,f,h,i,j,d,k,b,c,l,n,o,p,q,r,u,v,w;return k=0,{close:a,iterator:function(){return this},next:function(){return d(void 0)},send:d,"throw":function(a){return c(a),d(void 0)}}})}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b["./browser"]=function(){var a={exports:this};return function(a){"use strict";var c,d,e,f,g,h,i,j,k,l,m;c=function(a,b,c,d,e){function f(a,b){k||(--n,null!=a&&null==i&&(i=a),c&&null==i&&arguments.length>1&&m.push(b),o||h())}function h(){for(;!k&&null==i&&a>n&&++l<b;)++n,o=!0,d(l,g(f)),o=!1;k||null==i&&0!==n||(k=!0,null!=i?e(i):e(null,m))}var i,k,l,m,n,o;if("number"!=typeof a)throw TypeError("Expected limit to be a Number, got "+j(a));if("number"!=typeof b)throw TypeError("Expected length to be a Number, got "+j(b));if(null==c)c=!1;else if("boolean"!=typeof c)throw TypeError("Expected hasResult to be a Boolean, got "+j(c));if("function"!=typeof d)throw TypeError("Expected onValue to be a Function, got "+j(d));if("function"!=typeof e)throw TypeError("Expected onComplete to be a Function, got "+j(e));return m=c?[]:null,0>=b?e(null,m):((1>a||a!==a)&&(a=1/0),i=null,n=0,o=!1,k=!1,l=-1,h(),void 0)},d=function(a){if("object"!=typeof a||null===a)throw TypeError("Expected promise to be an Object, got "+j(a));if("function"!=typeof a.then)throw TypeError("Expected promise.then to be a Function, got "+j(a.then));return function(b){a.then(function(a){return m(b,null,a)},function(a){return m(b,a)})}},e="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),f=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+j(a));return a},g=function(){function a(){throw Error("Attempted to call function more than once")}function b(){}return function(c,d){if("function"!=typeof c)throw TypeError("Expected func to be a Function, got "+j(c));if(null==d)d=!1;else if("boolean"!=typeof d)throw TypeError("Expected silentFail to be a Boolean, got "+j(d));return function(){var e;return e=c,c=d?b:a,e.apply(this,arguments)}}}(),h=Array.prototype.slice,i=function(a){if(null==a)throw TypeError("Expected an object, got "+j(a));if(e(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return h.call(a);throw TypeError("Expected an object with a length property, got "+j(a))},j=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),m="function"==typeof a.setImmediate?a.setImmediate:"undefined"!=typeof process&&"function"==typeof process.nextTick?function(){var a;return a=process.nextTick,function(b){var c;if("function"!=typeof b)throw TypeError("Expected func to be a Function, got "+j(b));return c=h.call(arguments,1),c.length?a(function(){b.apply(void 0,i(c))}):a(b)}}():function(a){var b;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+j(a));return b=h.call(arguments,1),b.length?setTimeout(function(){a.apply(void 0,i(b))},0):setTimeout(a,0)},k=b("./gorilla"),k.require=b,"undefined"!=typeof window&&null!==window&&(k.load=function(a,b){var c;if("string"!=typeof a)throw TypeError("Expected url to be a String, got "+j(a));if("function"!=typeof b)throw TypeError("Expected callback to be a Function, got "+j(b));if(window.ActiveXObject)c=new window.ActiveXObject("Microsoft.XMLHTTP");else{if(!XMLHttpRequest)throw Error("Unable to create XMLHttpRequest");c=new XMLHttpRequest}return c.open("GET",a,!0),"function"==typeof c.overrideMimeType&&c.overrideMimeType("text/plain"),c.onreadystatechange=function(){var e;return 4===c.readyState?0===(e=c.status)||200===e?d(k.run(c.responseText))(b):b(Error("Could not load "+a)):void 0},c.send(null)},l=function(){var a;return a=document.getElementsByTagName("script"),c(1,f(a.length),!1,function(b,c){var d;return d=a[b],"text/gorillascript"===d.type?d.src?k.load(d.src,c):(k.runSync(d.innerHTML),c()):c()},function(){})},window.addEventListener?addEventListener("DOMContentLoaded",l,!1):attachEvent("onload",l))}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b("./browser"),b("./gorilla").withPrelude("js",{consts:{"true":!0,"false":!1,"null":null,"void":{type:"void"},undefined:{type:"void"},Infinity:{type:"Infinity"},NaN:{type:"NaN"}},syntax:[{code:'return(function(){"use strict";return function(t,a,n){var r,c,o;return o=t.macroName,c=t.macroData,r=c.body,n("Call",200,n("Function",203,[],a(r),!0,!0,!1,void 0,!1,[]),[],!1,!1)}}).call(this);',params:[["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"do",id:0},{code:'return(function(){"use strict";return function(t){var r,a;return a=t.macroName,r=t.macroData,this["debugger"]()}}).call(this);',params:[["const",""]],names:"debugger",id:14},{code:'return(function(){"use strict";return function(t){var r,i,a,n;return n=t.macroName,a=t.macroData,i=a.ident,r=a.func,this.isPrimordial(i)&&this.error(["Cannot declare primordial \'",this.name(i),"\'"].join(""),i),this.let(i,!1,this.type(r)),this.block([this["var"](i,!1),this.assign(i,"=",r)])}}).call(this);',params:[["ident","ident","ident","Identifier"],["ident","func","ident","FunctionDeclaration"]],names:"let",id:15},{code:'return(function(){"use strict";return function(t,r,n){function i(t){return t-1}function e(t,r){return t>=0&&e(i(t),a["if"](c[t].test,c[t].body,r))||r}var a,s,o,c,u,l,h;return a=this,l=t.macroName,u=t.macroData,h=u.test,s=u.body,c=u.elseIfs,o=u.elseBody,this["if"]("unless"===l&&n("MacroAccess",2855,3,90,{op:"not",node:r(h)},"expression",!1,!1,!1)||h,s,e(i(c.length),o))}}).call(this);',params:[["ident","test","ident","Logic"],["const","then"],["ident","body"],["ident","elseIfs","many","*","sequence",["const","else"],["const","if"],["ident","test","ident","Logic"],["const","then"],["ident","body"]],["ident","elseBody","many","?","sequence",["const","else"],["this"]]],names:["if","unless"],id:16},{code:'return(function(){"use strict";return function(t,n,r){function e(t){return t-1}function s(t,o){return t>=0?s(e(t),i["if"](a[t].type==="unless"?r("MacroAccess",3327,3,95,{op:"not",node:n(a[t].test)},"expression",!1,!1,!1):a[t].test,a[t].body,o)):o}var i,o,c,a,u,l,f;return i=this,l=t.macroName,u=t.macroData,f=u.test,o=u.body,a=u.elseIfs,c=u.elseBody,this["if"]("unless"===l?r("MacroAccess",3460,3,96,{op:"not",node:n(f)},"expression",!1,!1,!1):f,o,s(e(a.length),c))}}).call(this);',params:[["ident","test","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseIfs","many","*","sequence",["const","\n"],["const","else"],["ident","type","choice",["const","if"],["const","unless"]],["ident","test","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:["if","unless"],id:17},{code:'return(function(){"use strict";return function(t){var n,e,r;return r=t.macroName,e=t.macroData,n=e.label,this.position==="expression"&&this.error("continue can only be used in a statement position"),this["continue"](n)}}).call(this);',params:[["ident","label","choice",["ident","Identifier"],["const",""]]],names:"continue",id:18},{code:'return(function(){"use strict";return function(t){var n,e,r;return r=t.macroName,e=t.macroData,n=e.label,this.position==="expression"&&this.error("break can only be used in a statement position"),this["break"](n)}}).call(this);',params:[["ident","label","choice",["ident","Identifier"],["const",""]]],names:"break",id:19},{code:'return(function(){"use strict";return function(t,e,n){function r(t){return t+1}var a,s,c,i,o,u,l,m,h;return s=this,l=t.macroName,u=t.macroData,c=u.declarable,h=u.value,c=this.macroExpand1(c),c||this.error("Unknown declarable: "+String(c)),c.type==="ident"?(this.isPrimordial(c.ident)&&this.error("Cannot declare primordial \'"+this.name(c.ident)+"\'",c.ident),this.let(c.ident,c.isMutable,c.asType?this.toType(c.asType):this.type(h)),this.block([this["var"](c.ident,c.isMutable),this.mutateLast(h||this.noop(),function(t){return s.assign(c.ident,"=",t)},!0)])):c.type==="array"?(m=function(t,e){return t<c.elements.length?m(r(t),c.elements[t]?r(e):e):e},m(0,0)<=1?(o=function(t,r){return s.macroExpand1(n("MacroAccess",8064,38,219,{macroName:"let",macroData:{declarable:n("MacroAccess",8068,37,219,n("MacroAccess",8068,31,219,{ident:e(t)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:n("Access",8079,e(h),e(r))}},"statement",!1,!1,!1))},i=function(t){return t<c.elements.length?c.elements[t]?o(c.elements[t],s["const"](t)):i(r(t)):h},i(0)):this.maybeCache(h,function(t,a){function i(t,c,i,u){return u.push(s.macroExpand1(n("MacroAccess",8512,38,232,{macroName:"let",macroData:{declarable:n("MacroAccess",8516,37,232,n("MacroAccess",8516,31,232,{ident:e(c)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:n("Access",8527,e(a),e(i))}},"statement",!1,!1,!1))),o(r(t),u)}function o(t,e){return t<c.elements.length?c.elements[t]?i(t,c.elements[t],s["const"](t),e):o(r(t),e):(e.push(a),s.block(e))}return o(0,[t])})):c.type==="object"?c.pairs.length===1?(o=function(t,r){return s.macroExpand1(n("MacroAccess",9072,38,247,{macroName:"let",macroData:{declarable:n("MacroAccess",9076,37,247,n("MacroAccess",9076,31,247,{ident:e(t)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:n("Access",9084,e(h),e(r))}},"statement",!1,!1,!1))},i=function(t){return o(t.value,t.key)},i(this.macroExpand1(c.pairs[0]))):this.maybeCache(h,function(t,a){function i(t,c,i,o){return o.push(s.macroExpand1(n("MacroAccess",9371,38,254,{macroName:"let",macroData:{declarable:n("MacroAccess",9375,37,254,n("MacroAccess",9375,31,254,{ident:e(c)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:n("Access",9383,e(a),e(i))}},"statement",!1,!1,!1))),u(r(t),o)}function o(t,e,n){return i(t,e.value,e.key,n)}function u(t,e){return t<c.pairs.length?o(t,s.macroExpand1(c.pairs[t]),e):(e.push(a),s.block(e))}return u(0,[t])}):this.error("Unknown declarable: "+String(c+" "+String(null!=c&&(a=c.constructor)!=null?a.name:void 0)))}}).call(this);',params:[["ident","declarable","ident","Declarable"],["const","="],["ident","value","ident","ExpressionOrAssignmentOrBody"]],names:"let",id:38},{code:'return(function(){"use strict";return function(t){var e,n,r,a;return e=this,r=t.macroName,n=t.macroData,a=n.node,a?this.mutateLast(a||this.noop(),function(t){return e["return"](t)},!0):this["return"]()}}).call(this);',params:[["ident","node","many","?","ident","Expression"]],names:"return",id:39},{code:'return(function(){"use strict";return function(t,e,n){var r,a,s,c;return r=this,s=t.macroName,a=t.macroData,c=a.node,this.mutateLast(c||this.noop(),function(t){return r.maybeCache(t,function(t,r){return n("MacroAccess",10173,17,280,{macroName:"if",macroData:{test:n("MacroAccess",10185,20,280,{op:"?",node:e(t)},"statement",!1,!1,!1),body:n("MacroAccess",10194,39,281,{macroName:"return",macroData:{node:e(r)}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1)})},!0)}}).call(this);',params:[["ident","node","ident","Expression"]],names:"return?",id:40},{code:'return(function(){"use strict";return function(t,e,n,a){var r,s,c,o;return r=this,c=t.macroName,s=t.macroData,o=s.node,this.mutateLast(o||this.noop(),function(t){return r.isType(t,"boolean")?n("MacroAccess",10350,17,288,{macroName:"if",macroData:{test:e(t),body:n("MacroAccess",10366,39,289,{macroName:"return",macroData:{node:a("true")}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1):r.maybeCache(t,function(t,a){return n("MacroAccess",10452,17,293,{macroName:"if",macroData:{test:e(t),body:n("MacroAccess",10474,39,294,{macroName:"return",macroData:{node:e(a)}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1)})},!0)}}).call(this);',params:[["ident","node","ident","Expression"]],names:"returnif",id:41},{code:'return(function(){"use strict";return function(t,e,a,n){var r,s,c,o;return r=this,c=t.macroName,s=t.macroData,o=s.node,this.mutateLast(o||this.noop(),function(t){return r.isType(t,"boolean")?a("MacroAccess",10636,17,301,{macroName:"unless",macroData:{test:e(t),body:a("MacroAccess",10656,39,302,{macroName:"return",macroData:{node:n("false")}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1):r.maybeCache(t,function(t,n){return a("MacroAccess",10743,17,306,{macroName:"unless",macroData:{test:e(t),body:a("MacroAccess",10769,39,307,{macroName:"return",macroData:{node:e(n)}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1)})},!0)}}).call(this);',params:[["ident","node","ident","Expression"]],names:"returnunless",id:42},{code:'return(function(){"use strict";var t,e,n;return t=function(t,e){var n;if(n=typeof t,"number"!==n&&"string"!==n)throw TypeError("Cannot compare a non-number/string: "+n);if(n!==typeof e)throw TypeError("Cannot compare elements of different types: "+n+" vs "+typeof e);return e>t},e=function(t){if("number"!=typeof t)throw TypeError("Expected a number, got "+n(t));return t},n=function(){var t;return t=Object.prototype.toString,function(e){return void 0===e?"Undefined":null===e?"Null":e.constructor&&e.constructor.name||t.call(e).slice(8,-1)}}(),function(n){var r,a,s,c,o,i,u,m;return r=this,i=n.macroName,o=n.macroData,c=o.locals,a=o.body,u=[],m=[],c&&(c.ident&&(u.push(this.param(c.ident)),m.push(c.value)),s=function(n){return t(n,c.rest.length)?(c.rest[n].ident&&(u.push(r.param(c.rest[n].ident)),m.push(c.rest[n].value)),s(e(n)+1)):void 0},s(0)),this.call(this.func(u,a,!0,!0),m)}}).call(this);',params:[["ident","locals","many","?","sequence",["ident","ident","ident","Identifier"],["const","="],["ident","value"],["ident","rest","many","*","sequence",["const",","],["ident","ident","ident","Identifier"],["const","="],["ident","value"]]],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"do",id:104},{code:'return(function(){"use strict";return function(t,e,n){var r,a,s,c,o;return c=t.macroName,s=t.macroData,o=s.node,r=s.body,a=n("Function",31278,[],e(r),!0,!1,!1,void 0,!1,[]),n("Call",31295,e(a),[e(o)],!1,!0)}}).call(this);',params:[["ident","node","ident","Expression"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"with",id:105},{code:'return(function(){"use strict";var t,e;return t=function(t){var r;if(r=typeof t,"string"===r)return t;if("number"===r)return String(t);throw TypeError("Expected a string or number, got "+e(t))},e=function(){var t;return t=Object.prototype.toString,function(e){return void 0===e?"Undefined":null===e?"Null":e.constructor&&e.constructor.name||t.call(e).slice(8,-1)}}(),function(e,r,a,n){var s,o,c,i,u,m,l,h,f,p,d,b,y,A;return h=e.macroName,l=e.macroData,f=l.reducer,u=l.init,A=l.test,y=l.step,o=l.body,c=l.elseBody,null==u&&(u=this.noop()),null==A&&(A=n("true")),null==y&&(y=this.noop()),f?"first"===f?(o=this.mutateLast(o||this.noop(),function(t){return a("MacroAccess",32849,39,1032,{macroName:"return",macroData:{node:r(t)}},"statement",!1,!1,!1)}),m=this["for"](u,A,y,o),a("MacroAccess",32924,0,1034,{macroName:"do",macroData:{body:a("Block",32928,[r(m),r(c)],null)}},"expression",!1,!1,!1)):(c&&this.error("Cannot use a for loop with an else with "+t(f),c),"some"===f?(b=this.tmp("some",!1,"boolean"),p=[],p.push(a("MacroAccess",33206,38,1043,{macroName:"let",macroData:{declarable:a("MacroAccess",33210,37,1043,a("MacroAccess",33210,31,1043,{ident:r(b)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:n("false")}},"statement",!1,!1,!1)),p.push(this["for"](u,A,y,this.mutateLast(o||this.noop(),function(t){return a("MacroAccess",33315,17,1045,{macroName:"if",macroData:{test:r(t),body:a("Block",33336,[a("MacroAccess",33336,30,1046,{left:r(b),op:":=",right:n("true")},"statement",!1,!1,!1),a("MacroAccess",33364,19,1047,{macroName:"break",macroData:{}},"statement",!1,!1,!1)],null),elseIfs:[]}},"statement",!1,!1,!1)}))),p.push(b),this.position==="expression"?r(p):r(p)):"every"===f?(i=this.tmp("every",!1,"boolean"),p=[],p.push(a("MacroAccess",33649,38,1056,{macroName:"let",macroData:{declarable:a("MacroAccess",33653,37,1056,a("MacroAccess",33653,31,1056,{ident:r(i)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:n("true")}},"statement",!1,!1,!1)),p.push(this["for"](u,A,y,this.mutateLast(o||this.noop(),function(t){return a("MacroAccess",33758,17,1058,{macroName:"if",macroData:{test:a("MacroAccess",33772,3,1058,{op:"not",node:r(t)},"statement",!1,!1,!1),body:a("Block",33783,[a("MacroAccess",33783,30,1059,{left:r(i),op:":=",right:n("false")},"statement",!1,!1,!1),a("MacroAccess",33813,19,1060,{macroName:"break",macroData:{}},"statement",!1,!1,!1)],null),elseIfs:[]}},"statement",!1,!1,!1)}))),p.push(i),this.position==="expression"?r(p):r(p)):this.error("Unknown reducer: "+t(f))):c?(this.position==="expression"&&this.error("Cannot use a for loop with an else with as an expression",c),d=this.tmp("else",!1,"boolean"),o=a("Block",34229,[a("MacroAccess",34229,30,1073,{left:r(d),op:":=",right:n("false")},"statement",!1,!1,!1),r(o)],null),u=a("Block",34288,[a("MacroAccess",34288,30,1076,{left:r(d),op:":=",right:n("true")},"statement",!1,!1,!1),r(u)],null),m=this["for"](u,A,y,o),a("Block",34384,[r(m),a("MacroAccess",34398,17,1081,{macroName:"if",macroData:{test:r(d),body:r(c),elseIfs:[]}},"statement",!1,!1,!1)],null)):this.position==="expression"?(s=this.tmp("arr",!1,this.type(o).array()),o=this.mutateLast(o||this.noop(),function(t){return a("Call",34591,a("Access",34591,r(s),a("Const",34597,"push")),[r(t)],!1,!1)}),u=a("Block",34627,[a("MacroAccess",34627,30,1087,{left:r(s),op:":=",right:a("Array",34642,[])},"statement",!1,!1,!1),r(u)],null),m=this["for"](u,A,y,o),a("Block",34716,[r(m),r(s)],null)):this["for"](u,A,y,o)}}).call(this);',params:[["ident","reducer","many","?","choice",["const","every"],["const","some"],["const","first"]],["ident","init","choice",["ident","ExpressionOrAssignment"],["const",""]],["const",";"],["ident","test","choice",["ident","Logic"],["const",""]],["const",";"],["ident","step","choice",["ident","ExpressionOrAssignment"],["const",""]],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"for",id:106},{code:'return(function(){"use strict";return function(t,e,r,a){var n,s,o,c,i,u,m,l;return u=t.macroName,i=t.macroData,c=i.init,l=i.test,m=i.step,s=i.current,o=i.currentStart,n=i.body,null==c&&(c=this.noop()),null==l&&(l=a("true")),null==m&&(m=this.noop()),n=this.mutateLast(n||this.noop(),function(t){return r("MacroAccess",35103,30,1101,{left:e(s),op:":=",right:e(t)},"expression",!1,!1,!1)}),r("Block",35131,[r("MacroAccess",35131,38,1103,{macroName:"let",macroData:{declarable:r("MacroAccess",35140,37,1103,r("MacroAccess",35140,31,1103,{isMutable:"mutable",ident:e(s)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:e(o)}},"statement",!1,!1,!1),r("MacroAccess",35175,106,1104,{macroName:"for",macroData:{init:e(c),test:e(l),step:e(m),body:e(n)}},"statement",!1,!1,!1),e(s)],null)}}).call(this);',params:[["const","reduce"],["ident","init","choice",["ident","Expression"],["const",""]],["const",";"],["ident","test","choice",["ident","Logic"],["const",""]],["const",";"],["ident","step","choice",["ident","Statement"],["const",""]],["const",","],["ident","current","ident","Identifier"],["const","="],["ident","currentStart"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"for",id:107},{code:'return(function(){"use strict";return function(t,e,r){var a,s,n,o,c,i,u;return o=t.macroName,n=t.macroData,c=n.reducer,u=n.test,i=n.step,a=n.body,s=n.elseBody,"until"===o&&(u=r("MacroAccess",35543,3,1111,{op:"not",node:e(u)},"expression",!1,!1,!1)),"every"===c?r("MacroAccess",35594,106,1114,{macroName:"for",macroData:{reducer:"every",test:e(u),step:e(i),body:e(a),elseBody:e(s)}},"expression",!1,!1,!1):"some"===c?r("MacroAccess",35703,106,1119,{macroName:"for",macroData:{reducer:"some",test:e(u),step:e(i),body:e(a),elseBody:e(s)}},"expression",!1,!1,!1):"first"===c?r("MacroAccess",35812,106,1124,{macroName:"for",macroData:{reducer:"first",test:e(u),step:e(i),body:e(a),elseBody:e(s)}},"expression",!1,!1,!1):this.position==="expression"?r("MacroAccess",35929,106,1129,{macroName:"for",macroData:{test:e(u),step:e(i),body:e(a),elseBody:e(s)}},"expression",!1,!1,!1):r("MacroAccess",36012,106,1135,{macroName:"for",macroData:{test:e(u),step:e(i),body:e(a),elseBody:e(s)}},"statement",!1,!1,!1)}}).call(this);',params:[["ident","reducer","many","?","choice",["const","every"],["const","some"],["const","first"]],["ident","test","ident","Logic"],["ident","step","many","?","sequence",["const",","],["this","ident","ExpressionOrAssignment"]],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:["while","until"],id:108},{code:'return(function(){"use strict";return function(t,e,r){var a,s,n,o,c,i,u;return c=t.macroName,o=t.macroData,u=o.test,i=o.step,s=o.current,n=o.currentStart,a=o.body,"until"===c&&(u=r("MacroAccess",36310,3,1142,{op:"not",node:e(u)},"expression",!1,!1,!1)),r("MacroAccess",36334,107,1145,{macroName:"for",macroData:{test:e(u),step:e(i),current:e(s),currentStart:e(n),body:e(a)}},"statement",!1,!1,!1)}}).call(this);',params:[["const","reduce"],["ident","test","ident","Logic"],["ident","step","many","?","sequence",["const",","],["this","ident","ExpressionOrAssignment"]],["const",","],["ident","current","ident","Identifier"],["const","="],["ident","currentStart"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:["while","until"],id:109},{code:'return(function(){"use strict";var e,t,s;return e=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+s(e));return e},t=function(e){var t;if(t=typeof e,"string"===t)return e;if("number"===t)return String(e);throw TypeError("Expected a string or number, got "+s(e))},s=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(a,c,r,o){var n,i,l,m,u,p,h,d,A,f,M,b,v,y,x,g,N,D,C,I,B,E,_,k,T,S,F,w,L;return B=a.macroName,I=a.macroData,E=I.reducer,F=I.value,v=I.index,m=I.array,u=I.body,p=I.elseBody,F=this.macroExpand1(F),g=null,v&&(g=v.length,v=v.value),this.isCall(m)&&this.isIdent(this.callFunc(m))&&this.name(this.callFunc(m))==="__toArray"&&!this.callIsApply(m)&&(m=this.callArgs(m)[0]),this.isCall(m)&&this.isIdent(this.callFunc(m))&&this.name(this.callFunc(m))==="__range"&&!this.callIsApply(m)?((this.isArray(F)||this.isObject(F))&&this.error("Cannot assign a number to a complex declarable",F),F=F.ident,n=this.callArgs(m),_=n[0],h=n[1],k=n[2],M=n[3],y=[],this.isConst(_)?typeof this.value(_)!="number"&&this.error("Cannot start with a non-number: "+t(this.value(_)),_):_=r("MacroAccess",38837,60,1204,{op:"+",node:c(_)},"expression",!1,!1,!1),y.push(this.macroExpandAll(r("MacroAccess",38883,38,1205,{macroName:"let",macroData:{declarable:r("MacroAccess",38887,37,1205,r("MacroAccess",38887,31,1205,{isMutable:"mutable",ident:c(F)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:c(_)}},"statement",!1,!1,!1))),this.isConst(h)?typeof this.value(h)!="number"&&this.error("Cannot end with a non-number: "+t(this.value(h)),h):this.isComplex(h)?h=this.cache(r("MacroAccess",39101,60,1211,{op:"+",node:c(h)},"expression",!1,!1,!1),y,"end",!1):y.push(r("MacroAccess",39161,60,1213,{op:"+",node:c(h)},"expression",!1,!1,!1)),this.isConst(k)?typeof this.value(k)!="number"&&this.error("Cannot step with a non-number: "+t(this.value(k)),k):this.isComplex(k)?k=this.cache(r("MacroAccess",39364,60,1219,{op:"+",node:c(k)},"expression",!1,!1,!1),y,"step",!1):y.push(r("MacroAccess",39426,60,1221,{op:"+",node:c(k)},"expression",!1,!1,!1)),this.isComplex(M)&&(M=this.cache(c(M),y,"incl",!1)),T=this.isConst(k)?e(this.value(k))>0?this.isConst(h)&&this.value(h)===1/0?o("true"):r("MacroAccess",39715,16,1231,{macroName:"if",macroData:{test:c(M),body:r("MacroAccess",39734,9,1231,{left:c(F),inverted:!1,op:"~<=",right:c(h)},"expression",!1,!1,!1),elseIfs:[],elseBody:r("MacroAccess",39755,9,1231,{left:c(F),inverted:!1,op:"~<",right:c(h)},"expression",!1,!1,!1)}},"expression",!1,!1,!1):this.isConst(h)&&this.value(h)===-1/0?o("true"):r("MacroAccess",39894,16,1236,{macroName:"if",macroData:{test:c(M),body:r("MacroAccess",39913,10,1236,{left:c(F),inverted:!1,op:"~>=",right:c(h)},"expression",!1,!1,!1),elseIfs:[],elseBody:r("MacroAccess",39934,10,1236,{left:c(F),inverted:!1,op:"~>",right:c(h)},"expression",!1,!1,!1)}},"expression",!1,!1,!1):r("MacroAccess",39973,17,1238,{macroName:"if",macroData:{test:r("MacroAccess",39976,10,1238,{left:c(k),inverted:!1,op:"~>",right:r("Const",39986,0)},"expression",!1,!1,!1),body:r("MacroAccess",39988,16,1239,{macroName:"if",macroData:{test:c(M),body:r("MacroAccess",40016,9,1239,{left:c(F),inverted:!1,op:"~<=",right:c(h)},"expression",!1,!1,!1),elseIfs:[],elseBody:r("MacroAccess",40037,9,1239,{left:c(F),inverted:!1,op:"~<",right:c(h)},"expression",!1,!1,!1)}},"statement",!1,!1,!1),elseIfs:[],elseBody:r("MacroAccess",40066,16,1241,{macroName:"if",macroData:{test:c(M),body:r("MacroAccess",40094,10,1241,{left:c(F),inverted:!1,op:"~>=",right:c(h)},"expression",!1,!1,!1),elseIfs:[],elseBody:r("MacroAccess",40115,10,1241,{left:c(F),inverted:!1,op:"~>",right:c(h)},"expression",!1,!1,!1)}},"statement",!1,!1,!1)}},"expression",!1,!1,!1),b=r("MacroAccess",40170,52,1243,{left:c(F),op:"~+=",right:c(k)},"expression",!1,!1,!1),g&&y.push(this.macroExpandAll(r("MacroAccess",40248,38,1246,{macroName:"let",macroData:{declarable:r("MacroAccess",40252,37,1246,r("MacroAccess",40252,31,1246,{ident:c(g)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",40262,17,1246,{macroName:"if",macroData:{test:c(M),body:r("MacroAccess",40277,45,1247,{left:r("MacroAccess",40288,49,1247,{left:r("MacroAccess",40288,49,1247,{left:c(h),inverted:!1,op:"~-",right:c(_)},"expression",!1,!1,!1),inverted:!1,op:"~+",right:c(k)},"expression",!1,!1,!1),inverted:!1,op:"~\\\\",right:c(k)},"statement",!1,!1,!1),elseIfs:[],elseBody:r("MacroAccess",40335,45,1249,{left:r("MacroAccess",40346,49,1249,{left:c(h),inverted:!1,op:"~-",right:c(_)},"expression",!1,!1,!1),inverted:!1,op:"~\\\\",right:c(k)},"statement",!1,!1,!1)}},"expression",!1,!1,!1)}},"statement",!1,!1,!1))),v?(y.push(this.macroExpandAll(r("MacroAccess",40430,38,1252,{macroName:"let",macroData:{declarable:r("MacroAccess",40434,37,1252,r("MacroAccess",40434,31,1252,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Const",40452,0)}},"statement",!1,!1,!1))),b=r("Block",40479,[c(b),r("MacroAccess",40500,103,1255,{left:c(v),op:"+=",right:r("Const",40520,1)},"statement",!1,!1,!1)],null),this.hasFunc(u)&&(d=this.tmp("f",!1,"function"),y.push(r("MacroAccess",40620,38,1258,{macroName:"let",macroData:{declarable:r("MacroAccess",40624,37,1258,r("MacroAccess",40624,31,1258,{ident:c(d)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Function",40634,[r("Param",40635,c(F),void 0,!1,!1,void 0),r("Param",40642,c(v),void 0,!1,!1,void 0)],c(u),!0,!1,!1,void 0,!1,[])}},"statement",!1,!1,!1)),u=r("Call",40684,c(d),[r("This",40692),c(F),c(v)],!1,!0))):this.hasFunc(u)&&(d=this.tmp("f",!1,"function"),y.push(r("MacroAccess",40812,38,1262,{macroName:"let",macroData:{declarable:r("MacroAccess",40816,37,1262,r("MacroAccess",40816,31,1262,{ident:c(d)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Function",40826,[r("Param",40827,c(F),void 0,!1,!1,void 0)],c(u),!0,!1,!1,void 0,!1,[])}},"statement",!1,!1,!1)),u=r("Call",40866,c(d),[r("This",40874),c(F)],!1,!0)),"every"===E?r("MacroAccess",40933,106,1266,{macroName:"for",macroData:{reducer:"every",init:c(y),test:c(T),step:c(b),body:c(u),elseBody:c(p)}},"expression",!1,!1,!1):"some"===E?r("MacroAccess",41062,106,1271,{macroName:"for",macroData:{reducer:"some",init:c(y),test:c(T),step:c(b),body:c(u),elseBody:c(p)}},"expression",!1,!1,!1):"first"===E?r("MacroAccess",41191,106,1276,{macroName:"for",macroData:{reducer:"first",init:c(y),test:c(T),step:c(b),body:c(u),elseBody:c(p)}},"expression",!1,!1,!1):"filter"===E?(u=this.mutateLast(u,function(e){return r("MacroAccess",41366,17,1282,{macroName:"if",macroData:{test:c(e),body:c(F),elseIfs:[]}},"statement",!1,!1,!1)}),r("MacroAccess",41407,106,1284,{macroName:"for",macroData:{init:c(y),test:c(T),step:c(b),body:c(u),elseBody:c(p)}},"expression",!1,!1,!1)):this.position==="expression"?r("MacroAccess",41539,106,1289,{macroName:"for",macroData:{init:c(y),test:c(T),step:c(b),body:c(u),elseBody:c(p)}},"expression",!1,!1,!1):r("MacroAccess",41642,106,1295,{macroName:"for",macroData:{init:c(y),test:c(T),step:c(b),body:c(u),elseBody:c(p)}},"statement",!1,!1,!1)):(y=[],x=this.isType(m,"string"),A=null!=v,null==v&&(v=this.tmp("i",!1,"number")),f=null!=g,null==g&&(g=this.tmp("len",!1,"number")),this.macroExpandAll(r("MacroAccess",41996,38,1308,{macroName:"let",macroData:{declarable:r("MacroAccess",42e3,37,1308,r("MacroAccess",42e3,31,1308,{ident:c(g)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Const",42011,0)}},"statement",!1,!1,!1)),m=this.macroExpandAll(m),k=r("Const",42097,1),_=r("Const",42130,0),h=o("Infinity"),M=o("false"),this.isCall(m)&&this.isIdent(this.callFunc(m))&&(this.name(this.callFunc(m))!=="__step"||this.callIsApply(m)?this.name(this.callFunc(m))==="__slice"&&this.callIsApply(m)?(l=this.callArgs(m),m=l[0],_=l[1],h=l[2],this.isConst(h)&&this.value(h)===void 0&&(h=o("Infinity"))):this.name(this.callFunc(m))!=="__sliceStep"||this.callIsApply(m)||(l=this.callArgs(m),m=l[0],_=l[1],h=l[2],k=l[3],M=l[4]):(l=this.callArgs(m),m=l[0],k=l[1],this.isConst(k)?e(this.value(k))>=0?(_=r("Const",42528,0),h=o("Infinity")):(_=o("Infinity"),h=r("Const",42645,0)):(_=void 0,h=void 0),M=o("true"))),this.isConst(k)&&(typeof this.value(k)!="number"?this.error("Expected step to be a number, got "+s(this.value(k)),k):e(this.value(k))%1!==0?this.error("Expected step to be an integer, got "+t(this.value(k)),k):this.value(k)===0&&this.error("Expected step to non-zero",k)),_&&this.isConst(_)&&this.value(_)!==1/0&&(typeof this.value(_)!="number"||e(this.value(_))%1!==0)&&this.error("Expected start to be an integer, got "+s(this.value(_))+" ("+String(this.value(_))+")",_),h&&this.isConst(h)&&this.value(h)!==1/0&&(typeof this.value(h)!="number"||e(this.value(h))%1!==0)&&this.error("Expected end to be an integer, got "+s(this.value(h))+" ("+String(this.value(h))+")",h),x||this.isType(m,"arrayLike")||(m=r("Call",44183,r("Ident",44183,"__toArray"),[c(m)],!1,!1)),m=this.cache(m,y,x?"str":"arr",!1),w=r("MacroAccess",44311,16,1362,{macroName:"if",macroData:{test:c(x),body:r("Call",44330,r("Access",44330,c(m),r("Const",44338,"charAt")),[c(v)],!1,!1),elseIfs:[],elseBody:r("Access",44358,c(m),c(v))}},"expression",!1,!1,!1),N=this.macroExpandAll(r("MacroAccess",44417,38,1363,{macroName:"let",macroData:{declarable:r("MacroAccess",44421,37,1363,r("MacroAccess",44421,31,1363,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Const",44439,0)}},"statement",!1,!1,!1)),L=F&&F.type==="ident"&&!F.isMutable?F.ident:this.tmp("v",!1),C=this.macroExpandAll(r("MacroAccess",44604,38,1365,{macroName:"let",macroData:{declarable:r("MacroAccess",44608,37,1365,r("MacroAccess",44608,31,1365,{ident:c(F)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:c(w)}},"statement",!1,!1,!1)),D=this.macroExpandAll(r("MacroAccess",44674,38,1366,{macroName:"let",macroData:{declarable:r("MacroAccess",44678,37,1366,r("MacroAccess",44678,31,1366,{ident:c(g)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",44688,60,1366,{op:"+",node:r("Access",44690,c(m),r("Const",44697,"length"))},"expression",!1,!1,!1)}},"statement",!1,!1,!1)),n=this.isConst(k)?e(this.value(k))>0?(this.isConst(_)?e(this.value(_))>=0?(y.push(r("MacroAccess",44879,38,1372,{macroName:"let",macroData:{declarable:r("MacroAccess",44883,37,1372,r("MacroAccess",44883,31,1372,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:c(_)}},"statement",!1,!1,!1)),y.push(D)):(y.push(D),y.push(r("MacroAccess",45022,38,1376,{macroName:"let",macroData:{declarable:r("MacroAccess",45026,37,1376,r("MacroAccess",45026,31,1376,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",45043,66,1376,{left:c(g),inverted:!1,op:"+",right:c(_)},"expression",!1,!1,!1)}},"statement",!1,!1,!1))):(y.push(D),y.push(this.getConstValue("DISABLE_TYPE_CHECKING",!1)?r("MacroAccess",45200,38,1380,{macroName:"let",macroData:{declarable:r("MacroAccess",45204,37,1380,r("MacroAccess",45204,31,1380,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",45221,60,1380,{op:"+",node:c(_)},"expression",!1,!1,!1)}},"statement",!1,!1,!1):r("MacroAccess",45264,38,1382,{macroName:"let",macroData:{declarable:r("MacroAccess",45268,37,1382,r("MacroAccess",45268,31,1382,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Call",45285,r("Ident",45285,"__int"),[c(_)],!1,!1)}},"statement",!1,!1,!1)),y.push(r("MacroAccess",45326,16,1383,{macroName:"if",macroData:{test:r("MacroAccess",45329,9,1383,{left:c(v),inverted:!1,op:"~<",right:r("Const",45340,0)},"expression",!1,!1,!1),body:r("MacroAccess",45348,103,1383,{left:c(v),op:"+=",right:c(g)},"expression",!1,!1,!1),elseIfs:[]}},"expression",!1,!1,!1))),this.isConst(h)&&(this.value(h)===1/0||this.isConst(M)&&this.value(M)&&this.value(h)===-1)?[r("MacroAccess",45512,9,1385,{left:c(v),inverted:!1,op:"~<",right:c(g)},"expression",!1,!1,!1),r("MacroAccess",45538,52,1385,{left:c(v),op:"~+=",right:c(k)},"expression",!1,!1,!1)]:(S=this.tmp("end",!1,"number"),y.push(r("MacroAccess",45645,38,1388,{macroName:"let",macroData:{declarable:r("MacroAccess",45649,37,1388,r("MacroAccess",45649,31,1388,{isMutable:"mutable",ident:c(S)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",45664,60,1388,{op:"+",node:c(h)},"expression",!1,!1,!1)}},"statement",!1,!1,!1)),this.isConst(h)?e(this.value(h))<0?y.push(r("MacroAccess",45835,52,1392,{left:c(S),op:"~+=",right:c(g)},"expression",!1,!1,!1)):void 0:y.push(r("MacroAccess",45733,16,1390,{macroName:"if",macroData:{test:r("MacroAccess",45736,9,1390,{left:c(S),inverted:!1,op:"~<",right:r("Const",45745,0)},"expression",!1,!1,!1),body:r("MacroAccess",45753,52,1390,{left:c(S),op:"~+=",right:c(g)},"expression",!1,!1,!1),elseIfs:[]}},"expression",!1,!1,!1)),y.push(r("MacroAccess",45879,16,1393,{macroName:"if",macroData:{test:c(M),body:r("MacroAccess",45900,30,1393,{left:c(S),op:":=",right:r("MacroAccess",45907,2,1393,{left:r("MacroAccess",45907,66,1393,{left:c(S),inverted:!1,op:"+",right:r("Const",45915,1)},"expression",!1,!1,!1),inverted:!1,op:"or",right:o("Infinity")},"expression",!1,!1,!1)},"expression",!1,!1,!1),elseIfs:[]}},"expression",!1,!1,!1)),y.push(r("MacroAccess",45956,86,1394,{left:c(S),op:"~min=",right:c(g)},"expression",!1,!1,!1)),[r("MacroAccess",45993,9,1395,{left:c(v),inverted:!1,op:"~<",right:c(S)},"expression",!1,!1,!1),r("MacroAccess",46014,52,1395,{left:c(v),op:"~+=",right:c(k)},"expression",!1,!1,!1)])):this.value(k)===-1&&(!_||this.isConst(_)&&((i=this.value(_))===-1||i===1/0)&&this.isConst(h)&&this.value(h)===0&&this.isConst(M)&&this.value(M))?(f?(y.push(D),y.push(r("MacroAccess",46311,38,1399,{macroName:"let",macroData:{declarable:r("MacroAccess",46315,37,1399,r("MacroAccess",46315,31,1399,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:c(g)}},"statement",!1,!1,!1))):y.push(r("MacroAccess",46381,38,1401,{macroName:"let",macroData:{declarable:r("MacroAccess",46385,37,1401,r("MacroAccess",46385,31,1401,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",46402,60,1401,{op:"+",node:r("Access",46404,c(m),r("Const",46411,"length"))},"expression",!1,!1,!1)}},"statement",!1,!1,!1)),[r("MacroAccess",46433,13,1402,{op:"postDec!",node:c(v)},"expression",!1,!1,!1),this.noop()]):(!this.isConst(h)||e(this.value(h))<0?f=!0:void 0,this.isConst(_)?(i=this.value(_))===-1||i===1/0?f?(y.push(D),y.push(r("MacroAccess",46727,38,1410,{macroName:"let",macroData:{declarable:r("MacroAccess",46731,37,1410,r("MacroAccess",46731,31,1410,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",46748,49,1410,{left:c(g),inverted:!1,op:"~-",right:r("Const",46760,1)},"expression",!1,!1,!1)}},"statement",!1,!1,!1))):y.push(r("MacroAccess",46810,38,1412,{macroName:"let",macroData:{declarable:r("MacroAccess",46814,37,1412,r("MacroAccess",46814,31,1412,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",46831,49,1412,{left:r("MacroAccess",46831,60,1412,{op:"+",node:r("Access",46833,c(m),r("Const",46840,"length"))},"expression",!1,!1,!1),inverted:!1,op:"~-",right:r("Const",46850,1)},"expression",!1,!1,!1)}},"statement",!1,!1,!1)):(y.push(D),e(this.value(_))>=0?y.push(r("MacroAccess",46969,38,1416,{macroName:"let",macroData:{declarable:r("MacroAccess",46973,37,1416,r("MacroAccess",46973,31,1416,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",46990,16,1416,{macroName:"if",macroData:{test:r("MacroAccess",46993,9,1416,{left:c(_),inverted:!1,op:"~<",right:c(g)},"expression",!1,!1,!1),body:c(_),elseIfs:[],elseBody:r("MacroAccess",47028,49,1416,{left:c(g),inverted:!1,op:"~-",right:r("Const",47040,1)},"expression",!1,!1,!1)}},"expression",!1,!1,!1)}},"statement",!1,!1,!1)):y.push(r("MacroAccess",47090,38,1418,{macroName:"let",macroData:{declarable:r("MacroAccess",47094,37,1418,r("MacroAccess",47094,31,1418,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",47111,49,1418,{left:c(g),inverted:!1,op:"~+",right:r("MacroAccess",47122,60,1418,{op:"+",node:c(_)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}},"statement",!1,!1,!1))):(y.push(D),y.push(r("MacroAccess",47204,38,1421,{macroName:"let",macroData:{declarable:r("MacroAccess",47208,37,1421,r("MacroAccess",47208,31,1421,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",47225,60,1421,{op:"+",node:c(_)},"expression",!1,!1,!1)}},"statement",!1,!1,!1)),y.push(r("MacroAccess",47259,16,1422,{macroName:"if",macroData:{test:r("MacroAccess",47262,9,1422,{left:c(v),inverted:!1,op:"~<",right:r("Const",47273,0)},"statement",!1,!1,!1),body:r("MacroAccess",47281,52,1422,{left:c(v),op:"~+=",right:c(g)},"expression",!1,!1,!1),elseIfs:[],elseBody:r("MacroAccess",47307,86,1422,{left:c(v),op:"~min=",right:c(g)},"expression",!1,!1,!1)}},"statement",!1,!1,!1)),y.push(r("MacroAccess",47354,53,1423,{left:c(v),op:"~-=",right:r("Const",47366,1)},"statement",!1,!1,!1))),this.isConst(h)?e(this.value(h))>=0?[r("MacroAccess",47447,16,1426,{macroName:"if",macroData:{test:c(M),body:r("MacroAccess",47466,10,1426,{left:c(v),inverted:!1,op:"~>=",right:c(h)},"expression",!1,!1,!1),elseIfs:[],elseBody:r("MacroAccess",47487,10,1426,{left:c(v),inverted:!1,op:"~>",right:c(h)},"expression",!1,!1,!1)}},"expression",!1,!1,!1),r("MacroAccess",47508,52,1426,{left:c(v),op:"~+=",right:c(k)},"expression",!1,!1,!1)]:[r("MacroAccess",47563,16,1428,{macroName:"if",macroData:{test:c(M),body:r("MacroAccess",47582,10,1428,{left:c(v),inverted:!1,op:"~>=",right:r("MacroAccess",47593,66,1428,{left:c(h),inverted:!1,op:"+",right:c(g)},"expression",!1,!1,!1)},"expression",!1,!1,!1),elseIfs:[],elseBody:r("MacroAccess",47613,10,1428,{left:c(v),inverted:!1,op:"~>",right:r("MacroAccess",47623,66,1428,{left:c(h),inverted:!1,op:"+",right:c(g)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}},"expression",!1,!1,!1),r("MacroAccess",47644,52,1428,{left:c(v),op:"~+=",right:c(k)},"expression",!1,!1,!1)]:(S=this.tmp("end",!1,"number"),y.push(r("MacroAccess",47751,38,1431,{macroName:"let",macroData:{declarable:r("MacroAccess",47755,37,1431,r("MacroAccess",47755,31,1431,{isMutable:"mutable",ident:c(S)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",47770,60,1431,{op:"+",node:c(h)},"expression",!1,!1,!1)}},"statement",!1,!1,!1)),y.push(r("MacroAccess",47802,16,1432,{macroName:"if",macroData:{test:r("MacroAccess",47805,9,1432,{left:c(S),inverted:!1,op:"~<",right:r("Const",47814,0)},"statement",!1,!1,!1),body:r("MacroAccess",47822,52,1432,{left:c(S),op:"~+=",right:c(g)},"expression",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1)),[r("MacroAccess",47857,16,1433,{macroName:"if",macroData:{test:c(M),body:r("MacroAccess",47876,10,1433,{left:c(v),inverted:!1,op:"~>=",right:c(S)},"expression",!1,!1,!1),elseIfs:[],elseBody:r("MacroAccess",47897,10,1433,{left:c(v),inverted:!1,op:"~>",right:c(S)},"expression",!1,!1,!1)}},"expression",!1,!1,!1),r("MacroAccess",47918,52,1433,{left:c(v),op:"~+=",right:c(k)},"expression",!1,!1,!1)])):(this.isComplex(k)?k=this.getConstValue("DISABLE_TYPE_CHECKING",!1)?this.cache(r("MacroAccess",48071,60,1437,{op:"+",node:c(k)},"expression",!1,!1,!1),y,"step",!1):this.cache(r("Call",48147,r("Ident",48147,"__int"),[r("Call",48154,r("Ident",48154,"__nonzero"),[c(k)],!1,!1)],!1,!1),y,"step",!1):this.getConstValue("DISABLE_TYPE_CHECKING",!1)?void 0:y.unshift(r("Call",48301,r("Ident",48301,"__int"),[r("Call",48308,r("Ident",48308,"__nonzero"),[c(k)],!1,!1)],!1,!1)),y.push(D),_?(this.isConst(_)?this.value(_)===1/0?y.push(r("MacroAccess",48701,38,1453,{macroName:"let",macroData:{declarable:r("MacroAccess",48705,37,1453,r("MacroAccess",48705,31,1453,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",48722,49,1453,{left:c(g),inverted:!1,op:"~-",right:r("Const",48734,1)},"expression",!1,!1,!1)}},"statement",!1,!1,!1)):y.push(r("MacroAccess",48780,38,1455,{macroName:"let",macroData:{declarable:r("MacroAccess",48784,37,1455,r("MacroAccess",48784,31,1455,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",48801,16,1455,{macroName:"if",macroData:{test:r("MacroAccess",48804,10,1455,{left:c(_),inverted:!1,op:"~>=",right:r("Const",48816,0)},"expression",!1,!1,!1),body:c(_),elseIfs:[],elseBody:r("MacroAccess",48834,66,1455,{left:c(_),inverted:!1,op:"+",right:c(g)},"expression",!1,!1,!1)}},"expression",!1,!1,!1)}},"statement",!1,!1,!1)):(y.push(r("MacroAccess",48892,38,1457,{macroName:"let",macroData:{declarable:r("MacroAccess",48896,37,1457,r("MacroAccess",48896,31,1457,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:c(_)}},"statement",!1,!1,!1)),y.push(r("MacroAccess",48946,16,1458,{macroName:"if",macroData:{test:r("MacroAccess",48949,9,1458,{left:c(v),inverted:!1,op:"~<",right:r("Const",48960,0)},"statement",!1,!1,!1),body:r("MacroAccess",48968,103,1458,{left:c(v),op:"+=",right:c(g)},"expression",!1,!1,!1),elseIfs:[{test:r("MacroAccess",48994,9,1458,{left:c(k),inverted:!1,op:"~<",right:r("Const",49004,0)},"statement",!1,!1,!1),body:r("MacroAccess",49012,86,1458,{left:c(v),op:"~min=",right:c(g)},"expression",!1,!1,!1)}]}},"statement",!1,!1,!1))),S=this.tmp("end",!1,"number"),this.isConst(h)?y.push(r("MacroAccess",49133,38,1461,{macroName:"let",macroData:{declarable:r("MacroAccess",49137,37,1461,r("MacroAccess",49137,31,1461,{isMutable:"mutable",ident:c(S)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",49152,16,1461,{macroName:"if",macroData:{test:r("MacroAccess",49155,9,1461,{left:c(h),inverted:!1,op:"~<",right:r("Const",49164,0)},"expression",!1,!1,!1),body:r("MacroAccess",49170,49,1461,{left:c(h),inverted:!1,op:"~+",right:c(g)},"expression",!1,!1,!1),elseIfs:[],elseBody:r("MacroAccess",49191,83,1461,{left:c(h),inverted:!1,op:"max",right:r("MacroAccess",49202,16,1461,{macroName:"if",macroData:{test:c(M),body:r("MacroAccess",49220,49,1461,{left:c(g),inverted:!1,op:"~-",right:r("Const",49232,1)},"expression",!1,!1,!1),elseIfs:[],elseBody:c(g)}},"expression",!1,!1,!1)},"expression",!1,!1,!1)}},"expression",!1,!1,!1)}},"statement",!1,!1,!1)):(y.push(r("MacroAccess",49288,38,1463,{macroName:"let",macroData:{declarable:r("MacroAccess",49292,37,1463,r("MacroAccess",49292,31,1463,{isMutable:"mutable",ident:c(S)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",49307,60,1463,{op:"+",node:c(h)},"expression",!1,!1,!1)}},"statement",!1,!1,!1)),y.push(r("MacroAccess",49339,16,1464,{macroName:"if",macroData:{test:r("MacroAccess",49342,9,1464,{left:c(S),inverted:!1,op:"~<",right:r("Const",49351,0)},"statement",!1,!1,!1),body:r("MacroAccess",49359,103,1464,{left:c(S),op:"+=",right:c(g)},"expression",!1,!1,!1),elseIfs:[{test:r("MacroAccess",49383,10,1464,{left:c(k),inverted:!1,op:"~>",right:r("Const",49393,0)},"statement",!1,!1,!1),body:r("MacroAccess",49401,86,1464,{left:c(S),op:"~min=",right:r("MacroAccess",49411,16,1464,{macroName:"if",macroData:{test:c(M),body:r("MacroAccess",49430,49,1464,{left:c(g),inverted:!1,op:"~-",right:r("Const",49442,1)},"expression",!1,!1,!1),elseIfs:[],elseBody:c(g)}},"expression",!1,!1,!1)},"expression",!1,!1,!1)}],elseBody:r("MacroAccess",49464,87,1464,{left:c(S),op:"~max=",right:r("MacroAccess",49476,16,1464,{macroName:"if",macroData:{test:c(M),body:r("Const",49495,0),elseIfs:[],elseBody:r("MacroAccess",49501,61,1464,{op:"-",node:r("Const",49503,1)},"expression",!1,!1,!1)}},"expression",!1,!1,!1)},"expression",!1,!1,!1)}},"statement",!1,!1,!1))),h=S,[r("MacroAccess",49556,17,1467,{macroName:"if",macroData:{test:r("MacroAccess",49559,10,1467,{left:c(k),inverted:!1,op:"~>",right:r("Const",49569,0)},"expression",!1,!1,!1),body:r("MacroAccess",49571,16,1468,{macroName:"if",macroData:{test:c(M),body:r("MacroAccess",49603,9,1468,{left:c(v),inverted:!1,op:"~<=",right:c(h)},"expression",!1,!1,!1),elseIfs:[],elseBody:r("MacroAccess",49624,9,1468,{left:c(v),inverted:!1,op:"~<",right:c(h)},"expression",!1,!1,!1)}},"statement",!1,!1,!1),elseIfs:[],elseBody:r("MacroAccess",49657,16,1470,{macroName:"if",macroData:{test:c(M),body:r("MacroAccess",49689,10,1470,{left:c(v),inverted:!1,op:"~>=",right:c(h)},"expression",!1,!1,!1),elseIfs:[],elseBody:r("MacroAccess",49710,9,1470,{left:c(v),inverted:!1,op:"~<",right:c(h)},"expression",!1,!1,!1)}},"statement",!1,!1,!1)}},"expression",!1,!1,!1),r("MacroAccess",49742,52,1471,{left:c(v),op:"~+=",right:c(k)},"expression",!1,!1,!1)]):(y.push(r("MacroAccess",48399,38,1445,{macroName:"let",macroData:{declarable:r("MacroAccess",48403,37,1445,r("MacroAccess",48403,31,1445,{isMutable:"mutable",ident:c(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",48420,16,1445,{macroName:"if",macroData:{test:r("MacroAccess",48423,10,1445,{left:c(k),inverted:!1,op:"~>",right:r("Const",48433,0)},"expression",!1,!1,!1),body:r("Const",48440,0),elseIfs:[],elseBody:r("MacroAccess",48446,49,1445,{left:c(g),inverted:!1,op:"~-",right:r("Const",48458,1)},"expression",!1,!1,!1)}},"expression",!1,!1,!1)}},"statement",!1,!1,!1)),[r("MacroAccess",48488,16,1447,{macroName:"if",macroData:{test:r("MacroAccess",48491,10,1447,{left:c(k),inverted:!1,op:"~>",right:r("Const",48501,0)},"expression",!1,!1,!1),body:r("MacroAccess",48507,9,1447,{left:c(v),inverted:!1,op:"~<",right:c(g)},"expression",!1,!1,!1),elseIfs:[],elseBody:r("MacroAccess",48530,10,1447,{left:c(v),inverted:!1,op:"~>=",right:r("Const",48542,0)},"expression",!1,!1,!1)}},"expression",!1,!1,!1),r("MacroAccess",48560,52,1448,{left:c(v),op:"~+=",right:c(k)},"expression",!1,!1,!1)])),T=n[0],b=n[1],this.hasFunc(u)?(d=this.tmp("f",!1,"function"),F&&L!==F.ident&&(u=r("Block",49917,[r("MacroAccess",49917,38,1478,{macroName:"let",macroData:{declarable:r("MacroAccess",49932,37,1478,r("MacroAccess",49932,31,1478,{ident:c(F)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:c(L)}},"statement",!1,!1,!1),c(u)],null)),A?(y.push(r("MacroAccess",50017,38,1481,{macroName:"let",macroData:{declarable:r("MacroAccess",50021,37,1481,r("MacroAccess",50021,31,1481,{ident:c(d)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Function",50031,[r("Param",50032,c(L),void 0,!1,!1,void 0),r("Param",50045,c(v),void 0,!1,!1,void 0)],c(u),!0,!1,!1,void 0,!1,[])}},"statement",!1,!1,!1)),u=r("Call",50085,c(d),[r("This",50093),c(w),c(v)],!1,!0)):(y.push(r("MacroAccess",50156,38,1484,{macroName:"let",macroData:{declarable:r("MacroAccess",50160,37,1484,r("MacroAccess",50160,31,1484,{ident:c(d)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Function",50170,[r("Param",50171,c(L),void 0,!1,!1,void 0)],c(u),!0,!1,!1,void 0,!1,[])}},"statement",!1,!1,!1)),u=r("Call",50216,c(d),[r("This",50224),c(w)],!1,!0))):u=L===F.ident||"filter"!==E?r("Block",50326,[r("MacroAccess",50326,38,1488,{macroName:"let",macroData:{declarable:r("MacroAccess",50339,37,1488,r("MacroAccess",50339,31,1488,{ident:c(F)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:c(w)}},"statement",!1,!1,!1),c(u)],null):r("Block",50408,[r("MacroAccess",50408,38,1492,{macroName:"let",macroData:{declarable:r("MacroAccess",50421,37,1492,r("MacroAccess",50421,31,1492,{ident:c(L)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:c(w)}},"statement",!1,!1,!1),r("MacroAccess",50449,38,1493,{macroName:"let",macroData:{declarable:r("MacroAccess",50462,37,1493,r("MacroAccess",50462,31,1493,{ident:c(F)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:c(L)}},"statement",!1,!1,!1),c(u)],null),"every"===E?r("MacroAccess",50543,106,1497,{macroName:"for",macroData:{reducer:"every",init:c(y),test:c(T),step:c(b),body:c(u),elseBody:c(p)}},"expression",!1,!1,!1):"some"===E?r("MacroAccess",50672,106,1502,{macroName:"for",macroData:{reducer:"some",init:c(y),test:c(T),step:c(b),body:c(u),elseBody:c(p)}},"expression",!1,!1,!1):"first"===E?r("MacroAccess",50801,106,1507,{macroName:"for",macroData:{reducer:"first",init:c(y),test:c(T),step:c(b),body:c(u),elseBody:c(p)}},"expression",!1,!1,!1):"filter"===E?(u=this.mutateLast(u,function(e){return r("MacroAccess",50976,17,1513,{macroName:"if",macroData:{test:c(e),body:c(L),elseIfs:[]}},"statement",!1,!1,!1)}),r("MacroAccess",51023,106,1515,{macroName:"for",macroData:{init:c(y),test:c(T),step:c(b),body:c(u),elseBody:c(p)}},"expression",!1,!1,!1)):this.position==="expression"?r("MacroAccess",51154,106,1520,{macroName:"for",macroData:{init:c(y),test:c(T),step:c(b),body:c(u),elseBody:c(p)}},"expression",!1,!1,!1):r("MacroAccess",51257,106,1526,{macroName:"for",macroData:{init:c(y),test:c(T),step:c(b),body:c(u),elseBody:c(p)}},"statement",!1,!1,!1))}}).call(this);',params:[["ident","reducer","many","?","choice",["const","every"],["const","some"],["const","first"],["const","filter"]],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["ident","value","ident","Identifier"],["ident","length","many","?","sequence",["const",","],["this","ident","Identifier"]]],["const","in"],["ident","array","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"for",id:113},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o,n,i,l,m,u;return m=e.macroName,l=e.macroData,u=l.value,n=l.index,a=l.array,r=l.current,o=l.currentStart,c=l.body,u=this.macroExpand1(u),c=this.mutateLast(c||this.noop(),function(e){return s("MacroAccess",51675,30,1533,{left:t(r),op:":=",right:t(e)},"expression",!1,!1,!1)}),null!=n&&(i=n.length),null!=n&&(n=n.value),s("Block",51760,[s("MacroAccess",51760,38,1537,{macroName:"let",macroData:{declarable:s("MacroAccess",51769,37,1537,s("MacroAccess",51769,31,1537,{isMutable:"mutable",ident:t(r)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:t(o)}},"statement",!1,!1,!1),s("MacroAccess",51804,113,1538,{macroName:"for",macroData:{value:s("MacroAccess",51813,37,1538,s("MacroAccess",51813,31,1538,{ident:t(u)},"statement",!1,!1,!1),"statement",!1,!1,!1),index:{value:t(n),length:t(i)},array:t(a),body:t(c)}},"statement",!1,!1,!1),t(r)],null)}}).call(this);',params:[["const","reduce"],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["ident","value","ident","Identifier"],["ident","length","many","?","sequence",["const",","],["this","ident","Identifier"]]],["const","in"],["ident","array","ident","Logic"],["const",","],["ident","current","ident","Identifier"],["const","="],["ident","currentStart"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"for",id:114},{code:'return(function(){"use strict";var e,t;return e=function(e){var s;if(s=typeof e,"string"===s)return e;if("number"===s)return String(e);throw TypeError("Expected a string or number, got "+t(e))},t=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(t,s,a,c){var r,o,n,i,l,m,u,p,h,d,A,f,M,v,b,y,x,N,g,D;return f=t.macroName,A=t.macroData,y=A.reducer,u=A.key,g=A.value,N=A.type,M=A.object,o=A.body,n=A.elseBody,l=null,g&&(l=g.index,g=this.macroExpand1(g.value)),v="of"===N,m=[],(v||g)&&(M=this.cache(M,m,"obj",!1)),this.let(u,!1,this.type("string")),h=g&&this.macroExpandAll(a("MacroAccess",52517,38,1554,{macroName:"let",macroData:{declarable:a("MacroAccess",52521,37,1554,a("MacroAccess",52521,31,1554,{ident:s(g)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("Access",52530,s(M),s(u))}},"statement",!1,!1,!1)),p=l&&this.macroExpandAll(a("MacroAccess",52596,38,1555,{macroName:"let",macroData:{declarable:a("MacroAccess",52600,37,1555,a("MacroAccess",52600,31,1555,{isMutable:"mutable",ident:s(l)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("MacroAccess",52617,61,1555,{op:"-",node:a("Const",52619,1)},"expression",!1,!1,!1)}},"statement",!1,!1,!1)),this.hasFunc(o)?(i=this.tmp("f",!1,"function"),g&&(D=g.type==="ident"?g.ident:this.tmp("v",!1)),g&&D!==g.ident&&(o=a("Block",52854,[a("MacroAccess",52854,38,1561,{macroName:"let",macroData:{declarable:a("MacroAccess",52867,37,1561,a("MacroAccess",52867,31,1561,{ident:s(g)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s(D)}},"statement",!1,!1,!1),s(o)],null)),l?(m.push(a("MacroAccess",52943,38,1564,{macroName:"let",macroData:{declarable:a("MacroAccess",52947,37,1564,a("MacroAccess",52947,31,1564,{ident:s(i)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("Function",52957,[a("Param",52958,s(u),void 0,!1,!1,void 0),a("Param",52963,s(D),void 0,!1,!1,void 0),a("Param",52977,s(l),void 0,!1,!1,void 0)],s(o),!0,!1,!1,void 0,!1,[])}},"statement",!1,!1,!1)),o=a("Call",53017,s(i),[a("This",53025),s(u),a("Access",53036,s(M),s(u)),s(l)],!1,!0)):g?(m.push(a("MacroAccess",53103,38,1567,{macroName:"let",macroData:{declarable:a("MacroAccess",53107,37,1567,a("MacroAccess",53107,31,1567,{ident:s(i)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("Function",53117,[a("Param",53118,s(u),void 0,!1,!1,void 0),a("Param",53123,s(D),void 0,!1,!1,void 0)],s(o),!0,!1,!1,void 0,!1,[])}},"statement",!1,!1,!1)),o=a("Call",53169,s(i),[a("This",53177),s(u),a("Access",53188,s(M),s(u))],!1,!0)):(m.push(a("MacroAccess",53238,38,1570,{macroName:"let",macroData:{declarable:a("MacroAccess",53242,37,1570,a("MacroAccess",53242,31,1570,{ident:s(i)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("Function",53252,[a("Param",53253,s(u),void 0,!1,!1,void 0)],s(o),!0,!1,!1,void 0,!1,[])}},"statement",!1,!1,!1)),o=a("Call",53290,s(i),[a("This",53298),s(u)],!1,!0))):g&&(o=a("Block",53347,[s(h),s(o)],null)),b=[],n&&(x=this.tmp("else",!1,"boolean"),m.push(a("MacroAccess",53485,38,1580,{macroName:"let",macroData:{declarable:a("MacroAccess",53489,37,1580,a("MacroAccess",53489,31,1580,{ident:s(x)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:c("true")}},"statement",!1,!1,!1)),o=a("Block",53526,[a("MacroAccess",53526,30,1582,{left:s(x),op:":=",right:c("false")},"statement",!1,!1,!1),s(o)],null),b.push(a("MacroAccess",53587,17,1585,{macroName:"if",macroData:{test:s(x),body:s(n),elseIfs:[]}},"statement",!1,!1,!1))),l&&(m.push(p),o=a("Block",53689,[a("MacroAccess",53689,52,1591,{left:s(l),op:"~+=",right:a("Const",53708,1)},"statement",!1,!1,!1),s(o)],null)),v&&(o=a("MacroAccess",53756,17,1596,{macroName:"if",macroData:{test:a("MacroAccess",53766,73,1596,{left:s(M),inverted:!1,op:"ownskey",right:s(u)},"statement",!1,!1,!1),body:s(o),elseIfs:[]}},"statement",!1,!1,!1)),y?"first"===y?(o=this.mutateLast(o||this.noop(),function(e){return a("MacroAccess",53910,39,1601,{macroName:"return",macroData:{node:s(e)}},"statement",!1,!1,!1)}),d=this.forIn(u,M,o),a("MacroAccess",53982,0,1603,{macroName:"do",macroData:{body:a("Block",53986,[s(m),s(d),s(n)],null)}},"statement",!1,!1,!1)):(n&&this.error("Cannot use a for loop with an else with "+e(y),n),"some"===y?(o=this.mutateLast(o||this.noop(),function(e){return a("MacroAccess",54243,17,1612,{macroName:"if",macroData:{test:s(e),body:a("MacroAccess",54264,39,1613,{macroName:"return",macroData:{node:c("true")}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1)}),d=this.forIn(u,M,o),a("MacroAccess",54351,0,1615,{macroName:"do",macroData:{body:a("Block",54355,[s(m),s(d),c("false")],null)}},"statement",!1,!1,!1)):"every"===y?(o=this.mutateLast(o||this.noop(),function(e){return a("MacroAccess",54506,17,1621,{macroName:"if",macroData:{test:a("MacroAccess",54520,3,1621,{op:"not",node:s(e)},"statement",!1,!1,!1),body:a("MacroAccess",54531,39,1622,{macroName:"return",macroData:{node:c("false")}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1)}),d=this.forIn(u,M,o),a("MacroAccess",54619,0,1624,{macroName:"do",macroData:{body:a("Block",54623,[s(m),s(d),c("true")],null)}},"statement",!1,!1,!1)):this.error("Unknown reducer: "+e(y))):this.position==="expression"?(n&&this.error("Cannot use a for loop with an else as an expression",n),r=this.tmp("arr",!1,this.type(o).array()),o=this.mutateLast(o||this.noop(),function(e){return a("Call",54984,a("Access",54984,s(r),a("Const",54990,"push")),[s(e)],!1,!1)}),m.unshift(a("MacroAccess",55024,38,1635,{macroName:"let",macroData:{declarable:a("MacroAccess",55028,37,1635,a("MacroAccess",55028,31,1635,{ident:s(r)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("Array",55035,[])}},"statement",!1,!1,!1)),d=this.forIn(u,M,o),a("Block",55093,[s(m),s(d),s(r)],null)):(d=this.forIn(u,M,o),a("Block",55197,[s(m),s(d),s(b)],null))}}).call(this);',params:[["ident","reducer","many","?","choice",["const","every"],["const","some"],["const","first"]],["ident","key","ident","Identifier"],["ident","value","many","?","sequence",["const",","],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]]],["ident","type","choice",["const","of"],["const","ofall"]],["ident","object","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"for",id:115},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o,n,i,l,m,u,p,h;return m=e.macroName,l=e.macroData,n=l.key,h=l.value,p=l.type,u=l.object,c=l.current,r=l.currentStart,a=l.body,a=this.mutateLast(a||this.noop(),function(e){return s("MacroAccess",55546,30,1649,{left:t(c),op:":=",right:t(e)},"expression",!1,!1,!1)}),null!=h&&(o=h.index),null!=h&&(h=h.value),i="of"===p?s("MacroAccess",55661,115,1653,{macroName:"for",macroData:{key:t(n),value:{value:s("MacroAccess",55671,37,1653,s("MacroAccess",55671,31,1653,{ident:t(h)},"statement",!1,!1,!1),"statement",!1,!1,!1),index:t(o)},type:"of",object:t(u),body:t(a)}},"statement",!1,!1,!1):s("MacroAccess",55730,115,1656,{macroName:"for",macroData:{key:t(n),value:{value:s("MacroAccess",55740,37,1656,s("MacroAccess",55740,31,1656,{ident:t(h)},"statement",!1,!1,!1),"statement",!1,!1,!1),index:t(o)},type:"ofall",object:t(u),body:t(a)}},"statement",!1,!1,!1),s("Block",55792,[s("MacroAccess",55792,38,1659,{macroName:"let",macroData:{declarable:s("MacroAccess",55801,37,1659,s("MacroAccess",55801,31,1659,{isMutable:"mutable",ident:t(c)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:t(r)}},"statement",!1,!1,!1),t(i),t(c)],null)}}).call(this);',params:[["const","reduce"],["ident","key","ident","Identifier"],["ident","value","many","?","sequence",["const",","],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]]],["ident","type","choice",["const","of"],["const","ofall"]],["ident","object","ident","Logic"],["const",","],["ident","current","ident","Identifier"],["const","="],["ident","currentStart"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"for",id:116},{code:'return(function(){"use strict";var e,t,s,a;return e=typeof Array.isArray=="function"?Array.isArray:function(){var e;return e=Object.prototype.toString,function(t){return e.call(t)==="[object Array]"}}(),t=Array.prototype.slice,s=function(s){if(null==s)throw TypeError("Expected an object, got "+a(s));if(e(s))return s;if("string"==typeof s)return s.split("");if(typeof s.length=="number")return t.call(s);throw TypeError("Expected an object with a length property, got "+a(s))},a=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(e,t,a,c){var r,o,n,i,l,m,u,p,h,d,f,A,M,b,v,y;if(M=e.macroName,A=e.macroData,v=A.tryBody,y=A.typedCatches,m=A.catchPart,p=A.elseBody,h=A.finallyBody,d=!!p,y.length!==0||m||d||h||this.error("Must provide at least a catch, else, or finally to a try block"),null!=m&&(l=m.ident),null!=m&&(i=m.body),y.length!==0){for(l||(l=y[0].ident),u=i||a("MacroAccess",70896,11,2081,{op:"throw",node:t(l)},"statement",!1,!1,!1),r=s(y),n=r.length,o=function(e){var c,r,o,n,i;return c=this,o=e.ident,r=this.name(o)!==this.name(l)?a("MacroAccess",71036,38,2084,{macroName:"let",macroData:{declarable:a("MacroAccess",71040,37,2084,a("MacroAccess",71040,31,2084,{ident:t(o)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:t(l)}},"statement",!1,!1,!1):this.noop(),e.check.type==="as"?(n=this.array(function(){var t,a,r,o,n;for(t=[],a=s(c.isTypeUnion(e.check.value)?c.types(e.check.value):[e.check.value]),r=0,o=a.length;o>r;++r)n=a[r],c.isTypeArray(n)?c.error("Expected a normal type, cannot use an array type",n):c.isTypeGeneric(n)?c.error("Expected a normal type, cannot use a generic type",n):c.isTypeFunction(n)?c.error("Expected a normal type, cannot use a function type",n):c.isTypeObject(n)&&c.error("Expected a normal type, cannot use an object type",n),t.push(n);return t}()),u=a("MacroAccess",71803,17,2099,{macroName:"if",macroData:{test:a("MacroAccess",71817,118,2099,{left:t(l),inverted:!1,op:"instanceofsome",right:t(n)},"statement",!1,!1,!1),body:a("Block",71853,[t(r),t(e.body)],null),elseIfs:[],elseBody:t(u)}},"statement",!1,!1,!1)):(i=e.check.value,u=a("MacroAccess",72021,17,2107,{macroName:"if",macroData:{test:a("MacroAccess",72035,5,2107,{left:t(l),inverted:!1,op:"==",right:t(i)},"statement",!1,!1,!1),body:a("Block",72059,[t(r),t(e.body)],null),elseIfs:[],elseBody:t(u)}},"statement",!1,!1,!1))};n--;)o.call(this,r[n]);i=u}return f=[],d&&(b=this.tmp("else",!1,"boolean"),f.push(a("MacroAccess",72286,38,2116,{macroName:"let",macroData:{declarable:a("MacroAccess",72290,37,2116,a("MacroAccess",72290,31,2116,{ident:t(b)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:c("true")}},"statement",!1,!1,!1)),i?i=a("Block",72354,[a("MacroAccess",72354,30,2119,{left:t(b),op:":=",right:c("false")},"statement",!1,!1,!1),t(i)],null):(l=this.tmp("err"),i=a("Block",72475,[a("MacroAccess",72475,30,2124,{left:t(b),op:":=",right:c("false")},"statement",!1,!1,!1),a("MacroAccess",72504,11,2125,{op:"throw",node:t(l)},"statement",!1,!1,!1)],null))),u=v,i&&(u=this.tryCatch(u,l||this.tmp("err"),i)),d&&(u=this.tryFinally(u,a("MacroAccess",72722,17,2132,{macroName:"if",macroData:{test:t(b),body:t(p),elseIfs:[]}},"statement",!1,!1,!1))),h&&(u=this.tryFinally(u,h)),a("Block",72846,[t(f),t(u)],null)}}).call(this);',params:[["ident","tryBody","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","typedCatches","many","*","sequence",["const","\n"],["const","catch"],["ident","ident","ident","Identifier"],["ident","check","choice",["sequence",["ident","type","const","as"],["ident","value","ident","Type"]],["sequence",["ident","type","const","=="],["ident","value","ident","Expression"]]],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","catchPart","many","?","sequence",["const","\n"],["const","catch"],["ident","ident","many","?","ident","Identifier"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","finallyBody","many","?","sequence",["const","\n"],["const","finally"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"try",id:119},{code:'return(function(){"use strict";return function(e,t,s,a){var c,r,o,n,i,l,m,u,p,d,h,A,f,M,y,b,v,x;return A=e.macroName,h=e.macroData,y=h.reducer,x=h.value,l=h.index,p=h.iterable,c=h.body,o=h.elseBody,m=[],d=this.cache(s("Call",74023,s("Ident",74023,"__iter"),[t(p)],!1,!1),m,"iter",!1),u=this.tmp("item",!1),n=this.tmp("e",!0),v=[],l&&(m.push(s("MacroAccess",74178,38,2180,{macroName:"let",macroData:{declarable:s("MacroAccess",74182,37,2180,s("MacroAccess",74182,31,2180,{isMutable:"mutable",ident:t(l)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s("Const",74200,0)}},"statement",!1,!1,!1)),v.push(s("MacroAccess",74222,52,2181,{left:t(l),op:"~+=",right:s("Const",74234,1)},"expression",!1,!1,!1))),r=s("Block",74267,[s("MacroAccess",74267,38,2184,{macroName:"let",macroData:{declarable:s("MacroAccess",74276,37,2184,s("MacroAccess",74276,31,2184,{ident:t(u)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s("Call",74284,s("Access",74284,t(d),s("Const",74295,"next")),[],!1,!1)}},"statement",!1,!1,!1),s("MacroAccess",74302,17,2185,{macroName:"if",macroData:{test:s("Access",74310,t(u),s("Const",74317,"done")),body:s("MacroAccess",74322,19,2186,{macroName:"break",macroData:{}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1),s("MacroAccess",74336,38,2187,{macroName:"let",macroData:{declarable:s("MacroAccess",74345,37,2187,s("MacroAccess",74345,31,2187,{ident:t(x)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s("Access",74354,t(u),s("Const",74361,"value"))}},"statement",!1,!1,!1)],null),M=[],o&&!y&&this.position!=="expression"&&(b=this.tmp("else",!1,"boolean"),m.push(s("MacroAccess",74519,38,2192,{macroName:"let",macroData:{declarable:s("MacroAccess",74523,37,2192,s("MacroAccess",74523,31,2192,{ident:t(b)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("true")}},"statement",!1,!1,!1)),c=s("Block",74560,[s("MacroAccess",74560,30,2194,{left:t(b),op:":=",right:a("false")},"statement",!1,!1,!1),t(c)],null),M.push(s("MacroAccess",74621,17,2197,{macroName:"if",macroData:{test:t(b),body:t(o),elseIfs:[]}},"statement",!1,!1,!1))),this.hasFunc(c)?(i=this.tmp("f",!1,"function"),l?(m.push(s("MacroAccess",74910,38,2208,{macroName:"let",macroData:{declarable:s("MacroAccess",74914,37,2208,s("MacroAccess",74914,31,2208,{ident:t(i)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s("MacroAccess",74924,117,2208,{op:"",node:s("Function",74924,[s("Param",74925,t(x),void 0,!1,!1,void 0),s("Param",74932,t(l),void 0,!1,!1,void 0)],t(c),!0,!1,!1,void 0,!1,[])},"expression",!1,!1,!1)}},"statement",!1,!1,!1)),c=s("Block",74970,[t(r),s("Call",74995,t(i),[s("This",75012),t(x),t(l)],!1,!0)],null)):(m.push(s("MacroAccess",74770,38,2203,{macroName:"let",macroData:{declarable:s("MacroAccess",74774,37,2203,s("MacroAccess",74774,31,2203,{ident:t(i)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s("MacroAccess",74784,117,2203,{op:"",node:s("Function",74784,[s("Param",74785,t(x),void 0,!1,!1,void 0)],t(c),!0,!1,!1,void 0,!1,[])},"expression",!1,!1,!1)}},"statement",!1,!1,!1)),c=s("Block",74822,[t(r),s("Call",74847,t(i),[s("This",74864),t(x)],!1,!0)],null))):c=s("Block",75061,[t(r),t(c)],null),"every"===y?f=s("MacroAccess",75145,106,2218,{macroName:"for",macroData:{reducer:"every",init:t(m),test:a("true"),step:t(v),body:t(c),elseBody:t(o)}},"expression",!1,!1,!1):"some"===y?f=s("MacroAccess",75258,106,2223,{macroName:"for",macroData:{reducer:"some",init:t(m),test:a("true"),step:t(v),body:t(c),elseBody:t(o)}},"expression",!1,!1,!1):"first"===y?f=s("MacroAccess",75371,106,2228,{macroName:"for",macroData:{reducer:"first",init:t(m),test:a("true"),step:t(v),body:t(c),elseBody:t(o)}},"expression",!1,!1,!1):"filter"===y?(c=this.mutateLast(c,function(e){return s("MacroAccess",75528,17,2234,{macroName:"if",macroData:{test:t(e),body:t(x),elseIfs:[]}},"statement",!1,!1,!1)}),f=s("MacroAccess",75565,106,2236,{macroName:"for",macroData:{init:t(m),test:a("true"),step:t(v),body:t(c),elseBody:t(o)}},"expression",!1,!1,!1)):f=this.position==="expression"?s("MacroAccess",75680,106,2241,{macroName:"for",macroData:{init:t(m),test:a("true"),step:t(v),body:t(c),elseBody:t(o)}},"expression",!1,!1,!1):s("Block",75767,[s("MacroAccess",75767,106,2247,{macroName:"for",macroData:{init:t(m),test:a("true"),step:t(v),body:t(c)}},"statement",!1,!1,!1),t(M)],null),s("MacroAccess",75840,119,2251,{macroName:"try",macroData:{tryBody:t(f),typedCatches:[],finallyBody:s("MacroAccess",75869,119,2254,{macroName:"try",macroData:{tryBody:s("Call",75879,s("Access",75879,t(d),s("Const",75897,"close")),[],!1,!1),typedCatches:[],catchPart:{ident:t(n),body:a("void")}}},"statement",!1,!1,!1)}},"statement",!1,!1,!1)}}).call(this);',params:[["ident","reducer","many","?","choice",["const","every"],["const","some"],["const","first"],["const","filter"]],["ident","value","ident","Identifier"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","from"],["ident","iterable","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"for",id:120},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o,n,i,l,m;return l=e.macroName,i=e.macroData,m=i.value,o=i.index,n=i.iterator,c=i.current,r=i.currentStart,a=i.body,a=this.mutateLast(a||this.noop(),function(e){return s("MacroAccess",76188,30,2260,{left:t(c),op:":=",right:t(e)},"expression",!1,!1,!1)}),s("Block",76216,[s("MacroAccess",76216,38,2262,{macroName:"let",macroData:{declarable:s("MacroAccess",76225,37,2262,s("MacroAccess",76225,31,2262,{isMutable:"mutable",ident:t(c)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:t(r)}},"statement",!1,!1,!1),s("MacroAccess",76260,120,2263,{macroName:"for",macroData:{value:t(m),index:t(o),iterable:t(n),body:t(a)}},"statement",!1,!1,!1),t(c)],null)}}).call(this);',params:[["const","reduce"],["ident","value","ident","Identifier"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","from"],["ident","iterator","ident","Logic"],["const",","],["ident","current","ident","Identifier"],["const","="],["ident","currentStart"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"for",id:121},{code:'return(function(){"use strict";var e,t,s,a,c;return e=typeof Array.isArray=="function"?Array.isArray:function(){var e;return e=Object.prototype.toString,function(t){return e.call(t)==="[object Array]"}}(),t=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+c(e));return e},s=Array.prototype.slice,a=function(t){if(null==t)throw TypeError("Expected an object, got "+c(t));if(e(t))return t;if("string"==typeof t)return t.split("");if(typeof t.length=="number")return s.call(t);throw TypeError("Expected an object with a length property, got "+c(t))},c=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(e){var s,c,r,o,n,i,l,m,u,p,h,d,f,A,M,y,b,v,x;for(y=e.macroName,M=e.macroData,b=M.node,h=M.cases,d=M.defaultCase,x=[],s=a(h),r=0,n=s.length;n>r;++r){for(m=s[r],p=[m.nodeHead].concat(m.nodeTail),l=m.body,f=!1,this.isBlock(l)?(v=this.nodes(l),A=v[t(v.length)-1],this.isIdent(A)&&this.name(A)==="fallthrough"&&(l=this.block(v.slice(0,-1)),f=!0)):this.isIdent(l)&&this.name(l)==="fallthrough"&&(l=this.noop(),f=!0),c=a(p.slice(0,-1)),o=0,i=c.length;i>o;++o)u=c[o],x.push({node:u,body:this.noop(),fallthrough:!0});x.push({node:p[t(p.length)-1],body:l,fallthrough:f})}return this["switch"](b,x,d)}}).call(this);',params:[["ident","node","ident","Logic"],["ident","cases","many","*","sequence",["const","\n"],["const","case"],["ident","nodeHead","ident","Logic"],["ident","nodeTail","many","*","sequence",["const",","],["this","ident","Logic"]],["ident","body","many","?","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","defaultCase","many","?","sequence",["const","\n"],["const","default"],["this","many","?","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"switch",id:122},{code:'return(function(){"use strict";var e,t,s,a,c;return e=typeof Array.isArray=="function"?Array.isArray:function(){var e;return e=Object.prototype.toString,function(t){return e.call(t)==="[object Array]"}}(),t=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+c(e));return e},s=Array.prototype.slice,a=function(t){if(null==t)throw TypeError("Expected an object, got "+c(t));if(e(t))return t;if("string"==typeof t)return t.split("");if(typeof t.length=="number")return s.call(t);throw TypeError("Expected an object with a length property, got "+c(t))},c=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(e,s,c,r){var o,n,i,l,m,u,p,h,d,f,A,M,y,b,v;for(M=e.macroName,A=e.macroData,m=A.cases,p=A.defaultCase,u=p,o=a(m),n=o.length;n--;)l=o[n],v=l.test,i=l.body,d=!1,b=void 0,this.isBlock(i)?(y=this.nodes(i),f=y[t(y.length)-1],this.isIdent(f)&&this.name(f)==="fallthrough"&&(i=this.block(y.slice(0,-1)),this.isIf(u)?(h=this.tmp("fall",!1,"boolean"),b=c("Block",78153,[c("MacroAccess",78153,38,2309,{macroName:"let",macroData:{declarable:c("MacroAccess",78170,37,2309,c("MacroAccess",78170,31,2309,{isMutable:"mutable",ident:s(h)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("false")}},"statement",!1,!1,!1),c("MacroAccess",78193,17,2310,{macroName:"if",macroData:{test:s(v),body:c("Block",78216,[c("MacroAccess",78216,30,2311,{left:s(h),op:":=",right:r("true")},"statement",!1,!1,!1),s(i)],null),elseIfs:[]}},"statement",!1,!1,!1),c("MacroAccess",78268,17,2313,{macroName:"if",macroData:{test:c("MacroAccess",78284,2,2313,{left:s(h),inverted:!1,op:"or",right:s(this.test(u))},"statement",!1,!1,!1),body:s(this.whenTrue(u)),elseIfs:[],elseBody:s(this.whenFalse(u))}},"statement",!1,!1,!1)],null)):b=c("Block",78441,[c("MacroAccess",78441,17,2319,{macroName:"if",macroData:{test:s(v),body:s(i),elseIfs:[]}},"statement",!1,!1,!1),s(u)],null))):this.isIdent(i)&&this.name(i)==="fallthrough"&&(b=this.isIf(u)?c("MacroAccess",78621,17,2324,{macroName:"if",macroData:{test:c("MacroAccess",78624,2,2324,{left:s(v),inverted:!1,op:"or",right:s(this.test(u))},"statement",!1,!1,!1),body:s(this.whenTrue(u)),elseIfs:[],elseBody:s(this.whenFalse(u))}},"statement",!1,!1,!1):c("Block",78775,[s(v),s(u)],null)),u=b||c("MacroAccess",78846,17,2333,{macroName:"if",macroData:{test:s(l.test),body:s(i),elseIfs:[],elseBody:s(u)}},"statement",!1,!1,!1);return u}}).call(this);',params:[["ident","cases","many","*","sequence",["const","\n"],["const","case"],["ident","test","ident","Logic"],["ident","body","many","?","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","defaultCase","many","?","sequence",["const","\n"],["const","default"],["this","many","?","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"switch",id:123},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o,n,i;return n=e.macroName,o=e.macroData,i=o.params,c=o.call,a=o.body,this.isCall(c)||this.error("async call expression must be a call",c),null==a&&(a=this.noop()),i=i?[i.head].concat(i.tail):[],r=this.func(i,a,!0,!0),this.call(this.callFunc(c),this.callArgs(c).concat([s("MacroAccess",81911,126,2449,{macroName:"once!",macroData:[s("MacroAccess",81919,117,2449,{op:"mutateFunction!",node:t(r)},"expression",!1,!1,!1)]},"expression",!1,!1,!1)]),this.callIsNew(c),this.callIsApply(c))}}).call(this);',params:[["ident","params","many","?","sequence",["ident","head","ident","Parameter"],["ident","tail","many","*","sequence",["const",","],["this","ident","Parameter"]]],["const","<-"],["ident","call","ident","Expression"],["ident","body","ident","DedentedBody"]],names:"async",id:127},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o,n,i,l,m;return l=e.macroName,i=e.macroData,r=i.callback,m=i.params,c=i.call,a=i.body,this.isCall(c)||this.error("async! call expression must be a call",c),null==a&&(a=this.noop()),o=this.tmp("e",!1),m=[this.param(o)].concat(m),n=this.func(m,"throw"===r?s("Block",82391,[s("MacroAccess",82391,102,2463,{op:"throw?",node:t(o)},"statement",!1,!1,!1),t(a)],null):s("Block",82454,[s("MacroAccess",82454,17,2467,{macroName:"if",macroData:{test:s("MacroAccess",82466,20,2467,{op:"?",node:t(o)},"statement",!1,!1,!1),body:s("MacroAccess",82475,39,2468,{macroName:"return",macroData:{node:s("Call",82493,t(r),[t(o)],!1,!1)}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1),t(a)],null),!0,!0),this.call(this.callFunc(c),this.callArgs(c).concat([s("MacroAccess",82606,126,2472,{macroName:"once!",macroData:[s("MacroAccess",82614,117,2472,{op:"mutateFunction!",node:t(n)},"expression",!1,!1,!1)]},"expression",!1,!1,!1)]),this.callIsNew(c),this.callIsApply(c))}}).call(this);',params:[["ident","callback","choice",["const","throw"],["ident","Expression"]],["ident","params","many","*","sequence",["const",","],["this","ident","Parameter"]],["const","<-"],["ident","call","ident","Expression"],["ident","body","ident","DedentedBody"]],names:"async!",id:128},{code:'return(function(){"use strict";var e,t,s,a,c;return e=typeof Array.isArray=="function"?Array.isArray:function(){var e;return e=Object.prototype.toString,function(t){return e.call(t)==="[object Array]"}}(),t=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+c(e));return e},s=Array.prototype.slice,a=function(t){if(null==t)throw TypeError("Expected an object, got "+c(t));if(e(t))return t;if("string"==typeof t)return t.split("");if(typeof t.length=="number")return s.call(t);throw TypeError("Expected an object with a length property, got "+c(t))},c=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(e,s,r){var o,n,i,l,m,u,p,h,d,f,A,M,y;if(h=e.macroName,p=e.macroData,d=p.name,this.isConst(d)&&typeof this.value(d)!="string"&&this.error("Expected a constant string, got "+c(this.value(d)),d),this.isConst(d))return m=this.value(d),m.indexOf("/")!==-1&&(m=m.substring(t(m.lastIndexOf("/"))+1)),l=this.ident(m),r("MacroAccess",83097,38,2485,{macroName:"let",macroData:{declarable:r("MacroAccess",83101,37,2485,r("MacroAccess",83101,31,2485,{ident:s(l)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Call",83110,r("Ident",83110,"require"),[s(d)],!1,!1)}},"statement",!1,!1,!1);if(this.isIdent(d))return A=this.name(d),r("MacroAccess",83189,38,2488,{macroName:"let",macroData:{declarable:r("MacroAccess",83193,37,2488,r("MacroAccess",83193,31,2488,{ident:s(d)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Call",83201,r("Ident",83201,"require"),[s(A)],!1,!1)}},"statement",!1,!1,!1);if(this.isObject(d)){for(M=[],o=a(this.pairs(d)),n=0,i=o.length;i>n;++n)f=o[n],u=f.key,y=f.value,this.isConst(u)||this.error("If providing an object to require!, all keys must be constant strings",u),m=this.value(u),m.indexOf("/")!==-1&&(m=m.substring(t(m.lastIndexOf("/"))+1)),l=this.ident(m),this.isConst(y)?M.push(r("MacroAccess",83710,38,2500,{macroName:"let",macroData:{declarable:r("MacroAccess",83714,37,2500,r("MacroAccess",83714,31,2500,{ident:s(l)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Call",83723,r("Ident",83723,"require"),[s(y)],!1,!1)}},"statement",!1,!1,!1)):this.isIdent(y)?(A=this.name(y),M.push(r("MacroAccess",83831,38,2503,{macroName:"let",macroData:{declarable:r("MacroAccess",83835,37,2503,r("MacroAccess",83835,31,2503,{ident:s(l)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Call",83844,r("Ident",83844,"require"),[s(A)],!1,!1)}},"statement",!1,!1,!1))):this.error("If providing an object to require!, all values must be constant strings or idents",y);return this.block(M)}return this.error("Expected either a constant string or ident or object",d)}}).call(this);',params:[["ident","name","ident","Expression"]],names:"require!",id:129},{code:'return(function(){"use strict";return function(e,t,s,a){var c,r,o,n,i,l,m,u,d,p,h,f,A,M,y,b;return d=e.macroName,u=e.macroData,A=u.results,p=u.next,m=u.init,y=u.test,M=u.step,o=u.body,h=u.rest,c=null!=A?A:{},i=c.err,f=c.result,null==i&&(i=this.tmp("err",!0)),null==m&&(m=this.noop()),null==y&&(y=a("true")),null==M&&(M=this.noop()),null==h&&(h=this.noop()),n=this.tmp("done",!0,"function"),f?(l=this.tmp("first",!0,"boolean"),b=this.tmp("value",!0),r=this.tmp("arr",!0),s("Block",87887,[t(m),s("MacroAccess",87901,38,2647,{macroName:"let",macroData:{declarable:s("MacroAccess",87912,37,2647,s("MacroAccess",87912,31,2647,{ident:t(l)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("true")}},"statement",!1,!1,!1),s("MacroAccess",87927,38,2648,{macroName:"let",macroData:{declarable:s("MacroAccess",87938,37,2648,s("MacroAccess",87938,31,2648,{ident:t(r)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s("Array",87945,[])}},"statement",!1,!1,!1),s("MacroAccess",87949,15,2649,{macroName:"let",macroData:{ident:t(p),func:s("MacroAccess",87966,117,2649,{op:"",node:s("Function",87966,[s("Param",87967,t(i),void 0,!1,!1,void 0),s("Param",87972,t(b),void 0,!1,!1,void 0)],s("Block",87982,[s("MacroAccess",87982,17,2650,{macroName:"if",macroData:{test:s("MacroAccess",87994,20,2650,{op:"?",node:t(i)},"statement",!1,!1,!1),body:s("MacroAccess",88001,39,2651,{macroName:"return",macroData:{node:s("Call",88019,t(n),[t(i)],!1,!1)}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1),s("MacroAccess",88032,17,2652,{macroName:"if",macroData:{test:t(l),body:s("MacroAccess",88052,30,2653,{left:t(l),op:":=",right:a("false")},"statement",!1,!1,!1),elseIfs:[],elseBody:s("Block",88095,[t(M),s("MacroAccess",88113,17,2656,{macroName:"if",macroData:{test:s("MacroAccess",88127,10,2656,{left:s("Access",88127,s("Args",88127),s("Const",88138,"length")),inverted:!1,op:"~>",right:s("Const",88148,1)},"statement",!1,!1,!1),body:s("Call",88150,s("Access",88150,t(r),s("Const",88169,"push")),[t(b)],!1,!1),elseIfs:[]}},"statement",!1,!1,!1)],null)}},"statement",!1,!1,!1),s("MacroAccess",88181,17,2658,{macroName:"unless",macroData:{test:t(y),body:s("MacroAccess",88204,39,2659,{macroName:"return",macroData:{node:s("Call",88222,t(n),[a("null"),t(r)],!1,!1)}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1),t(o)],null),!0,!0,!1,void 0,!1,[])},"statement",!1,!1,!1)}},"statement",!1,!1,!1),s("MacroAccess",88257,15,2661,{macroName:"let",macroData:{ident:t(n),func:s("MacroAccess",88274,117,2661,{op:"",node:s("Function",88274,[s("Param",88275,t(i),void 0,!1,!1,void 0),s("Param",88280,t(f),void 0,!1,!1,void 0)],t(h),!0,!0,!1,void 0,!1,[])},"statement",!1,!1,!1)}},"statement",!1,!1,!1),s("Call",88307,t(p),[],!1,!1)],null)):M?(l=this.tmp("first",!0,"boolean"),s("Block",87401,[t(m),s("MacroAccess",87417,38,2627,{macroName:"let",macroData:{declarable:s("MacroAccess",87430,37,2627,s("MacroAccess",87430,31,2627,{ident:t(l)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("true")}},"statement",!1,!1,!1),s("MacroAccess",87445,15,2628,{macroName:"let",macroData:{ident:t(p),func:s("MacroAccess",87464,117,2628,{op:"",node:s("Function",87464,[s("Param",87465,t(i),void 0,!1,!1,void 0)],s("Block",87472,[s("MacroAccess",87472,17,2629,{macroName:"if",macroData:{test:s("MacroAccess",87486,20,2629,{op:"?",node:t(i)},"statement",!1,!1,!1),body:s("MacroAccess",87493,39,2630,{macroName:"return",macroData:{node:s("Call",87513,t(n),[t(i)],!1,!1)}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1),s("MacroAccess",87526,17,2631,{macroName:"if",macroData:{test:t(l),body:s("MacroAccess",87548,30,2632,{left:t(l),op:":=",right:a("false")},"statement",!1,!1,!1),elseIfs:[],elseBody:t(M)}},"statement",!1,!1,!1),s("MacroAccess",87615,17,2635,{macroName:"unless",macroData:{test:t(y),body:s("MacroAccess",87640,39,2636,{macroName:"return",macroData:{node:s("Call",87660,t(n),[a("null")],!1,!1)}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1),t(o)],null),!0,!0,!1,void 0,!1,[])},"statement",!1,!1,!1)}},"statement",!1,!1,!1),s("MacroAccess",87691,15,2638,{macroName:"let",macroData:{ident:t(n),func:s("MacroAccess",87710,117,2638,{op:"",node:s("Function",87710,[s("Param",87711,t(i),void 0,!1,!1,void 0)],t(h),!0,!0,!1,void 0,!1,[])},"statement",!1,!1,!1)}},"statement",!1,!1,!1),s("Call",87736,t(p),[],!1,!1)],null)):s("Block",87094,[t(m),s("MacroAccess",87110,15,2614,{macroName:"let",macroData:{ident:t(p),func:s("MacroAccess",87129,117,2614,{op:"",node:s("Function",87129,[s("Param",87130,t(i),void 0,!1,!1,void 0)],s("Block",87137,[s("MacroAccess",87137,17,2615,{macroName:"if",macroData:{test:s("MacroAccess",87151,20,2615,{op:"?",node:t(i)},"statement",!1,!1,!1),body:s("MacroAccess",87158,39,2616,{macroName:"return",macroData:{node:s("Call",87178,t(n),[t(i)],!1,!1)}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1),s("MacroAccess",87191,17,2617,{macroName:"unless",macroData:{test:t(y),body:s("MacroAccess",87216,39,2618,{macroName:"return",macroData:{node:s("Call",87236,t(n),[a("null")],!1,!1)}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1),t(o)],null),!0,!0,!1,void 0,!1,[])},"statement",!1,!1,!1)}},"statement",!1,!1,!1),s("MacroAccess",87267,15,2620,{macroName:"let",macroData:{ident:t(n),func:s("MacroAccess",87286,117,2620,{op:"",node:s("Function",87286,[s("Param",87287,t(i),void 0,!1,!1,void 0)],t(h),!0,!0,!1,void 0,!1,[])},"statement",!1,!1,!1)}},"statement",!1,!1,!1),s("Call",87312,t(p),[],!1,!1)],null)}}).call(this);',params:[["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","next","ident","Identifier"],["const",","],["ident","init","choice",["ident","Statement"],["const",""]],["const",";"],["ident","test","choice",["ident","Logic"],["const",""]],["const",";"],["ident","step","choice",["ident","Statement"],["const",""]],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:"asyncfor",id:130},{code:'return(function(){"use strict";var e,t;return e=function(e){var s;if(s=typeof e,"string"===s)return e;if("number"===s)return String(e);throw TypeError("Expected a string or number, got "+t(e))},t=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(t,s,a){var c,r,o,n,i,l,m,u,d,p,h,f,A,M,y,b,v,x,g,N,D;return A=t.macroName,f=t.macroData,y=f.parallelism,x=f.results,M=f.next,D=f.value,u=f.index,r=f.array,o=f.body,b=f.rest,c=null!=x?x:{},i=c.err,v=c.result,l=!!v,null==i&&(i=this.tmp("err",!0)),d=[],null==b&&(b=this.noop()),D=this.macroExpand1(D),p=null,u&&(p=u.length,u=u.value),null==y&&(y=a("Const",88991,1)),null==u&&(u=this.tmp("i",!0,"number")),this.isCall(r)&&this.isIdent(this.callFunc(r))&&this.name(this.callFunc(r))==="__range"&&!this.callIsApply(r)?((this.isArray(D)||this.isObject(D))&&this.error("Cannot assign a number to a complex declarable",D),D=D.ident,c=this.callArgs(r),g=c[0],n=c[1],N=c[2],m=c[3],this.isConst(g)?typeof this.value(g)!="number"&&this.error("Cannot start with a non-number: "+e(this.value(g)),g):g=a("MacroAccess",89577,60,2692,{op:"+",node:s(g)},"expression",!1,!1,!1),this.isConst(n)?typeof this.value(n)!="number"&&this.error("Cannot end with a non-number: "+e(this.value(n)),n):this.isComplex(n)?n=this.cache(a("MacroAccess",89775,60,2698,{op:"+",node:s(n)},"expression",!1,!1,!1),d,"end",!1):d.push(a("MacroAccess",89835,60,2700,{op:"+",node:s(n)},"expression",!1,!1,!1)),this.isConst(N)?typeof this.value(N)!="number"&&this.error("Cannot step with a non-number: "+e(this.value(N)),N):this.isComplex(N)?N=this.cache(a("MacroAccess",90038,60,2706,{op:"+",node:s(N)},"expression",!1,!1,!1),d,"step",!1):d.push(a("MacroAccess",90100,60,2708,{op:"+",node:s(N)},"expression",!1,!1,!1)),o=a("Block",90133,[a("MacroAccess",90133,38,2711,{macroName:"let",macroData:{declarable:a("MacroAccess",90144,37,2711,a("MacroAccess",90144,31,2711,{ident:s(D)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("MacroAccess",90153,49,2711,{left:a("MacroAccess",90153,45,2711,{left:s(u),inverted:!1,op:"~*",right:s(N)},"expression",!1,!1,!1),inverted:!1,op:"~+",right:s(g)},"expression",!1,!1,!1)}},"statement",!1,!1,!1),s(o)],null),h=a("MacroAccess",90223,17,2714,{macroName:"if",macroData:{test:s(m),body:a("MacroAccess",90238,45,2715,{left:a("MacroAccess",90247,49,2715,{left:a("MacroAccess",90247,49,2715,{left:s(n),inverted:!1,op:"~-",right:s(g)},"expression",!1,!1,!1),inverted:!1,op:"~+",right:s(N)},"expression",!1,!1,!1),inverted:!1,op:"~\\\\",right:s(N)},"statement",!1,!1,!1),elseIfs:[],elseBody:a("MacroAccess",90292,45,2717,{left:a("MacroAccess",90301,49,2717,{left:s(n),inverted:!1,op:"~-",right:s(g)},"expression",!1,!1,!1),inverted:!1,op:"~\\\\",right:s(N)},"statement",!1,!1,!1)}},"expression",!1,!1,!1),p?d.push(a("MacroAccess",90408,38,2721,{macroName:"let",macroData:{declarable:a("MacroAccess",90412,37,2721,a("MacroAccess",90412,31,2721,{ident:s(p)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s(h)}},"statement",!1,!1,!1)):p=h):(r=this.cache(r,d,"arr",!0),o=a("Block",90510,[a("MacroAccess",90510,38,2726,{macroName:"let",macroData:{declarable:a("MacroAccess",90521,37,2726,a("MacroAccess",90521,31,2726,{ident:s(D)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("Access",90530,s(r),s(u))}},"statement",!1,!1,!1),s(o)],null),p?d.push(a("MacroAccess",90657,38,2732,{macroName:"let",macroData:{declarable:a("MacroAccess",90661,37,2732,a("MacroAccess",90661,31,2732,{ident:s(p)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("MacroAccess",90671,60,2732,{op:"+",node:a("Access",90673,s(r),a("Const",90680,"length"))},"expression",!1,!1,!1)}},"statement",!1,!1,!1)):p=a("MacroAccess",90609,60,2730,{op:"+",node:a("Access",90611,s(r),a("Const",90618,"length"))},"expression",!1,!1,!1)),a("Block",90700,[s(d),a("Call",90712,a("Ident",90712,"__async"),[a("MacroAccess",90726,60,2736,{op:"+",node:s(y)},"expression",!1,!1,!1),s(p),s(l),a("MacroAccess",90772,117,2737,{op:"",node:a("Function",90772,[a("Param",90773,s(u),void 0,!1,!1,void 0),a("Param",90780,s(M),void 0,!1,!1,void 0)],s(o),!0,!0,!1,void 0,!1,[])},"expression",!1,!1,!1),a("MacroAccess",90806,17,2738,{macroName:"if",macroData:{test:s(l),body:a("MacroAccess",90832,117,2739,{op:"",node:a("Function",90832,[a("Param",90833,s(i),void 0,!1,!1,void 0),a("Param",90838,s(v),void 0,!1,!1,void 0)],s(b),!0,!0,!1,void 0,!1,[])},"statement",!1,!1,!1),elseIfs:[],elseBody:a("MacroAccess",90883,117,2741,{op:"",node:a("Function",90883,[a("Param",90884,s(i),void 0,!1,!1,void 0)],s(b),!0,!0,!1,void 0,!1,[])},"statement",!1,!1,!1)}},"expression",!1,!1,!1)],!1,!1)],null)}}).call(this);',params:[["ident","parallelism","many","?","sequence",["const","("],["this","ident","Expression"],["const",")"]],["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","next","ident","Identifier"],["const",","],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["ident","value","ident","Identifier"],["ident","length","many","?","sequence",["const",","],["this","ident","Identifier"]]],["const","in"],["ident","array"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:"asyncfor",id:131},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o,n,i,l,m,u,d,p,h,f,A,M,y,b,v;return u=e.macroName,m=e.macroData,f=m.parallelism,y=m.results,d=m.next,i=m.key,v=m.value,b=m.type,p=m.object,c=m.body,A=m.rest,a=null!=y?y:{},r=a.err,M=a.result,h="of"===b,n=[],p=this.cache(p,n,"obj",!0),null==A&&(A=this.noop()),o=null,v&&(o=v.index,v=this.macroExpand1(v.value)),v&&(c=s("Block",91568,[s("MacroAccess",91568,38,2757,{macroName:"let",macroData:{declarable:s("MacroAccess",91579,37,2757,s("MacroAccess",91579,31,2757,{ident:t(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s("Access",91588,t(p),t(i))}},"statement",!1,!1,!1),t(c)],null)),l=this.tmp("keys",!0,"stringArray"),s("Block",91677,[t(n),s("MacroAccess",91689,38,2763,{macroName:"let",macroData:{declarable:s("MacroAccess",91698,37,2763,s("MacroAccess",91698,31,2763,{ident:t(l)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s("MacroAccess",91706,17,2763,{macroName:"if",macroData:{test:t(h),body:s("Call",91715,s("Ident",91715,"__keys"),[t(p)],!1,!1),elseIfs:[],elseBody:s("Call",91749,s("Ident",91749,"__allkeys"),[t(p)],!1,!1)}},"expression",!1,!1,!1)}},"statement",!1,!1,!1),s("MacroAccess",91775,131,2767,{macroName:"asyncfor",macroData:{parallelism:t(f),results:{err:t(r),result:t(M)},next:t(d),value:s("MacroAccess",91827,37,2767,s("MacroAccess",91827,31,2767,{ident:t(i)},"statement",!1,!1,!1),"statement",!1,!1,!1),index:{value:t(o)},array:t(l),body:t(c),rest:t(A)}},"statement",!1,!1,!1)],null)}}).call(this);',params:[["ident","parallelism","many","?","sequence",["const","("],["this","ident","Expression"],["const",")"]],["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","next","ident","Identifier"],["const",","],["ident","key","ident","Identifier"],["ident","value","many","?","sequence",["const",","],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]]],["ident","type","choice",["const","of"],["const","ofall"]],["ident","object"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:"asyncfor",id:132},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o,n,i,l,m,u,d,p,h,f,A;return m=e.macroName,l=e.macroData,d=l.parallelism,f=l.results,u=l.next,A=l.value,n=l.index,i=l.iterator,c=l.body,p=l.rest,a=null!=f?f:{},r=a.err,h=a.result,o=!!h,null==p&&(p=this.noop()),null==n&&(n=this.tmp("i",!0)),null==r&&(r=this.tmp("err",!0)),null==d&&(d=s("Const",92379,1)),s("Call",92394,s("Ident",92394,"__asyncIter"),[s("MacroAccess",92408,60,2781,{op:"+",node:t(d)},"expression",!1,!1,!1),s("Call",92422,s("Ident",92422,"__iter"),[t(i)],!1,!1),t(o),s("MacroAccess",92462,117,2782,{op:"",node:s("Function",92462,[s("Param",92463,t(A),void 0,!1,!1,void 0),s("Param",92470,t(n),void 0,!1,!1,void 0),s("Param",92478,t(u),void 0,!1,!1,void 0)],t(c),!0,!0,!1,void 0,!1,[])},"expression",!1,!1,!1),s("MacroAccess",92502,17,2783,{macroName:"if",macroData:{test:t(o),body:s("MacroAccess",92526,117,2784,{op:"",node:s("Function",92526,[s("Param",92527,t(r),void 0,!1,!1,void 0),s("Param",92532,t(h),void 0,!1,!1,void 0)],t(p),!0,!0,!1,void 0,!1,[])},"statement",!1,!1,!1),elseIfs:[],elseBody:s("MacroAccess",92572,117,2786,{op:"",node:s("Function",92572,[s("Param",92573,t(r),void 0,!1,!1,void 0)],t(p),!0,!0,!1,void 0,!1,[])},"statement",!1,!1,!1)}},"expression",!1,!1,!1)],!1,!1)}}).call(this);',params:[["ident","parallelism","many","?","sequence",["const","("],["this","ident","Expression"],["const",")"]],["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","next","ident","Identifier"],["const",","],["ident","value","ident","Identifier"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","from"],["ident","iterator"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:"asyncfor",id:133},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o,n,i,l,m,u,d,p;return n=e.macroName,o=e.macroData,u=o.results,i=o.next,p=o.test,d=o.step,c=o.body,l=o.rest,"asyncuntil"===n&&(p=s("MacroAccess",92907,3,2791,{op:"not",node:t(p)},"expression",!1,!1,!1)),null==l&&(l=this.noop()),a=null!=u?u:{},r=a.err,m=a.result,s("MacroAccess",92993,130,2797,{macroName:"asyncfor",macroData:{results:{err:t(r),result:t(m)},next:t(i),test:t(p),step:t(d),body:t(c),rest:t(l)}},"statement",!1,!1,!1)}}).call(this);',params:[["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","next","ident","Identifier"],["const",","],["ident","test","ident","Logic"],["ident","step","many","?","sequence",["const",","],["this","ident","Statement"]],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:["asyncwhile","asyncuntil"],id:134},{code:'return(function(){"use strict";var e,t;return e=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+t(e));return e},t=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(t,s,a){var c,r,o,n,i,l,m,u,d,p,h,f,A,M,v,y;for(f=t.macroName,h=t.macroData,v=h.results,n=h.done,y=h.test,r=h.body,m=h.elseIfs,i=h.elseBody,A=h.rest,"asyncunless"===f&&(y=a("MacroAccess",93552,3,2804,{op:"not",node:s(y)},"expression",!1,!1,!1)),c=null!=v?v:{},u=c.err,M=c.result,null==A&&(A=this.noop()),o=i?a("MacroAccess",93689,117,2810,{op:"",node:a("Function",93689,[a("Param",93690,s(n),void 0,!1,!1,void 0)],s(i),!0,!0,!1,void 0,!1,[])},"expression",!1,!1,!1):a("MacroAccess",93733,117,2812,{op:"",node:a("Function",93733,[a("Param",93734,s(n),void 0,!1,!1,void 0)],a("Call",93744,s(n),[],!1,!1),!0,!0,!1,void 0,!1,[])},"expression",!1,!1,!1),d=e(m.length)-1;d>=0;--d)l=m[d],p=l.test,l.type==="unless"&&(p=a("MacroAccess",93959,3,2819,{op:"not",node:s(p)},"expression",!1,!1,!1)),o=a("MacroAccess",93996,17,2820,{macroName:"if",macroData:{test:s(p),body:a("MacroAccess",94021,117,2821,{op:"",node:a("Function",94021,[a("Param",94022,s(n),void 0,!1,!1,void 0)],s(l.body),!0,!0,!1,void 0,!1,[])},"statement",!1,!1,!1),elseIfs:[],elseBody:s(o)}},"statement",!1,!1,!1);return o=a("MacroAccess",94100,17,2825,{macroName:"if",macroData:{test:s(y),body:a("MacroAccess",94117,117,2826,{op:"",node:a("Function",94117,[a("Param",94118,s(n),void 0,!1,!1,void 0)],s(r),!0,!0,!1,void 0,!1,[])},"statement",!1,!1,!1),elseIfs:[],elseBody:s(o)}},"statement",!1,!1,!1),u||M?M?(null==u&&(u=this.tmp("err",!0)),a("Call",94350,s(o),[a("MacroAccess",94368,117,2839,{op:"",node:a("Function",94368,[a("Param",94369,s(u),void 0,!1,!1,void 0),a("Param",94374,s(M),void 0,!1,!1,void 0)],s(A),!0,!0,!1,void 0,!1,[])},"expression",!1,!1,!1)],!1,!1)):a("Call",94266,s(o),[a("MacroAccess",94284,117,2835,{op:"",node:a("Function",94284,[a("Param",94285,s(u),void 0,!1,!1,void 0)],s(A),!0,!0,!1,void 0,!1,[])},"expression",!1,!1,!1)],!1,!1):a("Call",94204,s(o),[a("MacroAccess",94222,117,2832,{op:"",node:a("Function",94222,[],s(A),!0,!0,!1,void 0,!1,[])},"expression",!1,!1,!1)],!1,!1)}}).call(this);',params:[["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","done","ident","Identifier"],["const",","],["ident","test","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseIfs","many","*","sequence",["const","\n"],["const","else"],["ident","type","choice",["const","if"],["const","unless"]],["ident","test","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:["asyncif","asyncunless"],id:135},{code:'return(function(){"use strict";return function(e){var t,s,a,c;return c=e.macroName,a=e.macroData,s=a.key,t=a.func,this.def(s,t)}}).call(this);',params:[["ident","key","ident","ObjectKey"],["ident","func","ident","FunctionDeclaration"]],names:"def",id:136},{code:'return(function(){"use strict";return function(e){var t,s,a,c;return a=e.macroName,s=e.macroData,t=s.key,c=s.value,this.def(t,c)}}).call(this);',params:[["ident","key","ident","ObjectKey"],["const","="],["ident","value","ident","ExpressionOrAssignment"]],names:"def",id:137},{code:'return(function(){"use strict";return function(e){var t,s,a;return a=e.macroName,s=e.macroData,t=s.key,this.def(t,void 0)}}).call(this);',params:[["ident","key","ident","ObjectKey"]],names:"def",id:138},{code:'return(function(){"use strict";var e,t,s,a,c,r;return e=typeof Array.isArray=="function"?Array.isArray:function(){var e;return e=Object.prototype.toString,function(t){return e.call(t)==="[object Array]"}}(),t=Object.prototype.hasOwnProperty,s=Array.prototype.slice,a=function(e){var t;if(t=typeof e,"string"===t)return e;if("number"===t)return String(e);throw TypeError("Expected a string or number, got "+r(e))},c=function(t){if(null==t)throw TypeError("Expected an object, got "+r(t));if(e(t))return t;if("string"==typeof t)return t.split("");if(typeof t.length=="number")return s.call(t);throw TypeError("Expected an object with a length property, got "+r(t))},r=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(e,s,r,o){function n(e){return p.walk(e,function(e){var t,a,o,i,l,m,u;if(p.isSuper(e)){for(m=p.superChild(e),null!=m&&(m=n(m)),t=[],a=c(p.superArgs(e)),o=0,i=a.length;i>o;++o)u=a[o],t.push(n(u));return l=t,p.call(null!=m?r("Access",97005,s(K),s(m)):z?s(H):r("Ident",97075,"Object"),[r("This",97135)].concat(l),!1,!0)}})}function i(e){return p.walk(e,function(e){var t,a,c;return p.isDef(e)?(a=p.left(e),c=(t=p.right(e))!=null?t:r("MacroAccess",101024,117,3017,{op:"",node:r("Function",101024,[],r("MacroAccess",101026,11,3017,{op:"throw",node:r("Call",101032,r("Ident",101032,"Error"),[r("MacroAccess",101039,69,3017,{left:r("MacroAccess",101039,69,3017,{left:r("MacroAccess",101039,69,3017,{left:r("MacroAccess",101039,69,3017,{left:r("Const",101039,"Not implemented: "),op:"",right:r("Call",101059,r("Ident",101059,"__name"),[r("Access",101066,r("This",101066),r("Const",101067,"constructor"))],!1,!1)},"expression",!1,!1,!1),op:"",right:r("Const",101039,".")},"expression",!1,!1,!1),op:"",right:s(a)},"expression",!1,!1,!1),op:"",right:r("Const",101039,"()")},"expression",!1,!1,!1)],!1,!1)},"statement",!1,!1,!1),!0,!1,!1,void 0,!1,[])},"expression",!1,!1,!1),i(r("MacroAccess",101115,30,3018,{left:r("Access",101115,s(U),s(a)),op:":=",right:s(c)},"expression",!1,!1,!1))):void 0})}var l,m,u,d,p,h,f,A,M,v,y,b,g,x,N,D,C,I,B,k,E,w,F,j,T,_,P,S,O,L,U,q,G,H,z,K;if(p=this,_=e.macroName,T=e.macroData,O=T.name,b=T.generic,z=T.superclass,f=T.body,x=null!=b?[b.head].concat(c(b.tail)):[],this.isIdent(O)?v=O:this.isAccess(O)?(h=O,O=this.isConst(this.child(O))&&typeof this.value(this.child(O))=="string"?(d=this.ident(this.value(this.child(O))))!=null?d:this.tmp("class",!1,"function"):this.tmp("class",!1,"function")):O=this.tmp("class",!1,"function"),this.isIdent(z)&&this.name(z)==="Object"&&(z=null),C=!!z,H=z&&(this.isIdent(z)?z:this.tmp("super",!1,"function")),k=[],K=z?this.tmp(this.isIdent(H)?a(this.name(H))+"_prototype":"super_prototype",!1,"object"):r("Access",95613,r("Ident",95613,"Object"),r("Const",95621,"prototype")),U=this.tmp(this.isIdent(O)?a(this.name(O))+"_prototype":"prototype",!1,"object"),z?(k.push(r("MacroAccess",95885,38,2879,{macroName:"let",macroData:{declarable:r("MacroAccess",95889,37,2879,r("MacroAccess",95889,31,2879,{ident:s(K)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Access",95903,s(H),r("Const",95909,"prototype"))}},"statement",!1,!1,!1)),k.push(r("MacroAccess",95938,38,2880,{macroName:"let",macroData:{declarable:r("MacroAccess",95942,37,2880,r("MacroAccess",95942,31,2880,{ident:s(U)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",95955,30,2880,{left:r("Access",95955,s(O),r("Const",95962,"prototype")),op:":=",right:r("Object",95974,[],s(K))},"expression",!1,!1,!1)}},"statement",!1,!1,!1)),k.push(r("MacroAccess",96019,30,2881,{left:r("Access",96019,s(U),r("Const",96031,"constructor")),op:":=",right:s(O)},"expression",!1,!1,!1))):k.push(r("MacroAccess",96080,38,2883,{macroName:"let",macroData:{declarable:r("MacroAccess",96084,37,2883,r("MacroAccess",96084,31,2883,{ident:s(U)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Access",96097,s(O),r("Const",96104,"prototype"))}},"statement",!1,!1,!1)),this.isIdent(O)&&(y=this["const"](this.name(O))),null!=y){if(x.length>0){for(L=[y,this["const"]("<")],B=0,u=x.length;u>B;++B)g=x[B],B>0&&L.push(this["const"](", ")),L.push(r("MacroAccess",96419,16,2892,{macroName:"if",macroData:{test:r("MacroAccess",96422,8,2892,{left:s(g),inverted:!1,op:"!~=",right:o("null")},"expression",!1,!1,!1),body:r("Call",96449,r("Ident",96449,"__name"),[s(g)],!1,!1),elseIfs:[],elseBody:r("Const",96475,"")}},"expression",!1,!1,!1));L.push(this["const"](">")),y=this.binaryChain("+",L)}k.push(r("MacroAccess",96578,30,2895,{left:r("Access",96578,s(O),r("Const",96585,"displayName")),op:":=",right:s(y)},"expression",!1,!1,!1))}if(z&&k.push(r("If",96657,r("Binary",96657,r("Unary",96657,"typeof",r("Access",96657,s(H),r("Const",96663,"extended"))),"===",r("Const",96657,"function")),r("Call",96657,r("Access",96657,s(H),r("Const",96663,"extended")),[s(O)],!1,!1),r("Nothing",0),null)),f=n(this.macroExpandAll(f)),A=0,this.walk(f,function(e){var t;p.isDef(e)&&(t=p.left(e),p.isConst(t)&&p.value(t)==="constructor"&&++A)}),I=!1,1===A&&this.walk(f,function(e){var t;return p.isDef(e)?(t=p.left(e),p.isConst(t)&&p.value(t)==="constructor"&&p.isFunc(p.right(e))&&!p.funcIsCurried(p.right(e))&&(I=!0),e):e}),G=this.tmp("this"),I?f=this.walk(f,function(e){var t,a,c;return p.isDef(e)?(a=p.left(e),p.isConst(a)&&p.value(a)==="constructor"?(c=p.right(e),t=p.rewrap(p.func(p.funcParams(c),p.funcBody(c),!1,r("MacroAccess",98382,16,2952,{macroName:"if",macroData:{test:r("MacroAccess",98385,74,2952,{left:r("Eval",98385,r("Const",98391,"this")),inverted:!1,op:"instanceof",right:s(O)},"statement",!1,!1,!1),body:r("Eval",98420,r("Const",98426,"this")),elseIfs:[],elseBody:r("Object",98438,[],s(U))}},"statement",!1,!1,!1)),c),k.unshift(r("MacroAccess",98499,38,2953,{macroName:"let",macroData:{declarable:r("MacroAccess",98503,37,2953,r("MacroAccess",98503,31,2953,{ident:s(O)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s(t)}},"statement",!1,!1,!1)),p.noop()):void 0):e}):0!==A?(M=this.tmp("ctor",!1,"function"),q=this.tmp("ref"),k.push(r("Block",98703,[r("MacroAccess",98703,38,2961,{macroName:"let",macroData:{declarable:r("MacroAccess",98714,37,2961,r("MacroAccess",98714,31,2961,{isMutable:"mutable",ident:s(M)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:o("void")}},"statement",!1,!1,!1),r("MacroAccess",98736,15,2962,{macroName:"let",macroData:{ident:s(O),func:r("MacroAccess",98753,117,2962,{op:"",node:r("Function",98753,[],r("Block",98756,[r("MacroAccess",98756,38,2963,{macroName:"let",macroData:{declarable:r("MacroAccess",98769,37,2963,r("MacroAccess",98769,31,2963,{ident:s(G)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",98777,16,2963,{macroName:"if",macroData:{test:r("MacroAccess",98780,74,2963,{left:r("This",98780),inverted:!1,op:"instanceof",right:s(O)},"expression",!1,!1,!1),body:r("This",98807),elseIfs:[],elseBody:r("Object",98817,[],s(U))}},"expression",!1,!1,!1)}},"statement",!1,!1,!1),r("MacroAccess",98852,17,2965,{macroName:"if",macroData:{test:r("MacroAccess",98864,26,2965,{op:"isFunction!",node:s(M)},"statement",!1,!1,!1),body:r("Block",98884,[r("MacroAccess",98884,38,2966,{macroName:"let",macroData:{declarable:r("MacroAccess",98899,37,2966,r("MacroAccess",98899,31,2966,{ident:s(q)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Call",98909,s(M),[s(G),r("Spread",98923,r("Args",98927))],!1,!0)}},"statement",!1,!1,!1),r("MacroAccess",98937,17,2967,{macroName:"if",macroData:{test:r("MacroAccess",98951,5,2967,{left:r("Call",98951,r("Ident",98951,"Object"),[s(q)],!1,!1),inverted:!1,op:"==",right:s(q)},"statement",!1,!1,!1),body:r("MacroAccess",98979,39,2968,{macroName:"return",macroData:{node:s(q)}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1)],null),elseIfs:[{type:"if",test:s(C),body:r("Block",99042,[r("MacroAccess",99042,38,2970,{macroName:"let",macroData:{declarable:r("MacroAccess",99057,37,2970,r("MacroAccess",99057,31,2970,{ident:s(q)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Call",99067,s(H),[s(G),r("Spread",99080,r("Args",99084))],!1,!0)}},"statement",!1,!1,!1),r("MacroAccess",99094,17,2971,{macroName:"if",macroData:{test:r("MacroAccess",99108,5,2971,{left:r("Call",99108,r("Ident",99108,"Object"),[s(q)],!1,!1),inverted:!1,op:"==",right:s(q)},"statement",!1,!1,!1),body:r("MacroAccess",99136,39,2972,{macroName:"return",macroData:{node:s(q)}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1)],null)}]}},"statement",!1,!1,!1),s(G)],null),!0,!1,!1,void 0,!1,[])},"statement",!1,!1,!1)}},"statement",!1,!1,!1)],null)),f=this.walk(f,function(e){var t,a,c,o;return p.isDef(e)&&(c=p.left(e),p.isConst(c)&&p.value(c)==="constructor")?(o=p.right(e),p.isCall(o)&&p.isIdent(p.callFunc(o))&&p.name(p.callFunc(o))==="__curry"&&p.callArgs(o).length===2&&p.isFunc(p.callArgs(o)[1])?(a=p.callArgs(o)[0],t=p.callArgs(o)[1],t=p.rewrap(p.func(p.funcParams(t),p.funcBody(t),!1,r("MacroAccess",99821,16,2986,{macroName:"if",macroData:{test:r("MacroAccess",99824,74,2986,{left:r("Eval",99824,r("Const",99830,"this")),inverted:!1,op:"instanceof",right:s(O)},"statement",!1,!1,!1),body:r("Eval",99859,r("Const",99865,"this")),elseIfs:[],elseBody:r("Object",99877,[],s(U))}},"statement",!1,!1,!1),!1),o),r("MacroAccess",99950,30,2988,{left:s(M),op:":=",right:r("Call",99959,r("Ident",99959,"__curry"),[s(a),s(t)],!1,!1)},"expression",!1,!1,!1)):p.isFunc(o)?(t=p.rewrap(p.func(p.funcParams(o),p.funcBody(o),!1,r("MacroAccess",100184,16,2994,{macroName:"if",macroData:{test:r("MacroAccess",100187,74,2994,{left:r("Eval",100187,r("Const",100193,"this")),inverted:!1,op:"instanceof",right:s(O)},"statement",!1,!1,!1),body:r("Eval",100222,r("Const",100228,"this")),elseIfs:[],elseBody:r("Object",100240,[],s(U))}},"statement",!1,!1,!1),p.funcIsCurried(o)),o),r("MacroAccess",100330,30,2996,{left:s(M),op:":=",right:s(t)},"expression",!1,!1,!1)):r("MacroAccess",100388,30,2998,{left:s(M),op:":=",right:s(o)},"expression",!1,!1,!1)):void 0})):z?(q=this.tmp("ref"),k.push(r("MacroAccess",100612,15,3006,{macroName:"let",macroData:{ident:s(O),func:r("MacroAccess",100631,117,3006,{op:"",node:r("Function",100631,[],r("Block",100634,[r("MacroAccess",100634,38,3007,{macroName:"let",macroData:{declarable:r("MacroAccess",100649,37,3007,r("MacroAccess",100649,31,3007,{ident:s(G)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("MacroAccess",100657,16,3007,{macroName:"if",macroData:{test:r("MacroAccess",100660,74,3007,{left:r("This",100660),inverted:!1,op:"instanceof",right:s(O)},"expression",!1,!1,!1),body:r("This",100687),elseIfs:[],elseBody:r("Object",100697,[],s(U))}},"expression",!1,!1,!1)}},"statement",!1,!1,!1),r("MacroAccess",100721,38,3008,{macroName:"let",macroData:{declarable:r("MacroAccess",100736,37,3008,r("MacroAccess",100736,31,3008,{ident:s(q)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Call",100746,s(H),[s(G),r("Spread",100759,r("Args",100763))],!1,!0)}},"statement",!1,!1,!1),r("MacroAccess",100773,17,3009,{macroName:"if",macroData:{test:r("MacroAccess",100787,5,3009,{left:r("Call",100787,r("Ident",100787,"Object"),[s(q)],!1,!1),inverted:!1,op:"==",right:s(q)},"statement",!1,!1,!1),body:s(q),elseIfs:[],elseBody:s(G)}},"statement",!1,!1,!1)],null),!0,!1,!1,void 0,!1,[])},"statement",!1,!1,!1)}},"statement",!1,!1,!1))):k.push(r("MacroAccess",100460,15,3002,{macroName:"let",macroData:{ident:s(O),func:r("MacroAccess",100479,117,3002,{op:"",node:r("Function",100479,[],r("MacroAccess",100484,16,3002,{macroName:"if",macroData:{test:r("MacroAccess",100487,74,3002,{left:r("This",100487),inverted:!1,op:"instanceof",right:s(O)},"statement",!1,!1,!1),body:r("This",100514),elseIfs:[],elseBody:r("Object",100524,[],s(U))}},"statement",!1,!1,!1),!0,!1,!1,void 0,!1,[])},"statement",!1,!1,!1)}},"statement",!1,!1,!1)),f=i(f),f=this.walk(f,function(e){if(p.isFunc(e)){if(!p.funcIsBound(e))return e}else if(p.isThis(e))return O}),q=r("MacroAccess",101360,104,3028,{macroName:"do",macroData:{locals:{ident:s(H),value:s(z),rest:[]},body:r("Block",101383,[s(k),s(f),r("MacroAccess",101407,39,3031,{macroName:"return",macroData:{node:s(O)}},"statement",!1,!1,!1)],null)}},"statement",!1,!1,!1),x.length>0){for(N=this.tmp("cache",!1,"object"),l=[],m=0,u=x.length;u>m;++m)g=x[m],l.push(this.param(g));for(D=l,S=this.tmp("make",!1,"function"),w={},m=0,u=x.length;u>m;++m)g=x[m],O=this.name(g),j=this.tmp("instanceof_"+a(O),!1,"function"),w[O]={key:j,let:r("MacroAccess",101882,38,3043,{macroName:"let",macroData:{declarable:r("MacroAccess",101886,37,3043,r("MacroAccess",101886,31,3043,{ident:s(j)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Call",101893,r("Ident",101893,"__getInstanceof"),[s(g)],!1,!1)}},"statement",!1,!1,!1),used:!1};q=this.walk(this.macroExpandAll(q),function(e){var a,c,o,n;return p.isBinary(e)&&p.op(e)==="instanceof"&&(n=p.right(e),p.isIdent(n)&&(o=p.name(n),t.call(w,o)))?(a=w[o].key,w[o].used=!0,c=p.left(e),r("Call",102367,s(a),[s(c)],!1,!1)):void 0}),l=[];for(O in w)t.call(w,O)&&(F=w[O],F.used&&l.push(F.let));E=l,E.length&&(q=r("Block",102533,[s(E),s(q)],null)),P=this.func(D,q,!0,!1),q=r("Call",102668,r("Ident",102668,"__genericFunc"),[s(x.length),s(P)],!1,!1)}return null!=v?r("MacroAccess",102759,38,3067,{macroName:"let",macroData:{declarable:r("MacroAccess",102763,37,3067,r("MacroAccess",102763,31,3067,{ident:s(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s(q)}},"statement",!1,!1,!1):null!=h?r("MacroAccess",102821,30,3069,{left:s(h),op:":=",right:s(q)},"expression",!1,!1,!1):q}}).call(this);',params:[["ident","name","many","?","ident","SimpleAssignable"],["ident","generic","many","?","sequence",["const","<"],["ident","head","ident","Identifier"],["ident","tail","many","*","sequence",["const",","],["this","ident","Identifier"]],["const",">"]],["ident","superclass","many","?","sequence",["const","extends"],["this"]],["ident","body","many","?","ident","Body"]],names:"class",id:139},{code:'return(function(){"use strict";return function(e){var t,s,a,c;return t=this,a=e.macroName,s=e.macroData,c=s.node,this.inGenerator||this.error("Can only use yield in a generator function"),this.mutateLast(c||this.noop(),function(e){return t.yield(e)},!0)}}).call(this);',params:[["ident","node","many","?","ident","Expression"]],names:"yield",id:140},{code:'return(function(){"use strict";return function(e,t,s,a){var c,r,o,n,i,l,m,u,d,p,h;return u=e.macroName,m=e.macroData,d=m.node,this.inGenerator||this.error("Can only use yield* in a generator function"),o=[],this.isType(d,"arrayLike")?(r=this.tmp("i",!1,"number"),o.push(s("MacroAccess",103291,38,3086,{macroName:"let",macroData:{declarable:s("MacroAccess",103295,37,3086,s("MacroAccess",103295,31,3086,{ident:t(r)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s("Const",103305,0)}},"statement",!1,!1,!1)),l=this.tmp("len",!1,"number"),d=this.cache(d,o,"arr",!1),o.push(s("MacroAccess",103416,38,3089,{macroName:"let",macroData:{declarable:s("MacroAccess",103420,37,3089,s("MacroAccess",103420,31,3089,{ident:t(l)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s("Access",103430,t(d),s("Const",103437,"length"))}},"statement",!1,!1,!1)),s("Block",103454,[s("MacroAccess",103454,106,3091,{macroName:"for",macroData:{init:t(o),test:s("MacroAccess",103472,9,3091,{left:t(r),inverted:!1,op:"~<",right:t(l)},"statement",!1,!1,!1),step:s("MacroAccess",103491,103,3091,{left:t(r),op:"+=",right:s("Const",103502,1)},"expression",!1,!1,!1),body:s("MacroAccess",103504,140,3092,{macroName:"yield",macroData:{node:s("Access",103519,t(d),t(r))}},"statement",!1,!1,!1)}},"statement",!1,!1,!1),a("void")],null)):(i=this.cache(s("Call",103588,s("Ident",103588,"__iter"),[t(d)],!1,!1),o,"iter",!1),c=this.tmp("e",!0),h=this.tmp("send"),n=this.tmp("item"),p=this.tmp("tmp"),s("Block",103750,[t(o),s("MacroAccess",103764,38,3102,{macroName:"let",macroData:{declarable:s("MacroAccess",103775,37,3102,s("MacroAccess",103775,31,3102,{isMutable:"mutable",ident:t(p)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("void")}},"statement",!1,!1,!1),s("MacroAccess",103801,38,3103,{macroName:"let",macroData:{declarable:s("MacroAccess",103812,37,3103,s("MacroAccess",103812,31,3103,{isMutable:"mutable",ident:t(h)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("true")}},"statement",!1,!1,!1),s("MacroAccess",103843,108,3105,{macroName:"while",macroData:{test:a("true"),body:s("Block",103862,[s("MacroAccess",103862,38,3106,{macroName:"let",macroData:{declarable:s("MacroAccess",103875,37,3106,s("MacroAccess",103875,31,3106,{ident:t(n)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s("MacroAccess",103883,16,3106,{macroName:"if",macroData:{test:t(h),body:s("Call",103897,s("Access",103897,t(i),s("Const",103908,"send")),[t(p)],!1,!1),elseIfs:[],elseBody:s("Call",103928,s("Access",103928,t(i),s("Const",103939,"throw")),[t(p)],!1,!1)}},"expression",!1,!1,!1)}},"statement",!1,!1,!1),s("MacroAccess",103956,17,3107,{macroName:"if",macroData:{test:s("Access",103968,t(n),s("Const",103975,"done")),body:s("MacroAccess",103980,19,3108,{macroName:"break",macroData:{}},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1),s("MacroAccess",103998,119,3109,{macroName:"try",macroData:{tryBody:s("Block",104012,[s("MacroAccess",104012,30,3110,{left:t(p),op:":=",right:s("MacroAccess",104036,140,3110,{macroName:"yield",macroData:{node:s("Access",104042,t(n),s("Const",104049,"value"))}},"expression",!1,!1,!1)},"statement",!1,!1,!1),s("MacroAccess",104055,30,3111,{left:t(h),op:":=",right:a("true")},"statement",!1,!1,!1)],null),typedCatches:[],catchPart:{ident:t(c),body:s("Block",104102,[s("MacroAccess",104102,30,3113,{left:t(p),op:":=",right:t(c)},"statement",!1,!1,!1),s("MacroAccess",104132,30,3114,{left:t(h),op:":=",right:a("false")},"statement",!1,!1,!1)],null)}}},"statement",!1,!1,!1)],null)}},"statement",!1,!1,!1),s("MacroAccess",104159,119,3115,{macroName:"try",macroData:{tryBody:s("Call",104171,s("Access",104171,t(i),s("Const",104191,"close")),[],!1,!1),typedCatches:[],catchPart:{ident:t(c),body:a("void")}}},"statement",!1,!1,!1),s("Access",104233,t(n),s("Const",104247,"value"))],null))}}).call(this);',params:[["ident","node","ident","Expression"]],names:"yield*",id:141},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o;return c=e.macroName,a=e.macroData,r=a.node,o=a.rest,null==o&&(o=this.noop()),s("Block",104348,[t(o),s("MacroAccess",104360,39,3126,{macroName:"return",macroData:{node:t(r)}},"statement",!1,!1,!1)],null)}}).call(this);',params:[["ident","node","ident","Expression"],["ident","rest","ident","DedentedBody"]],names:"returning",id:142},{code:'return(function(){"use strict";return function(e){var t,s,a,c;return a=e.macroName,s=e.macroData,t=s.label,c=s.node,this.withLabel(c,t)}}).call(this);',params:[["ident","label","ident","Identifier"],["ident","node","choice",["ident","Statement"],["ident","Body"]]],names:"label!",id:145},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o;return c=e.macroName,a=e.macroData,o=a.sync,r=a.node,this.isFunc(r)&&!this.funcIsGenerator(r)&&this.error("promise! must be used with a generator function",r),o&&this.isFunc(r)&&this.error("Use .sync() to retrieve asynchronously",o),!o||this.isConst(o)&&!this.value(o)?s("Call",119652,s("Ident",119652,"__promise"),[t(r)],!1,!1):s("Call",119689,s("Ident",119689,"__promise"),[t(r),t(o)],!1,!1)}}).call(this);',params:[["ident","sync","many","?","sequence",["const","("],["this","ident","Expression"],["const",")"]],["ident","node","ident","Expression"]],names:"promise!",id:154},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o,n;return o=e.macroName,r=e.macroData,n=r.sync,a=r.body,c=this.rewrap(this.func([],a,!0,!0,!1,null,!0),a),!n||this.isConst(n)&&!this.value(n)?s("Call",119969,s("Ident",119969,"__generatorToPromise"),[s("Call",119993,t(c),[],!1,!1)],!1,!1):s("Call",120021,s("Ident",120021,"__generatorToPromise"),[s("Call",120045,t(c),[],!1,!1),t(n)],!1,!1)}}).call(this);',params:[["ident","sync","many","?","sequence",["const","("],["this","ident","Expression"],["const",")"]],["ident","body","ident","GeneratorBody"]],names:"promise!",id:155},{code:'return(function(){"use strict";var e,t;return e=function(e){var s;if(s=typeof e,"string"===s)return e;if("number"===s)return String(e);throw TypeError("Expected a string or number, got "+t(e))},t=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(t,s,a){var c,r,o,n,i,l,m,u,d,p,h,f,A,M,v;return h=t.macroName,p=t.macroData,f=p.parallelism,v=p.value,l=p.index,r=p.array,o=p.body,m=[],v=this.macroExpand1(v),u=null,l&&(u=l.length,l=l.value),null==f&&(f=a("Const",126378,1)),null==l&&(l=this.tmp("i",!0,"number")),this.isCall(r)&&this.isIdent(this.callFunc(r))&&this.name(this.callFunc(r))==="__range"&&!this.callIsApply(r)?((this.isArray(v)||this.isObject(v))&&this.error("Cannot assign a number to a complex declarable",v),v=v.ident,c=this.callArgs(r),A=c[0],n=c[1],M=c[2],i=c[3],this.isConst(A)?typeof this.value(A)!="number"&&this.error("Cannot start with a non-number: "+e(this.value(A)),A):A=a("MacroAccess",126964,60,3917,{op:"+",node:s(A)},"expression",!1,!1,!1),this.isConst(n)?typeof this.value(n)!="number"&&this.error("Cannot end with a non-number: "+e(this.value(n)),n):this.isComplex(n)?n=this.cache(a("MacroAccess",127162,60,3923,{op:"+",node:s(n)},"expression",!1,!1,!1),m,"end",!1):m.push(a("MacroAccess",127222,60,3925,{op:"+",node:s(n)},"expression",!1,!1,!1)),this.isConst(M)?typeof this.value(M)!="number"&&this.error("Cannot step with a non-number: "+e(this.value(M)),M):this.isComplex(M)?M=this.cache(a("MacroAccess",127425,60,3931,{op:"+",node:s(M)},"expression",!1,!1,!1),m,"step",!1):m.push(a("MacroAccess",127487,60,3933,{op:"+",node:s(M)},"expression",!1,!1,!1)),o=a("Block",127520,[a("MacroAccess",127520,38,3936,{macroName:"let",macroData:{declarable:a("MacroAccess",127531,37,3936,a("MacroAccess",127531,31,3936,{ident:s(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("MacroAccess",127540,49,3936,{left:a("MacroAccess",127540,45,3936,{left:s(l),inverted:!1,op:"~*",right:s(M)},"expression",!1,!1,!1),inverted:!1,op:"~+",right:s(A)},"expression",!1,!1,!1)}},"statement",!1,!1,!1),s(o)],null),d=a("MacroAccess",127610,17,3939,{macroName:"if",macroData:{test:s(i),body:a("MacroAccess",127625,45,3940,{left:a("MacroAccess",127634,49,3940,{left:a("MacroAccess",127634,49,3940,{left:s(n),inverted:!1,op:"~-",right:s(A)},"expression",!1,!1,!1),inverted:!1,op:"~+",right:s(M)},"expression",!1,!1,!1),inverted:!1,op:"~\\\\",right:s(M)},"statement",!1,!1,!1),elseIfs:[],elseBody:a("MacroAccess",127679,45,3942,{left:a("MacroAccess",127688,49,3942,{left:s(n),inverted:!1,op:"~-",right:s(A)},"expression",!1,!1,!1),inverted:!1,op:"~\\\\",right:s(M)},"statement",!1,!1,!1)}},"expression",!1,!1,!1),u?m.push(a("MacroAccess",127795,38,3946,{macroName:"let",macroData:{declarable:a("MacroAccess",127799,37,3946,a("MacroAccess",127799,31,3946,{ident:s(u)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s(d)}},"statement",!1,!1,!1)):u=d):(r=this.cache(r,m,"arr",!0),o=a("Block",127897,[a("MacroAccess",127897,38,3951,{macroName:"let",macroData:{declarable:a("MacroAccess",127908,37,3951,a("MacroAccess",127908,31,3951,{ident:s(v)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("Access",127917,s(r),s(l))}},"statement",!1,!1,!1),s(o)],null),u?m.push(a("MacroAccess",128044,38,3957,{macroName:"let",macroData:{declarable:a("MacroAccess",128048,37,3957,a("MacroAccess",128048,31,3957,{ident:s(u)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:a("MacroAccess",128058,60,3957,{op:"+",node:a("Access",128060,s(r),a("Const",128067,"length"))},"expression",!1,!1,!1)}},"statement",!1,!1,!1)):u=a("MacroAccess",127996,60,3955,{op:"+",node:a("Access",127998,s(r),a("Const",128005,"length"))},"expression",!1,!1,!1)),a("Block",128087,[s(m),a("Call",128099,a("Ident",128099,"__promiseLoop"),[a("MacroAccess",128120,60,3961,{op:"+",node:s(f)},"expression",!1,!1,!1),s(u),a("Call",128143,a("Ident",128143,"__promise"),[a("MacroAccess",128155,117,3961,{op:"",node:a("Function",128155,[a("Param",128156,s(l),void 0,!1,!1,void 0)],s(o),!0,!1,!1,void 0,!0,[])},"expression",!1,!1,!1)],!1,!1)],!1,!1)],null)}}).call(this);',params:[["const","("],["ident","parallelism","ident","Expression"],["const",")"],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["ident","value","ident","Identifier"],["ident","length","many","?","sequence",["const",","],["this","ident","Identifier"]]],["const","in"],["ident","array"],["ident","body","ident","GeneratorBody"]],names:"promisefor",id:163},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o,n,i,l,m,u,d,p,h;return l=e.macroName,i=e.macroData,d=i.parallelism,o=i.key,h=i.value,p=i.type,m=i.object,a=i.body,u="of"===p,r=[],m=this.cache(m,r,"obj",!0),c=null,h&&(c=h.index,h=this.macroExpand1(h.value)),h&&(a=s("Block",128634,[s("MacroAccess",128634,38,3974,{macroName:"let",macroData:{declarable:s("MacroAccess",128647,37,3974,s("MacroAccess",128647,31,3974,{ident:t(h)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s("Access",128656,t(m),t(o))}},"statement",!1,!1,!1),t(a)],null)),n=this.tmp("keys",!0,"stringArray"),s("Block",128751,[t(r),s("MacroAccess",128765,38,3980,{macroName:"let",macroData:{declarable:s("MacroAccess",128776,37,3980,s("MacroAccess",128776,31,3980,{ident:t(n)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:s("MacroAccess",128784,17,3980,{macroName:"if",macroData:{test:t(u),body:s("Call",128793,s("Ident",128793,"__keys"),[t(m)],!1,!1),elseIfs:[],elseBody:s("Call",128831,s("Ident",128831,"__allkeys"),[t(m)],!1,!1)}},"expression",!1,!1,!1)}},"statement",!1,!1,!1),s("MacroAccess",128859,163,3984,{macroName:"promisefor",macroData:{parallelism:t(d),value:s("MacroAccess",128891,37,3984,s("MacroAccess",128891,31,3984,{ident:t(o)},"statement",!1,!1,!1),"statement",!1,!1,!1),index:{value:t(c)},array:t(n),body:t(a)}},"statement",!1,!1,!1)],null)}}).call(this);',params:[["const","("],["ident","parallelism","ident","Expression"],["const",")"],["ident","key","ident","Identifier"],["ident","value","many","?","sequence",["const",","],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]]],["ident","type","choice",["const","of"],["const","ofall"]],["ident","object"],["ident","body","ident","GeneratorBody"]],names:"promisefor",id:164},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o,n,i,l;return n=e.macroName,o=e.macroData,i=o.parallelism,l=o.value,c=o.index,r=o.iterator,a=o.body,null==c&&(c=this.tmp("i",!0)),s("Call",129117,s("Ident",129117,"__promiseIter"),[s("MacroAccess",129138,60,3991,{op:"+",node:t(i)},"expression",!1,!1,!1),s("Call",129152,s("Ident",129152,"__iter"),[t(r)],!1,!1),s("Call",129171,s("Ident",129171,"__promise"),[s("MacroAccess",129183,117,3991,{op:"",node:s("Function",129183,[s("Param",129184,t(l),void 0,!1,!1,void 0),s("Param",129191,t(c),void 0,!1,!1,void 0)],t(a),!0,!1,!1,void 0,!0,[])},"expression",!1,!1,!1)],!1,!1)],!1,!1)}}).call(this);',params:[["const","("],["ident","parallelism","ident","Expression"],["const",")"],["ident","value","ident","Identifier"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","from"],["ident","iterator"],["ident","body","ident","GeneratorBody"]],names:"promisefor",id:165},{code:'return(function(){"use strict";return function(e){var t,s;return s=e.macroName,t=e.macroData,this["const"](this.line())}}).call(this);',options:{type:"number"},params:[["const",""]],names:"__LINE__",id:166},{code:'return(function(){"use strict";return function(e){var t,s;return s=e.macroName,t=e.macroData,this["const"](this.column())}}).call(this);',options:{type:"number"},params:[["const",""]],names:"__COLUMN__",id:167},{code:'return(function(){"use strict";return function(e){var t,s;return s=e.macroName,t=e.macroData,this["const"](this.file())}}).call(this);',options:{type:"string"},params:[["const",""]],names:"__FILE__",id:168},{code:'return(function(){"use strict";return function(e){var t,s;return s=e.macroName,t=e.macroData,this["const"]((new Date).getTime())}}).call(this);',options:{type:"number"},params:[["const",""]],names:"__DATEMSEC__",id:169},{code:'return(function(){"use strict";return function(e){var t,s;return s=e.macroName,t=e.macroData,this["const"](this.version())}}).call(this);',options:{type:"string"},params:[["const",""]],names:"__VERSION__",id:170}],binaryOperator:[{code:'return(function(){"use strict";return function(e){var t,s,a;return t=e.left,s=e.op,a=e.right,this.binary(t,"&&",a)}}).call(this);',operators:"and",options:{precedence:1},id:1},{code:'return(function(){"use strict";return function(e){var t,s,a;return t=e.left,s=e.op,a=e.right,this.binary(t,"||",a)}}).call(this);',operators:"or",options:{precedence:1},id:2},{code:'return(function(){"use strict";return function(e){var t,s,a;return t=e.left,s=e.op,a=e.right,this.binary(t,"===",a)}}).call(this);',operators:"==",options:{precedence:2,maximum:1,type:"boolean"},id:5},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,s("MacroAccess",1163,3,43,{op:"not",node:s("MacroAccess",1169,5,43,{left:t(a),inverted:!1,op:"==",right:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}}).call(this);',operators:"!=",options:{precedence:2,maximum:1,type:"boolean"},id:6},{code:'return(function(){"use strict";return function(e){var t,s,a;return t=e.left,s=e.op,a=e.right,this.binary(t,"==",a)}}).call(this);',operators:"~=",options:{precedence:2,maximum:1,type:"boolean"},id:7},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,s("MacroAccess",1369,3,49,{op:"not",node:s("MacroAccess",1375,7,49,{left:t(a),inverted:!1,op:"~=",right:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}}).call(this);',operators:"!~=",options:{precedence:2,maximum:1,type:"boolean"},id:8},{code:'return(function(){"use strict";return function(e){var t,s,a;return t=e.left,s=e.op,a=e.right,this.binary(t,"~<"===s&&"<"||"<=",a)}}).call(this);',operators:["~<","~<="],options:{precedence:2,maximum:1,type:"boolean"},id:9},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,"~>"===c&&s("MacroAccess",1694,3,57,{op:"not",node:s("MacroAccess",1700,9,57,{left:t(a),inverted:!1,op:"~<=",right:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1)||s("MacroAccess",1726,3,57,{op:"not",node:s("MacroAccess",1732,9,57,{left:t(a),inverted:!1,op:"~<",right:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}}).call(this);',operators:["~>","~>="],options:{precedence:2,maximum:1,type:"boolean"},id:10},{code:'return(function(){"use strict";return function(e){var t,s,a;return t=e.left,s=e.op,a=e.right,this.hasType(t,"numeric")&&this.hasType(a,"numeric")?this.binary(this.binary(this["const"](""),"+",t),"+",a):this.isConst(t)&&this.value(t)===""&&this.isType(a,"string")?a:this.isConst(a)&&this.value(a)===""&&this.isType(t,"string")?t:this.binary(t,"+",a)}}).call(this);',operators:"~&",options:{precedence:7,type:"string"},id:29},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,"~\\\\"===c?s("Call",11176,s("Access",11176,s("Ident",11176,"Math"),s("Const",11182,"floor")),[t(this.binary(a,"/",r))],!1,!1):"~*"===c?this.binary(a,"*",r):"~/"===c?this.binary(a,"/",r):this.binary(a,"%",r)}}).call(this);',operators:["~*","~/","~%","~\\"],options:{precedence:11,type:"number"},id:45},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,"~+"===c?this.isType(r,"numeric")?(this.isType(a,"numeric")||(a=s("MacroAccess",12529,48,368,{op:"~+",node:t(a)},"expression",!1,!1,!1)),this.binary(a,"+",r)):this.binary(a,"-",s("MacroAccess",12451,48,365,{op:"~-",node:t(r)},"expression",!1,!1,!1)):this.binary(a,"-",r)}}).call(this);',operators:["~+","~-"],options:{precedence:10,type:"number"},id:49},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o;if(a=e.left,c=e.op,r=e.right,this.isConst(r)){if(o=Number(this.value(r)),0===o)return s("Block",12785,[t(a),s("Const",12807,1)],null);if(.5===o)return s("Call",12851,s("Access",12851,s("Ident",12851,"Math"),s("Const",12857,"sqrt")),[t(a)],!1,!1);if(1===o)return s("MacroAccess",12908,48,383,{op:"~+",node:t(a)},"expression",!1,!1,!1);if(2===o)return this.maybeCache(a,function(e,a){return s("MacroAccess",13002,45,386,{left:t(e),inverted:!1,op:"~*",right:t(a)},"expression",!1,!1,!1)});if(3===o)return this.maybeCache(a,function(e,a){return s("MacroAccess",13107,45,389,{left:s("MacroAccess",13107,45,389,{left:t(e),inverted:!1,op:"~*",right:t(a)},"expression",!1,!1,!1),inverted:!1,op:"~*",right:t(a)},"expression",!1,!1,!1)});if(o===-.5)return s("MacroAccess",13180,45,391,{left:s("Const",13181,1),inverted:!1,op:"~/",right:s("Call",13185,s("Access",13185,s("Ident",13185,"Math"),s("Const",13191,"sqrt")),[t(a)],!1,!1)},"expression",!1,!1,!1);if(-1===o)return s("MacroAccess",13245,45,393,{left:s("Const",13246,1),inverted:!1,op:"~/",right:t(a)},"expression",!1,!1,!1);if(-2===o)return this.maybeCache(a,function(e,a){return s("MacroAccess",13344,45,396,{left:s("Const",13345,1),inverted:!1,op:"~/",right:s("MacroAccess",13351,45,396,{left:t(e),inverted:!1,op:"~*",right:t(a)},"expression",!1,!1,!1)},"expression",!1,!1,!1)});if(-3===o)return this.maybeCache(a,function(e,a){return s("MacroAccess",13458,45,399,{left:s("Const",13459,1),inverted:!1,op:"~/",right:s("MacroAccess",13465,45,399,{left:s("MacroAccess",13465,45,399,{left:t(e),inverted:!1,op:"~*",right:t(a)},"expression",!1,!1,!1),inverted:!1,op:"~*",right:t(a)},"expression",!1,!1,!1)},"expression",!1,!1,!1)})}return s("Call",13500,s("Access",13500,s("Ident",13500,"Math"),s("Const",13506,"pow")),[t(a),t(r)],!1,!1)}}).call(this);',operators:"~^",options:{precedence:12,rightToLeft:!0,type:"number"},id:50},{code:'return(function(){"use strict";return function(e){var t,s,a;return t=e.left,s=e.op,a=e.right,"~bitlshift"===s?this.binary(t,"<<",a):"~bitrshift"===s?this.binary(t,">>",a):this.binary(t,">>>",a)}}).call(this);',operators:["~bitlshift","~bitrshift","~biturshift"],options:{precedence:9,maximum:1,type:"number"},id:54},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,this.getConstValue("DISABLE_TYPE_CHECKING",!1)?s("MacroAccess",18411,50,565,{left:t(a),inverted:!1,op:"~^",right:t(r)},"expression",!1,!1,!1):s("MacroAccess",18443,50,567,{left:s("MacroAccess",18443,60,567,{op:"+",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"~^",right:s("MacroAccess",18453,60,567,{op:"+",node:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}}).call(this);',operators:"^",options:{precedence:12,rightToLeft:!0,type:"number"},id:62},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,"*"===c?s("MacroAccess",18685,45,575,{left:s("MacroAccess",18685,60,575,{op:"+",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"~*",right:s("MacroAccess",18695,60,575,{op:"+",node:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1):"/"===c?s("MacroAccess",18732,45,577,{left:s("MacroAccess",18732,60,577,{op:"+",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"~/",right:s("MacroAccess",18742,60,577,{op:"+",node:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1):"%"===c?s("MacroAccess",18779,45,579,{left:s("MacroAccess",18779,60,579,{op:"+",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"~%",right:s("MacroAccess",18789,60,579,{op:"+",node:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1):s("MacroAccess",18813,45,581,{left:s("MacroAccess",18813,60,581,{op:"+",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"~\\\\",right:s("MacroAccess",18823,60,581,{op:"+",node:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}}).call(this);',operators:["*","/","%","\\"],options:{precedence:11,type:"number"},id:64},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,"+"===c?s("MacroAccess",18997,49,588,{left:s("MacroAccess",18997,60,588,{op:"+",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"~+",right:s("MacroAccess",19007,60,588,{op:"+",node:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1):s("MacroAccess",19031,49,590,{left:s("MacroAccess",19031,60,590,{op:"+",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"~-",right:s("MacroAccess",19041,60,590,{op:"+",node:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}}).call(this);',operators:["+","-"],options:{precedence:10,type:"number"},id:66},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,"bitlshift"===c?s("MacroAccess",19184,54,594,{left:s("MacroAccess",19184,60,594,{op:"+",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"~bitlshift",right:s("MacroAccess",19202,60,594,{op:"+",node:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1):"bitrshift"===c?s("MacroAccess",19247,54,596,{left:s("MacroAccess",19247,60,596,{op:"+",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"~bitrshift",right:s("MacroAccess",19265,60,596,{op:"+",node:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1):s("MacroAccess",19289,54,598,{left:s("MacroAccess",19289,60,598,{op:"+",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"~biturshift",right:s("MacroAccess",19308,60,598,{op:"+",node:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}}).call(this);',operators:["bitlshift","bitrshift","biturshift"],options:{precedence:9,maximum:1,type:"number"},id:67},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,this.getConstValue("DISABLE_TYPE_CHECKING",!1)||(this.isType(a,"stringOrNumber")||(a=this.hasType(a,"number")?s("Call",19725,s("Ident",19725,"__strnum"),[t(a)],!1,!1):s("Call",19689,s("Ident",19689,"__str"),[t(a)],!1,!1)),this.isType(r,"stringOrNumber")||(r=this.hasType(r,"number")?s("Call",19882,s("Ident",19882,"__strnum"),[t(r)],!1,!1):s("Call",19845,s("Ident",19845,"__str"),[t(r)],!1,!1))),s("MacroAccess",19905,29,616,{left:t(a),inverted:!1,op:"~&",right:t(r)},"expression",!1,!1,!1)}}).call(this);',operators:"&",options:{precedence:7,type:"string",label:"stringConcat"},id:69},{code:'return(function(){"use strict";return function(e,t,s,a){var c,r,o,n,i;return o=e.left,n=e.op,i=e.right,this.isArray(i)?(c=this.elements(i),c.length===0?this.isComplex(o)?s("Block",20424,[t(o),a("false")],null):a("false"):c.length===1?s("MacroAccess",20529,5,638,{left:t(o),inverted:!1,op:"==",right:t(c[0])},"expression",!1,!1,!1):(r=function(e,a,o){return e<c.length?r(+e+1,s("MacroAccess",20649,2,642,{left:t(a),inverted:!1,op:"or",right:s("MacroAccess",20661,5,642,{left:t(o),inverted:!1,op:"==",right:t(c[e])},"expression",!1,!1,!1)},"expression",!1,!1,!1),o):a},this.maybeCache(o,function(e,a){return r(1,s("MacroAccess",20784,5,646,{left:t(e),inverted:!1,op:"==",right:t(c[0])},"expression",!1,!1,!1),a)}))):s("Call",20835,s("Ident",20835,"__in"),[t(o),t(i)],!1,!1)}}).call(this);',operators:"in",options:{precedence:6,maximum:1,invertible:!0,type:"boolean"},id:71},{code:'return(function(){"use strict";return function(e){var t,s,a;return t=e.left,s=e.op,a=e.right,this.binary(a,"in",t)}}).call(this);',operators:"haskey",options:{precedence:6,maximum:1,invertible:!0,type:"boolean"},id:72},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,s("Call",21159,s("Ident",21159,"__owns"),[t(a),t(r)],!1,!0)}}).call(this);',operators:"ownskey",options:{precedence:6,maximum:1,invertible:!0,type:"boolean",label:"ownership"},id:73},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;if(a=e.left,c=e.op,r=e.right,this.isIdent(r)){if(this.name(r)==="String")return s("MacroAccess",21353,23,661,{op:"isString!",node:t(a)},"expression",!1,!1,!1);if(this.name(r)==="Number")return s("MacroAccess",21424,24,663,{op:"isNumber!",node:t(a)},"expression",!1,!1,!1);if(this.name(r)==="Boolean")return s("MacroAccess",21496,25,665,{op:"isBoolean!",node:t(a)},"expression",!1,!1,!1);if(this.name(r)==="Function")return s("MacroAccess",21570,26,667,{op:"isFunction!",node:t(a)},"expression",!1,!1,!1);if(this.name(r)==="Array")return s("MacroAccess",21642,27,669,{op:"isArray!",node:t(a)},"expression",!1,!1,!1);if(this.name(r)==="Object")return s("MacroAccess",21712,28,671,{op:"isObject!",node:t(a)},"expression",!1,!1,!1)}return this.binary(a,"instanceof",r)}}).call(this);',operators:"instanceof",options:{precedence:6,maximum:1,invertible:!0,type:"boolean"},id:74},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,s("Call",22252,s("Ident",22252,"__cmp"),[t(a),t(r)],!1,!1)}}).call(this);',operators:"<=>",options:{precedence:5,maximum:1,type:"number"},id:75},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,s("MacroAccess",22372,5,692,{left:s("MacroAccess",22372,64,692,{left:t(a),inverted:!1,op:"%",right:t(r)},"expression",!1,!1,!1),inverted:!1,op:"==",right:s("Const",22391,0)},"expression",!1,!1,!1)}}).call(this);',operators:"%%",options:{precedence:2,maximum:1,invertible:!0,type:"boolean"},id:76},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,s("MacroAccess",22492,5,695,{left:s("MacroAccess",22492,45,695,{left:t(a),inverted:!1,op:"~%",right:t(r)},"expression",!1,!1,!1),inverted:!1,op:"==",right:s("Const",22512,0)},"expression",!1,!1,!1)}}).call(this);',operators:"~%%",options:{precedence:2,maximum:1,invertible:!0,type:"boolean"},id:77},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,this.getConstValue("DISABLE_TYPE_CHECKING",!1)?"<"===c?s("MacroAccess",23633,9,732,{left:t(a),inverted:!1,op:"~<",right:t(r)},"expression",!1,!1,!1):s("MacroAccess",23669,9,734,{left:t(a),inverted:!1,op:"~<=",right:t(r)},"expression",!1,!1,!1):this.isType(a,"number")?this.isType(r,"number")?"<"===c?s("MacroAccess",23782,9,738,{left:t(a),inverted:!1,op:"~<",right:t(r)},"expression",!1,!1,!1):s("MacroAccess",23822,9,740,{left:t(a),inverted:!1,op:"~<=",right:t(r)},"expression",!1,!1,!1):"<"===c?s("MacroAccess",23880,9,743,{left:t(a),inverted:!1,op:"~<",right:s("Call",23889,s("Ident",23889,"__num"),[t(r)],!1,!1)},"expression",!1,!1,!1):s("MacroAccess",23927,9,745,{left:t(a),inverted:!1,op:"~<=",right:s("Call",23937,s("Ident",23937,"__num"),[t(r)],!1,!1)},"expression",!1,!1,!1):this.isType(a,"string")?this.isType(r,"string")?"<"===c?s("MacroAccess",24047,9,749,{left:t(a),inverted:!1,op:"~<",right:t(r)},"expression",!1,!1,!1):s("MacroAccess",24087,9,751,{left:t(a),inverted:!1,op:"~<=",right:t(r)},"expression",!1,!1,!1):"<"===c?s("MacroAccess",24145,9,754,{left:t(a),inverted:!1,op:"~<",right:s("Call",24154,s("Ident",24154,"__str"),[t(r)],!1,!1)},"expression",!1,!1,!1):s("MacroAccess",24192,9,756,{left:t(a),inverted:!1,op:"~<=",right:s("Call",24202,s("Ident",24202,"__str"),[t(r)],!1,!1)},"expression",!1,!1,!1):this.isType(r,"number")?"<"===c?s("MacroAccess",24278,9,759,{left:s("Call",24278,s("Ident",24278,"__num"),[t(a)],!1,!1),inverted:!1,op:"~<",right:t(r)},"expression",!1,!1,!1):s("MacroAccess",24321,9,761,{left:s("Call",24321,s("Ident",24321,"__num"),[t(a)],!1,!1),inverted:!1,op:"~<=",right:t(r)},"expression",!1,!1,!1):this.isType(r,"string")?"<"===c?s("MacroAccess",24407,9,764,{left:s("Call",24407,s("Ident",24407,"__str"),[t(a)],!1,!1),inverted:!1,op:"~<",right:t(r)},"expression",!1,!1,!1):s("MacroAccess",24450,9,766,{left:s("Call",24450,s("Ident",24450,"__str"),[t(a)],!1,!1),inverted:!1,op:"~<=",right:t(r)},"expression",!1,!1,!1):"<"===c?s("Call",24503,s("Ident",24503,"__lt"),[t(a),t(r)],!1,!1):s("Call",24539,s("Ident",24539,"__lte"),[t(a),t(r)],!1,!1)}}).call(this);',operators:["<","<="],options:{precedence:2,maximum:1,type:"boolean"},id:78},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,">"===c?s("MacroAccess",24661,3,774,{op:"not",node:s("MacroAccess",24667,78,774,{left:t(a),inverted:!1,op:"<=",right:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1):s("MacroAccess",24699,3,776,{op:"not",node:s("MacroAccess",24705,78,776,{left:t(a),inverted:!1,op:"<",right:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}}).call(this);',operators:[">",">="],options:{precedence:2,maximum:1,type:"boolean"},id:79},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o;return a=this,c=e.left,r=e.op,o=e.right,this.maybeCache(c,function(e,c){return a.maybeCache(o,function(a,r){return s("MacroAccess",24864,16,781,{macroName:"if",macroData:{test:s("MacroAccess",24867,9,781,{left:t(e),inverted:!1,op:"~<",right:t(a)},"expression",!1,!1,!1),body:t(c),elseIfs:[],elseBody:t(r)}},"expression",!1,!1,!1)})})}}).call(this);',operators:"~min",options:{precedence:8},id:80},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o;return a=this,c=e.left,r=e.op,o=e.right,this.maybeCache(c,function(e,c){return a.maybeCache(o,function(a,r){return s("MacroAccess",25058,16,786,{macroName:"if",macroData:{test:s("MacroAccess",25061,10,786,{left:t(e),inverted:!1,op:"~>",right:t(a)},"expression",!1,!1,!1),body:t(c),elseIfs:[],elseBody:t(r)}},"expression",!1,!1,!1)})})}}).call(this);',operators:"~max",options:{precedence:8},id:81},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o;return a=this,c=e.left,r=e.op,o=e.right,this.maybeCache(c,function(e,c){return a.maybeCache(o,function(a,r){return s("MacroAccess",25251,16,791,{macroName:"if",macroData:{test:s("MacroAccess",25254,78,791,{left:t(e),inverted:!1,op:"<",right:t(a)},"expression",!1,!1,!1),body:t(c),elseIfs:[],elseBody:t(r)}},"expression",!1,!1,!1)})})}}).call(this);',operators:"min",options:{precedence:8},id:82},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o;return a=this,c=e.left,r=e.op,o=e.right,this.maybeCache(c,function(e,c){return a.maybeCache(o,function(a,r){return s("MacroAccess",25443,16,796,{macroName:"if",macroData:{test:s("MacroAccess",25446,79,796,{left:t(e),inverted:!1,op:">",right:t(a)},"expression",!1,!1,!1),body:t(c),elseIfs:[],elseBody:t(r)}},"expression",!1,!1,!1)})})}}).call(this);',operators:"max",options:{precedence:8},id:83},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,s("Call",25546,s("Ident",25546,"__xor"),[t(a),t(r)],!1,!1)}}).call(this);',operators:"xor",options:{precedence:1},id:84},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r,o;return a=this,c=e.left,r=e.op,o=e.right,this.maybeCache(c,function(e,a){return s("MacroAccess",25661,16,803,{macroName:"if",macroData:{test:s("MacroAccess",25664,20,803,{op:"?",node:t(e)},"expression",!1,!1,!1),body:t(a),elseIfs:[],elseBody:t(o)}},"expression",!1,!1,!1)})}}).call(this);',operators:"?",options:{precedence:1},id:85},{code:'return(function(){"use strict";return function(e){var t,s,a;return t=e.left,s=e.op,a=e.right,this.binary(t,"&",a)}}).call(this);',operators:"~bitand",options:{precedence:1,type:"number"},id:92},{code:'return(function(){"use strict";return function(e){var t,s,a;return t=e.left,s=e.op,a=e.right,this.binary(t,"|",a)}}).call(this);',operators:"~bitor",options:{precedence:1,type:"number"},id:93},{code:'return(function(){"use strict";return function(e){var t,s,a;return t=e.left,s=e.op,a=e.right,this.binary(t,"^",a)}}).call(this);',operators:"~bitxor",options:{precedence:1,type:"number"},id:94},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,s("MacroAccess",28009,92,871,{left:s("MacroAccess",28009,60,871,{op:"+",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"~bitand",right:s("MacroAccess",28024,60,871,{op:"+",node:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}}).call(this);',operators:"bitand",options:{precedence:1,type:"number"},id:96},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,s("MacroAccess",28103,93,874,{left:s("MacroAccess",28103,60,874,{op:"+",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"~bitor",right:s("MacroAccess",28117,60,874,{op:"+",node:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}}).call(this);',operators:"bitor",options:{precedence:1,type:"number"},id:97},{code:'return(function(){"use strict";return function(e,t,s){var a,c,r;return a=e.left,c=e.op,r=e.right,s("MacroAccess",28197,94,877,{left:s("MacroAccess",28197,60,877,{op:"+",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"~bitxor",right:s("MacroAccess",28212,60,877,{op:"+",node:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}}).call(this);',operators:"bitxor",options:{precedence:1,type:"number"},id:98},{code:'return(function(){"use strict";return function(e,t,s,a){var c,r,o;return c=e.left,r=e.op,o=e.right,s("Call",36485,s("Ident",36485,"__range"),[t(c),t(o),s("Const",36509,1),a("true")],!1,!1)}}).call(this);',operators:"to",options:{maximum:1,precedence:4,type:"array"},id:110},{code:'return(function(){"use strict";return function(e,t,s,a){var c,r,o;return c=e.left,r=e.op,o=e.right,s("Call",36597,s("Ident",36597,"__range"),[t(c),t(o),s("Const",36621,1),a("false")],!1,!1)}}).call(this);',operators:"til",options:{maximum:1,precedence:4,type:"array"},id:111},{code:'return(function(){"use strict";var e,t;return e=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+t(e));return e},t=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(t,s,a){var r,c,o,n;return c=t.left,o=t.op,n=t.right,this.hasType(n,"number")||this.error("Must provide a number to the \'by\' operator",n),this.isConst(n)&&this.value(n)===0&&this.error("\'by\' step must be non-zero",n),this.isCall(c)&&this.isIdent(this.callFunc(c))&&this.name(this.callFunc(c))==="__range"&&!this.callIsApply(c)?(r=this.callArgs(c),a("Call",37059,a("Ident",37059,"__range"),[s(r[0]),s(r[1]),s(n),s(r[3])],!1,!1)):(this.isConst(n)&&e(this.value(n))%1!==0&&this.error("\'by\' step must be an integer",n),a("Call",37244,a("Ident",37244,"__step"),[s(c),s(n)],!1,!1))}}).call(this);',operators:"by",options:{maximum:1,precedence:3,type:"array"},id:112},{code:'return(function(){"use strict";var e,t,s;return e=function(e,t){var s;if(s=typeof e,"number"!==s&&"string"!==s)throw TypeError("Cannot compare a non-number/string: "+s);if(s!==typeof t)throw TypeError("Cannot compare elements of different types: "+s+" vs "+typeof t);return t>e},t=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+s(e));return e},s=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(s,a,r,c){var o,n,i,l,m,u;return l=s.left,m=s.op,u=s.right,this.isArray(u)?(n=this.elements(u),n.length===0?this.isComplex(l)?r("Block",69325,[a(l),c("false")],null):c("false"):n.length===1?(o=n[0],r("MacroAccess",69462,74,2056,{left:a(l),inverted:!1,op:"instanceof",right:a(o)},"expression",!1,!1,!1)):(i=function(s,c,o){var l;return e(s,n.length)?(l=n[s],i(t(s)+1,r("MacroAccess",69618,2,2061,{left:a(c),inverted:!1,op:"or",right:r("MacroAccess",69630,74,2061,{left:a(o),inverted:!1,op:"instanceof",right:a(l)},"expression",!1,!1,!1)},"expression",!1,!1,!1),o)):c},this.maybeCache(l,function(e,t){var s;return s=n[0],i(1,r("MacroAccess",69789,74,2066,{left:a(e),inverted:!1,op:"instanceof",right:a(s)},"expression",!1,!1,!1),t)}))):r("Call",69842,r("Ident",69842,"__instanceofsome"),[a(l),a(u)],!1,!1)}}).call(this);',operators:"instanceofsome",options:{precedence:6,maximum:1,invertible:!0,type:"boolean"},id:118},{code:'return(function(){"use strict";var e,t,s;return e=typeof Object.is=="function"?Object.is:function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t},t=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+s(e));return e},s=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(s,r,a){var c,o,n,i,l;return c=this,o=s.left,n=s.op,l=s.right,this.hasType(o,"number")&&this.hasType(l,"number")?this.isConst(o)?this.isConst(l)?(i=e(this.value(o),this.value(l)),r(i)):typeof this.value(o)=="number"&&isNaN(this.value(o))?this.maybeCache(l,function(e,t){return a("MacroAccess",104942,6,3146,{left:r(e),inverted:!1,op:"!=",right:r(t)},"expression",!1,!1,!1)}):this.value(o)===0?this.maybeCache(l,function(e,s){return 1/t(c.value(o))<0?a("MacroAccess",105103,1,3150,{left:a("MacroAccess",105103,5,3150,{left:r(e),inverted:!1,op:"==",right:a("Const",105118,0)},"expression",!1,!1,!1),inverted:!1,op:"and",right:a("MacroAccess",105123,78,3150,{left:a("MacroAccess",105123,45,3150,{left:a("Const",105124,1),inverted:!1,op:"~/",right:r(s)},"expression",!1,!1,!1),inverted:!1,op:"<",right:a("Const",105138,0)},"expression",!1,!1,!1)},"expression",!1,!1,!1):a("MacroAccess",105175,1,3152,{left:a("MacroAccess",105175,5,3152,{left:r(e),inverted:!1,op:"==",right:a("Const",105190,0)},"expression",!1,!1,!1),inverted:!1,op:"and",right:a("MacroAccess",105195,79,3152,{left:a("MacroAccess",105195,45,3152,{left:a("Const",105196,1),inverted:!1,op:"~/",right:r(s)},"expression",!1,!1,!1),inverted:!1,op:">",right:a("Const",105210,0)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}):a("MacroAccess",105239,5,3154,{left:r(o),inverted:!1,op:"==",right:r(l)},"expression",!1,!1,!1):this.isConst(l)?typeof this.value(l)=="number"&&isNaN(this.value(l))?this.maybeCache(o,function(e,t){return a("MacroAccess",105403,6,3158,{left:r(e),inverted:!1,op:"!=",right:r(t)},"expression",!1,!1,!1)}):this.value(l)===0?this.maybeCache(o,function(e,s){return 1/t(c.value(l))<0?a("MacroAccess",105553,1,3162,{left:a("MacroAccess",105553,5,3162,{left:r(e),inverted:!1,op:"==",right:a("Const",105567,0)},"expression",!1,!1,!1),inverted:!1,op:"and",right:a("MacroAccess",105572,78,3162,{left:a("MacroAccess",105572,45,3162,{left:a("Const",105573,1),inverted:!1,op:"~/",right:r(s)},"expression",!1,!1,!1),inverted:!1,op:"<",right:a("Const",105586,0)},"expression",!1,!1,!1)},"expression",!1,!1,!1):a("MacroAccess",105619,1,3164,{left:a("MacroAccess",105619,5,3164,{left:r(e),inverted:!1,op:"==",right:a("Const",105633,0)},"expression",!1,!1,!1),inverted:!1,op:"and",right:a("MacroAccess",105638,79,3164,{left:a("MacroAccess",105638,45,3164,{left:a("Const",105639,1),inverted:!1,op:"~/",right:r(s)},"expression",!1,!1,!1),inverted:!1,op:">",right:a("Const",105652,0)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}):a("MacroAccess",105677,5,3166,{left:r(o),inverted:!1,op:"==",right:r(l)},"expression",!1,!1,!1):a("Call",105713,a("Ident",105713,"__is"),[r(o),r(l)],!1,!1):a("MacroAccess",105748,5,3170,{left:r(o),inverted:!1,op:"==",right:r(l)},"expression",!1,!1,!1)}}).call(this);',operators:"is",options:{precedence:2,maximum:1,type:"boolean"},id:143},{code:'return(function(){"use strict";return function(e,t,s){var r,a,c;return r=e.left,a=e.op,c=e.right,s("MacroAccess",105847,3,3173,{op:"not",node:s("MacroAccess",105853,143,3173,{left:t(r),inverted:!1,op:"is",right:t(c)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}}).call(this);',operators:"isnt",options:{precedence:2,maximum:1,type:"boolean"},id:144},{code:'return(function(){"use strict";return function(e,t,s){var r,a,c;return r=e.left,a=e.op,c=e.right,s("Call",108002,s("Ident",108002,"__compose"),[t(r),t(c)],!1,!1)}}).call(this);',operators:"<<",options:{precedence:13,type:"function"},id:146},{code:'return(function(){"use strict";return function(e,t,s){var r,a,c,o;return r=e.left,a=e.op,c=e.right,this.isNoop(r)||this.isNoop(c)?s("Call",108259,s("Ident",108259,"__compose"),[t(c),t(r)],!1,!1):(o=this.tmp("ref"),s("Block",108192,[s("MacroAccess",108192,38,3238,{macroName:"let",macroData:{declarable:s("MacroAccess",108201,37,3238,s("MacroAccess",108201,31,3238,{ident:t(o)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:t(r)}},"statement",!1,!1,!1),s("Call",108215,s("Ident",108215,"__compose"),[t(c),t(o)],!1,!1)],null))}}).call(this);',operators:">>",options:{precedence:13,type:"function",rightToLeft:!0},id:147},{code:'return(function(){"use strict";return function(e,t,s){var r,a,c;return r=e.left,a=e.op,c=e.right,s("Call",108717,t(r),[t(c)],!1,!1)}}).call(this);',operators:"<|",options:{precedence:0,rightToLeft:!0},id:148},{code:'return(function(){"use strict";return function(e,t,s){var r,a,c,o;return r=e.left,a=e.op,c=e.right,this.isNoop(r)||this.isNoop(c)?s("Call",108915,t(c),[t(r)],!1,!1):(o=this.tmp("ref"),s("Block",108858,[s("MacroAccess",108858,38,3266,{macroName:"let",macroData:{declarable:s("MacroAccess",108867,37,3266,s("MacroAccess",108867,31,3266,{ident:t(o)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:t(r)}},"statement",!1,!1,!1),s("Call",108881,t(c),[t(o)],!1,!1)],null))}}).call(this);',operators:"|>",options:{precedence:0},id:149},{code:'return(function(){"use strict";var e,t,s,r,a;return e=typeof Array.isArray=="function"?Array.isArray:function(){var e;return e=Object.prototype.toString,function(t){return e.call(t)==="[object Array]"}}(),t=Array.prototype.slice,s=function(e){var t;if(t=typeof e,"string"===t)return e;if("number"===t)return String(e);throw TypeError("Expected a string or number, got "+a(e))},r=function(s){if(null==s)throw TypeError("Expected an object, got "+a(s));if(e(s))return s;if("string"==typeof s)return s.split("");if(typeof s.length=="number")return t.call(s);throw TypeError("Expected an object with a length property, got "+a(s))},a=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(e,t,a,c){var o,n,i,l;return o=this,n=e.left,i=e.op,l=e.right,this.isObject(l)?this.maybeCache(n,function(e,n){var i,m,u,p,h,d,f,A,M,v,y;for(p=e,u=[],M=o.pairs(l),i=r(M),d=0,A=i.length;A>d;++d){if(m=i[d],f=m.key,y=m.value,v=m.property,null!=v){if(("get"===v||"set"===v)&&A-1>d&&M[d+1].property!=null&&o.eq(f,M[d+1].key)&&M[d+1].property!==v&&((m=M[d+1].property)==="get"||"set"===m))continue;"property"===v?u.push(a("Call",109596,a("Ident",109596,"__defProp"),[t(p),t(f),t(y)],!1,!1)):"get"===v||"set"===v?(h=d>0&&M[d-1].property!=null&&o.eq(f,M[d-1].key)&&M[d-1].property!==v&&((m=M[d-1].property)==="get"||"set"===m)?a("Object",109873,[{key:t(M[d-1].property),value:t(M[d-1].value),property:void 0},{key:t(v),value:t(y),property:void 0},{key:a("Const",109994,"enumerable"),value:c("true"),property:void 0},{key:a("Const",110027,"configurable"),value:c("true"),property:void 0}],void 0):a("Object",110097,[{key:t(v),value:t(y),property:void 0},{key:a("Const",110152,"enumerable"),value:c("true"),property:void 0},{key:a("Const",110185,"configurable"),value:c("true"),property:void 0}],void 0),u.push(a("Call",110246,a("Ident",110246,"__defProp"),[t(p),t(f),t(h)],!1,!1))):o.error("Unknown property: "+s(v),f)}else u.push(a("MacroAccess",110397,30,3307,{left:a("Access",110397,t(p),t(f)),op:":=",right:t(y)},"statement",!1,!1,!1));p=n}return u.push(t(p)),t(u)}):a("Call",110530,a("Ident",110530,"__import"),[t(n),t(l)],!1,!1)}}).call(this);',operators:"<<<",options:{precedence:6},id:150},{code:'return(function(){"use strict";return function(e,t,s){var r,a,c,o;return r=e.left,a=e.op,c=e.right,this.isNoop(r)||this.isNoop(c)?s("MacroAccess",110762,150,3321,{left:t(c),inverted:!1,op:"<<<",right:t(r)},"expression",!1,!1,!1):(o=this.tmp("ref"),s("Block",110702,[s("MacroAccess",110702,38,3318,{macroName:"let",macroData:{declarable:s("MacroAccess",110711,37,3318,s("MacroAccess",110711,31,3318,{ident:t(o)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:t(r)}},"statement",!1,!1,!1),s("MacroAccess",110725,150,3319,{left:t(c),inverted:!1,op:"<<<",right:t(o)},"statement",!1,!1,!1)],null))}}).call(this);',operators:">>>",options:{precedence:6,rightToLeft:!0},id:151}],unaryOperator:[{code:'return(function(){"use strict";return function(e){var t,s,r;return t=this,r=e.op,s=e.node,this.mutateLast(s||this.noop(),function(e){return t.unary("!",e)},!0)}}).call(this);',operators:"not",options:{type:"boolean"},id:3},{code:'return(function(){"use strict";return function(e){var t,s,r;return t=this,r=e.op,s=e.node,this.mutateLast(s||this.noop(),function(e){return t.unary("typeof",e)},!0)}}).call(this);',operators:"typeof",options:{type:"string"},id:4},{code:'return(function(){"use strict";return function(e){var t,s,r;return t=this,r=e.op,s=e.node,this.mutateLast(s||this.noop(),function(e){return t["throw"](e)},!0)}}).call(this);',operators:"throw",options:{type:"none"},id:11},{code:'return(function(){"use strict";return function(e){var t,s;return s=e.op,t=e.node,this.unary("++post",t)}}).call(this);',operators:"postInc!",options:{type:"number"},id:12},{code:'return(function(){"use strict";return function(e){var t,s;return s=e.op,t=e.node,this.unary("--post",t)}}).call(this);',operators:"postDec!",options:{type:"number"},id:13},{code:'return(function(){"use strict";return function(e,t,s,r){var a,c;return c=e.op,a=e.node,this.isIdentOrTmp(a)&&!this.hasVariable(a)?s("MacroAccess",3994,1,112,{left:s("MacroAccess",3994,6,112,{left:s("MacroAccess",3994,4,112,{op:"typeof",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"!=",right:s("Const",4012,"undefined")},"expression",!1,!1,!1),inverted:!1,op:"and",right:s("MacroAccess",4025,6,112,{left:t(a),inverted:!1,op:"!=",right:r("null")},"expression",!1,!1,!1)},"expression",!1,!1,!1):s("MacroAccess",4055,8,114,{left:t(a),inverted:!1,op:"!~=",right:r("null")},"expression",!1,!1,!1)}}).call(this);',operators:"?",options:{postfix:!0,type:"boolean",label:"existential"},id:20},{code:'return(function(){"use strict";return function(e,t,s,r){var a,c;return c=e.op,a=e.node,this.isIdentOrTmp(a)&&!this.hasVariable(a)?s("MacroAccess",4202,5,118,{left:s("MacroAccess",4202,4,118,{op:"typeof",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"==",right:s("Const",4220,"undefined")},"expression",!1,!1,!1):s("MacroAccess",4245,5,120,{left:t(a),inverted:!1,op:"==",right:r("void")},"expression",!1,!1,!1)}}).call(this);',operators:["isVoid!","isUndefined!"],options:{type:"boolean"},id:21},{code:'return(function(){"use strict";return function(e,t,s,r){var a,c;return c=e.op,a=e.node,this.isIdentOrTmp(a)&&!this.hasVariable(a)?s("MacroAccess",4376,1,124,{left:s("MacroAccess",4376,6,124,{left:s("MacroAccess",4376,4,124,{op:"typeof",node:t(a)},"expression",!1,!1,!1),inverted:!1,op:"!=",right:s("Const",4394,"undefined")},"expression",!1,!1,!1),inverted:!1,op:"and",right:s("MacroAccess",4407,5,124,{left:t(a),inverted:!1,op:"==",right:r("null")},"expression",!1,!1,!1)},"expression",!1,!1,!1):s("MacroAccess",4437,5,126,{left:t(a),inverted:!1,op:"==",right:r("null")},"expression",!1,!1,!1)}}).call(this);',operators:"isNull!",options:{type:"boolean"},id:22},{code:'return(function(){"use strict";return function(e,t,s){var r,a;return a=e.op,r=e.node,s("MacroAccess",4512,5,129,{left:s("MacroAccess",4512,4,129,{op:"typeof",node:t(r)},"expression",!1,!1,!1),inverted:!1,op:"==",right:s("Const",4530,"string")},"expression",!1,!1,!1)}}).call(this);',operators:"isString!",options:{type:"boolean"},id:23},{code:'return(function(){"use strict";return function(e,t,s){var r,a;return a=e.op,r=e.node,s("MacroAccess",4597,5,132,{left:s("MacroAccess",4597,4,132,{op:"typeof",node:t(r)},"expression",!1,!1,!1),inverted:!1,op:"==",right:s("Const",4615,"number")},"expression",!1,!1,!1)}}).call(this);',operators:"isNumber!",options:{type:"boolean"},id:24},{code:'return(function(){"use strict";return function(e,t,s){var r,a;return a=e.op,r=e.node,s("MacroAccess",4683,5,135,{left:s("MacroAccess",4683,4,135,{op:"typeof",node:t(r)},"expression",!1,!1,!1),inverted:!1,op:"==",right:s("Const",4701,"boolean")},"expression",!1,!1,!1)}}).call(this);',operators:"isBoolean!",options:{type:"boolean"},id:25},{code:'return(function(){"use strict";return function(e,t,s){var r,a;return a=e.op,r=e.node,s("MacroAccess",4771,5,138,{left:s("MacroAccess",4771,4,138,{op:"typeof",node:t(r)},"expression",!1,!1,!1),inverted:!1,op:"==",right:s("Const",4789,"function")},"expression",!1,!1,!1)}}).call(this);',operators:"isFunction!",options:{type:"boolean"},id:26},{code:'return(function(){"use strict";return function(e,t,s){var r,a,c;return r=this,c=e.op,a=e.node,this.mutateLast(a||this.noop(),function(e){return r.isIdentOrTmp(e)&&!r.hasVariable(e)&&s("MacroAccess",4947,1,141,{left:s("MacroAccess",4947,5,141,{left:s("MacroAccess",4947,4,141,{op:"typeof",node:t(e)},"expression",!1,!1,!1),inverted:!1,op:"==",right:s("Const",4962,"object")},"expression",!1,!1,!1),inverted:!1,op:"and",right:s("Call",4972,s("Ident",4972,"__isArray"),[t(e)],!1,!1)},"expression",!1,!1,!1)||s("Call",4996,s("Ident",4996,"__isArray"),[t(e)],!1,!1)},!0)}}).call(this);',operators:"isArray!",options:{type:"boolean"},id:27},{code:'return(function(){"use strict";return function(e,t,s,r){var c,a,o;return c=this,o=e.op,a=e.node,this.mutateLast(a||this.noop(),function(e){return s("MacroAccess",5119,1,144,{left:s("MacroAccess",5119,5,144,{left:s("MacroAccess",5119,4,144,{op:"typeof",node:t(e)},"expression",!1,!1,!1),inverted:!1,op:"==",right:s("Const",5134,"object")},"expression",!1,!1,!1),inverted:!1,op:"and",right:s("MacroAccess",5144,6,144,{left:t(e),inverted:!1,op:"!=",right:r("null")},"expression",!1,!1,!1)},"expression",!1,!1,!1)},!0)}}).call(this);',operators:"isObject!",options:{type:"boolean"},id:28},{code:'return(function(){"use strict";return function(e){var t,s,r,c,a;return t=this,c=e.op,r=e.node,this.isConst(r)?(a=Number(this.value(r)),"~-"===c&&(s=function(e){return-e},a=s(a)),this["const"](a)):this.mutateLast(r||this.noop(),function(e){return t.unary("~+"===c?"+":"-",e)},!0)}}).call(this);',operators:["~+","~-"],options:{type:"number"},id:48},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a;return r=this,a=e.op,c=e.node,this.isIdentOrTmp(c)&&!this.hasVariable(c)?s("MacroAccess",16448,16,492,{macroName:"if",macroData:{test:s("MacroAccess",16451,5,492,{left:s("MacroAccess",16451,4,492,{op:"typeof",node:t(c)},"expression",!1,!1,!1),inverted:!1,op:"==",right:s("Const",16469,"undefined")},"expression",!1,!1,!1),body:s("Const",16484,"Undefined"),elseIfs:[],elseBody:s("Call",16500,s("Ident",16500,"__typeof"),[t(c)],!1,!1)}},"expression",!1,!1,!1):this.mutateLast(c||this.noop(),function(e){return s("Call",16572,s("Ident",16572,"__typeof"),[t(e)],!1,!1)},!0)}}).call(this);',operators:"typeof!",options:{type:"string"},id:57},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a;return r=this,a=e.op,c=e.node,this.mutateLast(c||this.noop(),function(e){return r.isType(e,"number")?e:r.getConstValue("DISABLE_TYPE_CHECKING",!1)?s("MacroAccess",17997,48,551,{op:"~+",node:t(e)},"expression",!1,!1,!1):s("Call",18024,s("Ident",18024,"__num"),[t(e)],!1,!1)},!0)}}).call(this);',operators:"+",options:{type:"number"},id:60},{code:'return(function(){"use strict";return function(e,t,s){var r,c;return c=e.op,r=e.node,this.isConst(r)&&typeof this.value(r)=="number"?this["const"](-this.value(r)):this.getConstValue("DISABLE_TYPE_CHECKING",!1)?s("MacroAccess",18229,48,559,{op:"~-",node:t(r)},"expression",!1,!1,!1):s("MacroAccess",18255,48,561,{op:"~-",node:s("MacroAccess",18259,60,561,{op:"+",node:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}}).call(this);',operators:"-",options:{type:"number"},id:61},{code:'return(function(){"use strict";return function(e,t,s){var r,c;return c=e.op,r=e.node,s("MacroAccess",18897,64,584,{left:t(r),inverted:!1,op:"/",right:s("Const",18906,100)},"expression",!1,!1,!1)}}).call(this);',operators:"%",options:{postfix:!0,type:"number"},id:65},{code:'return(function(){"use strict";return function(e){var t,s,r;return t=this,r=e.op,s=e.node,this.mutateLast(s||this.noop(),function(e){return t.unary("~",e)},!0)}}).call(this);',operators:"~bitnot",options:{type:"number"},id:99},{code:'return(function(){"use strict";return function(e,t,s){var r,c;return c=e.op,r=e.node,s("MacroAccess",28389,99,883,{op:"~bitnot",node:s("MacroAccess",28397,60,883,{op:"+",node:t(r)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}}).call(this);',operators:"bitnot",options:{type:"number"},id:100},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a;return r=this,a=e.op,c=e.node,this.isAccess(c)||this.error("Can only use delete on an access"),this.position==="expression"?this.maybeCacheAccess(c,function(e,c){var a,o;return o=r.tmp("ref"),a=r.unary("delete",c),s("Block",28683,[s("MacroAccess",28683,38,893,{macroName:"let",macroData:{declarable:s("MacroAccess",28694,37,893,s("MacroAccess",28694,31,893,{ident:t(o)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:t(e)}},"statement",!1,!1,!1),t(a),t(o)],null)}):this.unary("delete",c)}}).call(this);',operators:"delete",options:{standalone:!1},id:101},{code:'return(function(){"use strict";return function(e,t,s){var r,c;return c=e.op,r=e.node,this.maybeCache(r,function(e,r){return s("MacroAccess",28870,16,901,{macroName:"if",macroData:{test:s("MacroAccess",28873,20,901,{op:"?",node:t(e)},"expression",!1,!1,!1),body:s("MacroAccess",28889,11,901,{op:"throw",node:t(r)},"expression",!1,!1,!1),elseIfs:[]}},"expression",!1,!1,!1)})}}).call(this);',operators:"throw?",options:{type:"undefined"},id:102},{code:'return(function(){"use strict";var e,t,s,r,c,a,o,n;return e=typeof Array.isArray=="function"?Array.isArray:function(){var e;return e=Object.prototype.toString,function(t){return e.call(t)==="[object Array]"}}(),t=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+o(e));return e},s=Object.prototype.hasOwnProperty,r=Array.prototype.slice,c=function(e){var t;if(t=typeof e,"string"===t)return e;if("number"===t)return String(e);throw TypeError("Expected a string or number, got "+o(e))},a=function(t){if(null==t)throw TypeError("Expected an object, got "+o(t));if(e(t))return t;if("string"==typeof t)return t.split("");if(typeof t.length=="number")return r.call(t);throw TypeError("Expected an object with a length property, got "+o(t))},o=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),n=function(e,t){return e?!t&&e:t||e},function(e,r,i,l){function u(e){return/^[aeiou]/i.test(e)?"an":"a"}function m(e){return u(e)+" "+c(e)}function p(e){var t,s,c;return y.isTypeGeneric(e)?(s=y.basetype(e),(t=y.name(s))==="Array"||"Function"===t?s:(c=y.array(function(){var t,s,r,c,o;for(t=[],s=a(y.typeArguments(e)),r=0,c=s.length;c>r;++r)o=s[r],t.push(p(o));return t}()),i("Call",57064,i("Access",57064,r(s),i("Const",57075,"generic")),[i("Spread",57083,r(c))],!1,!1))):e}function h(e,t,c,u){var d,f,A,M,v,b,g,C,N,D,I,B,_,k,E,T,w,j,F,O,P,S;if(y.isIdent(c))return w=x?y.noop():s.call(Y,y.name(c))?i("MacroAccess",57321,17,1713,{macroName:"if",macroData:{test:i("MacroAccess",57333,74,1713,{left:r(e),inverted:!0,op:"instanceof",right:r(c)},"statement",!1,!1,!1),body:i("MacroAccess",57362,11,1714,{op:"throw",node:i("Call",57379,i("Ident",57379,"TypeError"),[i("MacroAccess",57390,69,1714,{left:i("MacroAccess",57390,69,1714,{left:i("MacroAccess",57390,69,1714,{left:i("MacroAccess",57390,69,1714,{left:i("MacroAccess",57390,69,1714,{left:i("Const",57390,"Expected "),op:"",right:r(t)},"expression",!1,!1,!1),op:"",right:i("Const",57390," to be ")},"expression",!1,!1,!1),op:"",right:r(m(y.name(c)))},"expression",!1,!1,!1),op:"",right:i("Const",57390,", got ")},"expression",!1,!1,!1),op:"",right:i("MacroAccess",57459,57,1714,{op:"typeof!",node:r(e)},"expression",!1,!1,!1)},"expression",!1,!1,!1)],!1,!1)},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1):i("MacroAccess",57499,17,1717,{macroName:"if",macroData:{test:i("MacroAccess",57511,74,1717,{left:r(e),inverted:!0,op:"instanceof",right:r(c)},"statement",!1,!1,!1),body:i("MacroAccess",57540,11,1718,{op:"throw",node:i("Call",57557,i("Ident",57557,"TypeError"),[i("MacroAccess",57568,69,1718,{left:i("MacroAccess",57568,69,1718,{left:i("MacroAccess",57568,69,1718,{left:i("MacroAccess",57568,69,1718,{left:i("MacroAccess",57568,69,1718,{left:i("Const",57568,"Expected "),op:"",right:r(t)},"expression",!1,!1,!1),op:"",right:i("Const",57568," to be a ")},"expression",!1,!1,!1),op:"",right:i("Call",57603,i("Ident",57603,"__name"),[r(c)],!1,!1)},"expression",!1,!1,!1),op:"",right:i("Const",57568,", got ")},"expression",!1,!1,!1),op:"",right:i("MacroAccess",57624,57,1718,{op:"typeof!",node:r(e)},"expression",!1,!1,!1)},"expression",!1,!1,!1)],!1,!1)},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1),u||y.name(c)!=="Boolean"?w:i("MacroAccess",57712,17,1720,{macroName:"if",macroData:{test:i("MacroAccess",57715,3,1720,{op:"not",node:i("MacroAccess",57719,20,1720,{op:"?",node:r(e)},"statement",!1,!0,!1)},"statement",!1,!0,!1),body:i("MacroAccess",57728,30,1721,{left:r(e),op:":=",right:l("false")},"statement",!1,!0,!1),elseIfs:[],elseBody:r(w)}},"statement",!1,!0,!1);if(y.isAccess(c))return x?y.noop():i("MacroAccess",57910,17,1731,{macroName:"if",macroData:{test:i("MacroAccess",57922,74,1731,{left:r(e),inverted:!0,op:"instanceof",right:r(c)},"statement",!1,!1,!1),body:i("MacroAccess",57951,11,1732,{op:"throw",node:i("Call",57968,i("Ident",57968,"TypeError"),[i("MacroAccess",57979,69,1732,{left:i("MacroAccess",57979,69,1732,{left:i("MacroAccess",57979,69,1732,{left:i("MacroAccess",57979,69,1732,{left:i("MacroAccess",57979,69,1732,{left:i("Const",57979,"Expected "),op:"",right:r(t)},"expression",!1,!1,!1),op:"",right:i("Const",57979," to be ")},"expression",!1,!1,!1),op:"",right:r(m(y.value(y.child(c))))},"expression",!1,!1,!1),op:"",right:i("Const",57979,", got ")},"expression",!1,!1,!1),op:"",right:i("MacroAccess",58057,57,1732,{op:"typeof!",node:r(e)},"expression",!1,!1,!1)},"expression",!1,!1,!1)],!1,!1)},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1);if(y.isTypeUnion(c)){for(N=!1,I=!1,D=!1,E=[],P=[],d=a(y.types(c)),A=0,M=d.length;M>A;++A)F=d[A],y.isConst(F)?y.value(F)===null?(D=!0,E.push(y["const"]("null"))):y.value(F)===void 0?(I=!0,E.push(y["const"]("undefined"))):y.error("Unknown const for type-checking: "+String(y.value(F)),F):y.isIdent(F)?(y.name(F)==="Boolean"&&(N=!0),s.call(Y,y.name(F))?E.push(y["const"](y.name(F))):E.push(i("Call",58860,i("Ident",58860,"__name"),[r(F)],!1,!1)),P.push(i("MacroAccess",58896,74,1757,{left:r(e),inverted:!0,op:"instanceof",right:r(F)},"expression",!1,!1,!1))):y.error("Not implemented: typechecking for non-idents/consts within a type-union",F);for(O=P.length?y.binaryChain("&&",P):l("true"),g=E[0],A=1,M=E.length;M>A;++A)k=E[A],g=i("MacroAccess",59223,69,1766,{left:i("MacroAccess",59223,69,1766,{left:r(g),op:"",right:i("Const",59223," or ")},"expression",!1,!1,!1),op:"",right:r(k)},"expression",!1,!1,!1);return S=g,w=x?y.noop():i("MacroAccess",59339,17,1770,{macroName:"if",macroData:{test:r(O),body:i("MacroAccess",59349,11,1771,{op:"throw",node:i("Call",59364,i("Ident",59364,"TypeError"),[i("MacroAccess",59375,69,1771,{left:i("MacroAccess",59375,69,1771,{left:i("MacroAccess",59375,69,1771,{left:i("MacroAccess",59375,69,1771,{left:i("MacroAccess",59375,69,1771,{left:i("Const",59375,"Expected "),op:"",right:r(t)},"expression",!1,!1,!1),op:"",right:i("Const",59375," to be one of ")},"expression",!1,!1,!1),op:"",right:r(S)},"expression",!1,!1,!1),op:"",right:i("Const",59375,", got ")},"expression",!1,!1,!1),op:"",right:i("MacroAccess",59435,57,1771,{op:"typeof!",node:r(e)},"expression",!1,!1,!1)},"expression",!1,!1,!1)],!1,!1)},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1),u||(D||I?w=n(D,I)?i("MacroAccess",59577,17,1776,{macroName:"if",macroData:{test:i("MacroAccess",59580,3,1776,{op:"not",node:i("MacroAccess",59584,20,1776,{op:"?",node:r(e)},"statement",!1,!0,!1)},"statement",!1,!0,!1),body:i("MacroAccess",59593,30,1777,{left:r(e),op:":=",right:i("MacroAccess",59616,16,1777,{macroName:"if",macroData:{test:r(D),body:l("null"),elseIfs:[],elseBody:l("void")}},"expression",!1,!0,!1)},"statement",!1,!0,!1),elseIfs:[],elseBody:r(w)}},"statement",!1,!0,!1):i("MacroAccess",59729,17,1781,{macroName:"if",macroData:{test:i("MacroAccess",59732,20,1781,{op:"?",node:r(e)},"statement",!1,!1,!1),body:r(w),elseIfs:[]}},"statement",!1,!1,!1):N&&(w=i("MacroAccess",59815,17,1784,{macroName:"if",macroData:{test:i("MacroAccess",59818,3,1784,{op:"not",node:i("MacroAccess",59822,20,1784,{op:"?",node:r(e)},"statement",!1,!0,!1)},"statement",!1,!0,!1),body:i("MacroAccess",59831,30,1785,{left:r(e),op:":=",right:l("false")},"statement",!1,!0,!1),elseIfs:[],elseBody:r(w)}},"statement",!1,!0,!1))),w}if(y.isTypeGeneric(c))return x?y.noop():y.name(y.basetype(c))==="Array"?(B=y.tmp("i",!1,"number"),j=h(i("Access",60130,r(e),r(B)),i("MacroAccess",60153,69,1794,{left:i("MacroAccess",60153,69,1794,{left:i("MacroAccess",60153,69,1794,{left:r(t),inverted:!1,op:"&",right:i("Const",60168,"[")},"expression",!1,!1,!1),inverted:!1,op:"&",right:r(B)},"expression",!1,!1,!1),inverted:!1,op:"&",right:i("Const",60183,"]")},"expression",!1,!1,!1),y.typeArguments(c)[0],!1),i("MacroAccess",60232,17,1795,{macroName:"if",macroData:{test:i("MacroAccess",60235,3,1795,{op:"not",node:i("MacroAccess",60239,27,1795,{op:"isArray!",node:r(e)},"statement",!1,!1,!1)},"statement",!1,!1,!1),body:i("MacroAccess",60257,11,1796,{op:"throw",node:i("Call",60272,i("Ident",60272,"TypeError"),[i("MacroAccess",60283,69,1796,{left:i("MacroAccess",60283,69,1796,{left:i("MacroAccess",60283,69,1796,{left:i("Const",60283,"Expected "),op:"",right:r(t)},"expression",!1,!1,!1),op:"",right:i("Const",60283," to be an Array, got ")},"expression",!1,!1,!1),op:"",right:i("MacroAccess",60330,57,1796,{op:"typeof!",node:r(e)},"expression",!1,!1,!1)},"expression",!1,!1,!1)],!1,!1)},"statement",!1,!1,!1),elseIfs:[],elseBody:i("MacroAccess",60360,106,1798,{macroName:"for",macroData:{init:i("MacroAccess",60375,38,1798,{macroName:"let",macroData:{declarable:i("MacroAccess",60378,37,1798,i("MacroAccess",60378,31,1798,{isMutable:"mutable",ident:r(B)},"expression",!1,!1,!1),"expression",!1,!1,!1),value:i("Access",60395,r(e),i("Const",60403,"length"))}},"expression",!1,!1,!1),test:i("MacroAccess",60411,13,1798,{op:"postDec!",node:r(B)},"statement",!1,!1,!1),body:r(j)}},"statement",!1,!1,!1)}},"statement",!1,!1,!1)):y.name(y.basetype(c))==="Function"?h(e,t,y.basetype(c),u):(C=p(c),i("MacroAccess",60666,17,1805,{macroName:"if",macroData:{test:i("MacroAccess",60678,74,1805,{left:r(e),inverted:!0,op:"instanceof",right:r(C)},"statement",!1,!1,!1),body:i("MacroAccess",60715,11,1806,{op:"throw",node:i("Call",60732,i("Ident",60732,"TypeError"),[i("MacroAccess",60743,69,1806,{left:i("MacroAccess",60743,69,1806,{left:i("MacroAccess",60743,69,1806,{left:i("MacroAccess",60743,69,1806,{left:i("MacroAccess",60743,69,1806,{left:i("Const",60743,"Expected "),op:"",right:r(t)},"expression",!1,!1,!1),op:"",right:i("Const",60743," to be a ")},"expression",!1,!1,!1),op:"",right:i("Call",60778,i("Ident",60778,"__name"),[r(C)],!1,!1)},"expression",!1,!1,!1),op:"",right:i("Const",60743,", got ")},"expression",!1,!1,!1),op:"",right:i("MacroAccess",60807,57,1806,{op:"typeof!",node:r(e)},"expression",!1,!1,!1)},"expression",!1,!1,!1)],!1,!1)},"statement",!1,!1,!1),elseIfs:[]}},"statement",!1,!1,!1));if(y.isTypeObject(c)){if(x)return y.noop();for(d=[],f=a(y.pairs(c)),A=0,M=f.length;M>A;++A)v=f[A],_=v.key,T=v.value,d.push(h(i("Access",61018,r(e),r(_)),i("MacroAccess",61039,69,1812,{left:i("MacroAccess",61039,69,1812,{left:r(t),inverted:!1,op:"&",right:i("Const",61054,".")},"expression",!1,!1,!1),inverted:!1,op:"&",right:r(_)},"expression",!1,!1,!1),T,!1));return b=d,i("MacroAccess",61096,17,1813,{macroName:"if",macroData:{test:i("MacroAccess",61099,3,1813,{op:"not",node:i("MacroAccess",61103,28,1813,{op:"isObject!",node:r(e)},"statement",!1,!1,!1)},"statement",!1,!1,!1),body:i("MacroAccess",61122,11,1814,{op:"throw",node:i("Call",61137,i("Ident",61137,"TypeError"),[i("MacroAccess",61148,69,1814,{left:i("MacroAccess",61148,69,1814,{left:i("MacroAccess",61148,69,1814,{left:i("Const",61148,"Expected "),op:"",right:r(t)},"expression",!1,!1,!1),op:"",right:i("Const",61148," to be an Object, got ")},"expression",!1,!1,!1),op:"",right:i("MacroAccess",61196,57,1814,{op:"typeof!",node:r(e)},"expression",!1,!1,!1)},"expression",!1,!1,!1)],!1,!1)},"statement",!1,!1,!1),elseIfs:[],elseBody:r(b)}},"statement",!1,!1,!1)}return y.error("Unknown type to translate: "+o(c),c)}function d(e,t){var s,n,l,u,m,p,f,A,M,v,b,x,C,N,D,I,B,_,k,T,w,j,F;if(y.isArray(e)){for(g=!0,u=y.tmp("p",!1,"array"),b=-1,s=a(y.elements(e)),x=0,I=s.length;I>x;++x)A=s[x],N=E.length,v=d(A,!0),null!=v&&(M=y.paramIdent(v),y.paramIsSpread(v)?(-1!==b&&y.error("Cannot have multiple spread parameters in an array destructure",A),b=x,x===I-1?E.splice(N,0,i("MacroAccess",62355,38,1842,{macroName:"let",macroData:{declarable:i("MacroAccess",62359,37,1842,i("MacroAccess",62359,31,1842,{ident:r(M)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:i("Call",62376,i("Ident",62376,"__slice"),[r(u),i("Spread",62399,i("MacroAccess",62404,16,1842,{macroName:"if",macroData:{test:i("MacroAccess",62406,5,1842,{left:r(x),inverted:!1,op:"==",right:i("Const",62413,0)},"expression",!1,!1,!1),body:i("Array",62419,[]),elseIfs:[],elseBody:i("Array",62427,[r(x)])}},"expression",!1,!1,!1))],!1,!0)}},"statement",!1,!1,!1)):(T=y.tmp("i",!1,"number"),E.splice(N,0,i("Block",62552,[i("MacroAccess",62552,38,1846,{macroName:"let",macroData:{declarable:i("MacroAccess",62571,37,1846,i("MacroAccess",62571,31,1846,{isMutable:"mutable",ident:r(T)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:i("MacroAccess",62597,66,1846,{left:i("Access",62597,r(u),i("Const",62611,"length")),inverted:!1,op:"-",right:i("MacroAccess",62621,66,1846,{left:i("MacroAccess",62621,66,1846,{left:r(I),inverted:!1,op:"-",right:r(x)},"expression",!1,!1,!1),inverted:!1,op:"-",right:i("Const",62633,1)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}},"statement",!1,!1,!1),i("MacroAccess",62636,38,1847,{macroName:"let",macroData:{declarable:i("MacroAccess",62655,37,1847,i("MacroAccess",62655,31,1847,{ident:r(M)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:i("MacroAccess",62672,17,1847,{macroName:"if",macroData:{test:i("MacroAccess",62675,79,1847,{left:r(T),inverted:!1,op:">",right:r(x)},"expression",!1,!1,!1),body:i("Call",62697,i("Ident",62697,"__slice"),[r(u),r(x),r(T)],!1,!0),elseIfs:[],elseBody:i("Block",62779,[i("MacroAccess",62779,30,1850,{left:r(T),op:":=",right:r(x)},"statement",!1,!1,!1),i("Array",62819,[])],null)}},"expression",!1,!1,!1)}},"statement",!1,!1,!1)],null)))):-1===b?E.splice(N,0,i("MacroAccess",61930,38,1834,{macroName:"let",macroData:{declarable:i("MacroAccess",61934,37,1834,i("MacroAccess",61934,31,1834,{ident:r(M)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:i("Access",61951,r(u),r(x))}},"statement",!1,!1,!1)):E.splice(N,0,i("MacroAccess",62030,38,1836,{macroName:"let",macroData:{declarable:i("MacroAccess",62034,37,1836,i("MacroAccess",62034,31,1836,{ident:r(M)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:i("Access",62051,r(u),i("MacroAccess",62065,66,1836,{left:r(T),inverted:!1,op:"+",right:i("MacroAccess",62084,66,1836,{left:i("MacroAccess",62084,66,1836,{left:r(x),inverted:!1,op:"-",right:r(b)},"expression",!1,!1,!1),inverted:!1,op:"-",right:i("Const",62105,1)},"expression",!1,!1,!1)},"expression",!1,!1,!1))}},"statement",!1,!1,!1)));return y.rewrap(y.param(u,null,!1,!1,null),e)}if(y.isObject(e)){for(g=!0,B=y.tmp("p",!1,"object"),s=a(y.pairs(e)),n=0,l=s.length;l>n;++n)_=s[n],N=E.length,j=d(_.value,!0),null!=j&&(F=y.paramIdent(j),D=_.key,E.splice(N,0,i("MacroAccess",63273,38,1863,{macroName:"let",macroData:{declarable:i("MacroAccess",63277,37,1863,i("MacroAccess",63277,31,1863,{ident:r(F)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:i("Access",63292,r(B),r(D))}},"statement",!1,!1,!1)));return y.rewrap(y.param(B,null,!1,!1,null),e)}return y.isParam(e)?(f=y.paramDefaultValue(e),m=y.paramType(e),k=y.paramIdent(e),null==f&&null==m&&y.isIdentOrTmp(k)?e:(g=!0,C=y.isIdentOrTmp(k)?k:y.isAccess(k)?y.ident(y.value(y.child(k))):y.error("Not an ident or this-access: "+o(k)+" "+c(k.inspect()),k),w=null!=m?h(C,y.name(C),m,null!=f):y.noop(),E.push(null!=f?i("MacroAccess",64130,17,1884,{macroName:"if",macroData:{test:i("MacroAccess",64144,3,1884,{op:"not",node:i("MacroAccess",64148,20,1884,{op:"?",node:r(C)},"statement",!1,!0,!1)},"statement",!1,!0,!1),body:i("MacroAccess",64157,30,1885,{left:r(C),op:":=",right:r(f)},"statement",!1,!0,!1),elseIfs:[],elseBody:r(w)}},"statement",!1,!0,!1):w),k!==C&&E.push(i("MacroAccess",64328,30,1891,{left:r(k),op:":=",right:r(C)},"statement",!1,!1,!1)),y.rewrap(y.param(C,null,y.paramIsSpread(e),y.paramIsMutable(e),null),e))):y.isNothing(e)?(g=!0,t?null:(p=y.tmp("p",!1,"object"),y.rewrap(y.param(p,null,!1,!1,null),e))):y.error("Unknown param type: "+o(e),e)}var f,A,M,v,y,b,g,x,C,N,D,I,B,_,k,E,T,w,j,F,O,P,S,L,U,G,V,q,H,K,Y,z,R;for(y=this,V=e.op,G=e.node,x=this.getConstValue("DISABLE_TYPE_CHECKING",!1),Y={Number:!0,String:!0,Boolean:!0,Function:!0,Array:!0,Object:!0},E=[],g=!1,C=-1,K=[],f=a(this.funcParams(G)),_=0,P=f.length;P>_;++_)H=f[_],T=E.length,q=d(H,!1),k=this.paramIdent(q),this.paramIsSpread(q)?(-1!==C&&this.error("Cannot have two spread parameters",q),g=!0,C=_,_===P-1?E.splice(T,0,i("MacroAccess",65219,38,1919,{macroName:"let",macroData:{declarable:i("MacroAccess",65232,37,1919,i("MacroAccess",65232,31,1919,{ident:r(k)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:i("Call",65241,i("Ident",65241,"__slice"),[i("Args",65251),i("Spread",65261,i("MacroAccess",65266,16,1919,{macroName:"if",macroData:{test:i("MacroAccess",65268,5,1919,{left:r(_),inverted:!1,op:"==",right:i("Const",65275,0)},"expression",!1,!1,!1),body:i("Array",65281,[]),elseIfs:[],elseBody:i("Array",65289,[r(_)])}},"expression",!1,!1,!1))],!1,!0)}},"statement",!1,!1,!1)):(R=this.tmp("i",!1,"number"),E.splice(T,0,i("Block",65396,[i("MacroAccess",65396,38,1923,{macroName:"let",macroData:{declarable:i("MacroAccess",65409,37,1923,i("MacroAccess",65409,31,1923,{isMutable:"mutable",ident:r(R)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:i("MacroAccess",65435,66,1923,{left:i("Access",65435,i("Args",65435),i("Const",65446,"length")),inverted:!1,op:"-",right:i("MacroAccess",65456,66,1923,{left:i("MacroAccess",65456,66,1923,{left:r(P),inverted:!1,op:"-",right:r(_)},"expression",!1,!1,!1),inverted:!1,op:"-",right:i("Const",65468,1)},"expression",!1,!1,!1)},"expression",!1,!1,!1)}},"statement",!1,!1,!1),i("MacroAccess",65471,38,1924,{macroName:"let",macroData:{declarable:i("MacroAccess",65484,37,1924,i("MacroAccess",65484,31,1924,{ident:r(k)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:i("MacroAccess",65493,17,1924,{macroName:"if",macroData:{test:i("MacroAccess",65496,79,1924,{left:r(R),inverted:!1,op:">",right:r(_)},"expression",!1,!1,!1),body:i("Call",65518,i("Ident",65518,"__slice"),[i("Args",65539),r(_),r(R)],!1,!0),elseIfs:[],elseBody:i("Block",65585,[i("MacroAccess",65585,30,1927,{left:r(R),op:":=",right:r(_)},"statement",!1,!1,!1),i("Array",65619,[])],null)}},"expression",!1,!1,!1)}},"statement",!1,!1,!1)],null)))):-1===C?K.push(q):E.splice(T,0,i("MacroAccess",65743,38,1934,{macroName:"let",macroData:{declarable:i("MacroAccess",65756,37,1934,i("MacroAccess",65756,31,1934,{ident:r(k)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:i("Access",65765,i("Args",65765),i("MacroAccess",65776,66,1934,{left:r(R),inverted:!1,op:"+",right:i("MacroAccess",65795,66,1934,{left:i("MacroAccess",65795,66,1934,{left:r(_),inverted:!1,op:"-",right:r(C)},"expression",!1,!1,!1),inverted:!1,op:"-",right:i("Const",65816,1)},"expression",!1,!1,!1)},"expression",!1,!1,!1))}},"statement",!1,!1,!1));if(E.length||g||this.funcIsCurried(G)?(b=this.funcBody(G),z=this.rewrap(this.func(K,i("Block",65965,[r(E),r(b)],null),this.funcIsAutoReturn(G)&&!this.isNothing(b),this.funcIsBound(G),!1,this.funcAsType(G),this.funcIsGenerator(G),this.funcGeneric(G)),G)):z=G,this.funcIsCurried(G)&&(z=i("Call",66247,i("Ident",66247,"__curry"),[r(K.length),r(z)],!1,!1)),D=this.funcGeneric(G),t(D.length)>0){for(I=this.tmp("cache",!1,"object"),f=[],A=a(D),M=0,v=A.length;v>M;++M)N=A[M],f.push(this.param(N));for(B=f,L=this.tmp("make",!1,"function"),j={},f=a(D),M=0,v=f.length;v>M;++M)N=f[M],U=this.name(N),O=this.tmp("instanceof_"+c(U),!1,"function"),j[U]={key:O,let:i("MacroAccess",66758,38,1965,{macroName:"let",macroData:{declarable:i("MacroAccess",66762,37,1965,i("MacroAccess",66762,31,1965,{ident:r(O)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:i("Call",66769,i("Ident",66769,"__getInstanceof"),[r(N)],!1,!1)}},"statement",!1,!1,!1),used:!1};z=this.walk(this.macroExpandAll(z),function(e){var t,c,a,o;return y.isBinary(e)&&y.op(e)==="instanceof"&&(o=y.right(e),y.isIdent(o)&&(a=y.name(o),s.call(j,a)))?(t=j[a].key,j[a].used=!0,c=y.left(e),i("Call",67219,r(t),[r(c)],!1,!1)):void 0}),f=[];for(U in j)s.call(j,U)&&(F=j[U],F.used&&f.push(F.let));w=f,w.length&&(z=i("Block",67375,[r(w),r(z)],null)),S=this.func(B,z,!0,!1),z=i("Call",67505,i("Ident",67505,"__genericFunc"),[r(D.length),r(S)],!1,!1)}return z}}).call(this);',operators:"mutateFunction!",options:{type:"node",label:"mutateFunction"},id:117},{code:'return(function(){"use strict";return function(e,t,s){var r,c;return c=e.op,r=e.node,s("Call",79095,s("Ident",79095,"__keys"),[t(r)],!1,!1)}}).call(this);',operators:"keys!",id:124},{code:'return(function(){"use strict";return function(e,t,s){var r,c;return c=e.op,r=e.node,s("Call",79251,s("Ident",79251,"__allkeys"),[t(r)],!1,!1)}}).call(this);',operators:"allkeys!",id:125},{code:'return(function(){"use strict";var e,t,s,r;return e=typeof Array.isArray=="function"?Array.isArray:function(){var e;return e=Object.prototype.toString,function(t){return e.call(t)==="[object Array]"}}(),t=Array.prototype.slice,s=function(s){if(null==s)throw TypeError("Expected an object, got "+r(s));if(e(s))return s;if("string"==typeof s)return s.split("");if(typeof s.length=="number")return t.call(s);throw TypeError("Expected an object with a length property, got "+r(s))},r=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(e,t,r){var c,a,o,n,i,l,u,m,p;if(u=e.op,l=e.node,p=this.tmp("s",!1,"object"),this.isArray(l)&&!this.arrayHasSpread(l)){if(this.elements(l).length===0)return r("Call",115154,r("Ident",115154,"Set"),[],!1,!1);for(m=[],c=s(this.elements(l)),a=0,o=c.length;o>a;++a)n=c[a],m.push(r("Call",115250,r("Access",115250,t(p),r("Const",115256,"add")),[t(n)],!1,!1));return r("Block",115279,[r("MacroAccess",115279,38,3505,{macroName:"let",macroData:{declarable:r("MacroAccess",115290,37,3505,r("MacroAccess",115290,31,3505,{ident:t(p)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Call",115297,r("Ident",115297,"Set"),[],!1,!1)}},"statement",!1,!1,!1),t(m),t(p)],null)}return i=this.tmp("x",!1,"any"),r("Block",115383,[r("MacroAccess",115383,38,3511,{macroName:"let",macroData:{declarable:r("MacroAccess",115392,37,3511,r("MacroAccess",115392,31,3511,{ident:t(p)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Call",115399,r("Ident",115399,"Set"),[],!1,!1)}},"statement",!1,!1,!1),r("MacroAccess",115406,113,3512,{macroName:"for",macroData:{value:r("MacroAccess",115415,37,3512,r("MacroAccess",115415,31,3512,{ident:t(i)},"statement",!1,!1,!1),"statement",!1,!1,!1),array:t(l),body:r("Call",115431,r("Access",115431,t(p),r("Const",115444,"add")),[t(i)],!1,!1)}},"statement",!1,!1,!1),t(p)],null)}}).call(this);',operators:"set!",options:{type:"object",label:"constructSet"},id:152},{code:'return(function(){"use strict";var e,t,s,r;return e=typeof Array.isArray=="function"?Array.isArray:function(){var e;return e=Object.prototype.toString,function(t){return e.call(t)==="[object Array]"}}(),t=Array.prototype.slice,s=function(s){if(null==s)throw TypeError("Expected an object, got "+r(s));if(e(s))return s;if("string"==typeof s)return s.split("");if(typeof s.length=="number")return t.call(s);throw TypeError("Expected an object with a length property, got "+r(s))},r=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(e,t,r){var c,a,o,n,i,l,u,m,p,h,d,f;if(m=e.op,u=e.node,this.isObject(u)||this.error("map! can only be used on literal objects",u),p=this.pairs(u),p.length===0)return r("Call",115682,r("Ident",115682,"Map"),[],!1,!1);for(l=this.tmp("m",!1,"object"),h=[],c=s(p),a=0,o=c.length;o>a;++a)n=c[a],i=n.key,f=n.value,d=n.property,null!=d&&this.error("Cannot use map! on an object with custom properties",i),h.push(r("Call",115906,r("Access",115906,t(l),r("Const",115912,"set")),[t(i),t(f)],!1,!1));return r("Block",115937,[r("MacroAccess",115937,38,3531,{macroName:"let",macroData:{declarable:r("MacroAccess",115946,37,3531,r("MacroAccess",115946,31,3531,{ident:t(l)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("Call",115953,r("Ident",115953,"Map"),[],!1,!1)}},"statement",!1,!1,!1),t(h),t(l)],null)}}).call(this);',operators:"map!",options:{type:"object",label:"constructMap"},id:153},{code:'return(function(){"use strict";var e,t,s,r;return e=typeof Array.isArray=="function"?Array.isArray:function(){var e;return e=Object.prototype.toString,function(t){return e.call(t)==="[object Array]"}}(),t=Array.prototype.slice,s=function(s){if(null==s)throw TypeError("Expected an object, got "+r(s));if(e(s))return s;if("string"==typeof s)return s.split("");if(typeof s.length=="number")return t.call(s);throw TypeError("Expected an object with a length property, got "+r(s))},r=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(e,t,c){var a,o,n;return o=e.op,a=e.node,a.cascades&&a.cascades.length||this.error("cascade! can only be used on a CascadeNode, got "+r(a),a),n=a.node,this.maybeCache(n,function(e,r){var o,n,i,l,u,m;for(o=[],n=s(a.cascades),u=0,i=n.length;i>u;++u)l=n[u],o.push(l(r));return m=o,c("Block",129889,[t(e),t(m),t(r)],null)})}}).call(this);',operators:"cascade!",options:{label:"cascade"},id:171}],helpers:{__throw:{helper:["Func",62,26,0,0,[["Ident",62,27,0,"err"]],[],[],"Throw",62,34,0,"Ident",62,40,0,"err"],type:{type:"generic",base:"functionBase",args:["none"]},dependencies:["__throw"]},GLOBAL:{helper:["IfExpression",146,23,0,["Binary",146,26,0,["Unary",118,9,0,"typeof","Ident",146,39,0,"window"],"!==","Const",118,27,0,"undefined"],["Ident",146,51,0,"window"],"IfExpression",146,23,0,["Binary",146,66,0,["Unary",118,9,0,"typeof","Ident",146,79,0,"global"],"!==","Const",118,27,0,"undefined"],["Ident",146,91,0,"global"],"This",146,103,0],type:"any",dependencies:["GLOBAL"]},__xor:{helper:["Func",148,24,0,0,[["Ident",148,25,0,"x"],["Ident",148,27,0,"y"]],[],[],"IfStatement",149,1,0,0,["Ident",149,5,0,"x"],["Return",150,1,0,"Binary",150,1,0,["Unary",150,1,0,"!","Ident",150,8,0,"y"],"&&","Ident",150,14,0,"x"],"Return",152,1,0,"Binary",152,1,0,["Ident",152,1,0,"y"],"||","Ident",152,9,0,"x"],type:"function",dependencies:["__xor"]},__typeof:{helper:["Call",9,9,0,["Func",9,12,0,0,[],["_toString"],[],"BlockStatement",481,1,0,0,["Binary",481,1,0,["Ident",481,6,0,"_toString"],"=","Binary",481,19,0,["Binary",481,19,0,["Ident",481,19,0,"Object"],".","Const",481,27,0,"prototype"],".","Const",481,37,0,"toString"],["Return",482,4,0,"Func",482,4,0,0,[["Ident",482,5,0,"o"]],[],[],"IfStatement",483,1,0,0,["Binary",120,9,0,["Ident",483,16,0,"o"],"===","Const",1,1,0],["Return",484,7,0,"Const",484,7,0,"Undefined"],"IfStatement",483,1,0,0,["Binary",126,9,0,["Ident",485,21,0,"o"],"===","Const",1,1,0,null],["Return",486,7,0,"Const",486,7,0,"Null"],"Return",488,1,0,"Binary",488,1,0,["Binary",488,8,0,["Binary",488,8,0,["Ident",488,8,0,"o"],".","Const",488,10,0,"constructor"],"&&","Binary",488,25,0,["Binary",488,25,0,["Ident",488,25,0,"o"],".","Const",488,28,0,"constructor"],".","Const",488,40,0,"name"],"||","Call",488,48,0,["Binary",488,48,0,["Call",488,48,0,["Binary",488,48,0,["Ident",488,48,0,"_toString"],".","Const",488,48,0,"call"],0,["Ident",488,61,0,"o"]],".","Const",488,64,0,"slice"],0,["Const",488,70,0,8],["Const",488,72,0,-1]]],0],type:{type:"generic",base:"functionBase",args:["string"]},dependencies:["__typeof"]},__first:{helper:["Func",496,26,0,0,[["Ident",496,27,0,"x"]],[],[],"Return",496,32,0,"Ident",496,32,0,"x"],type:"function",dependencies:["__first"]},__num:{helper:["Func",523,24,0,0,[["Ident",523,25,0,"num"]],[],[],"IfStatement",524,1,0,0,["Binary",524,5,0,["Unary",132,7,0,"typeof","Ident",524,20,0,"num"],"!==","Const",132,25,0,"number"],["Throw",525,1,0,"Call",525,10,0,["Ident",525,10,0,"TypeError"],0,["Binary",525,21,0,["Const",525,21,0,"Expected a number, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",525,57,0,"num"]]],"Return",527,1,0,"Ident",527,1,0,"num"],type:{type:"generic",base:"functionBase",args:["number"]},dependencies:["__num","__typeof"]},__str:{helper:["Func",529,24,0,0,[["Ident",529,25,0,"str"]],[],[],"IfStatement",530,1,0,0,["Binary",530,5,0,["Unary",129,7,0,"typeof","Ident",530,20,0,"str"],"!==","Const",129,25,0,"string"],["Throw",531,1,0,"Call",531,10,0,["Ident",531,10,0,"TypeError"],0,["Binary",531,21,0,["Const",531,21,0,"Expected a string, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",531,57,0,"str"]]],"Return",533,1,0,"Ident",533,1,0,"str"],type:{type:"generic",base:"functionBase",args:["string"]},dependencies:["__str","__typeof"]},__strnum:{helper:["Func",535,27,0,0,[["Ident",535,28,0,"strnum"]],["type"],[],"BlockStatement",536,1,0,0,["Binary",536,1,0,["Ident",536,6,0,"type"],"=","Unary",536,13,0,"typeof","Ident",536,20,0,"strnum"],["IfStatement",537,1,0,0,["Binary",537,5,0,["Ident",537,5,0,"type"],"===","Const",537,15,0,"string"],["Return",538,1,0,"Ident",538,1,0,"strnum"],"IfStatement",537,1,0,0,["Binary",539,10,0,["Ident",539,10,0,"type"],"===","Const",539,20,0,"number"],["Return",540,1,0,"Call",540,1,0,["Ident",540,1,0,"String"],0,["Ident",540,12,0,"strnum"]],"Throw",542,1,0,"Call",542,10,0,["Ident",542,10,0,"TypeError"],0,["Binary",542,21,0,["Const",542,21,0,"Expected a string or number, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",542,67,0,"strnum"]]]],type:{type:"generic",base:"functionBase",args:["string"]},dependencies:["__strnum","__typeof"]},__owns:{helper:["Binary",653,23,0,["Binary",653,23,0,["Ident",653,23,0,"Object"],".","Const",653,31,0,"prototype"],".","Const",653,41,0,"hasOwnProperty"],type:"any",dependencies:["__owns"]},__cmp:{helper:["Func",674,24,0,0,[["Ident",674,25,0,"left"],["Ident",674,30,0,"right"]],["type"],[],"IfStatement",675,1,0,0,["Binary",675,5,0,["Ident",675,5,0,"left"],"===","Ident",675,13,0,"right"],["Return",676,5,0,"Const",676,5,0,0],"BlockStatement",678,1,0,0,["Binary",678,1,0,["Ident",678,8,0,"type"],"=","Unary",678,15,0,"typeof","Ident",678,22,0,"left"],["IfStatement",679,1,0,0,["Binary",679,7,0,["Binary",43,7,0,["Ident",679,7,0,"type"],"!==","Const",679,17,0,"number"],"&&","Binary",43,7,0,["Ident",679,27,0,"type"],"!==","Const",679,37,0,"string"],["Throw",680,1,0,"Call",680,12,0,["Ident",680,12,0,"TypeError"],0,["Binary",680,23,0,["Const",680,23,0,"Cannot compare a non-number/string: "],"+","Ident",680,64,0,"type"]],"IfStatement",679,1,0,0,["Binary",43,7,0,["Ident",681,12,0,"type"],"!==","Unary",681,20,0,"typeof","Ident",681,27,0,"right"],["Throw",682,1,0,"Call",682,12,0,["Ident",682,12,0,"TypeError"],0,["Binary",682,23,0,["Binary",682,23,0,["Binary",682,23,0,["Const",682,23,0,"Cannot compare elements of different types: "],"+","Ident",682,72,0,"type"],"+","Const",682,81,0," vs "],"+","Unary",682,90,0,"typeof","Ident",682,97,0,"right"]],"IfStatement",679,1,0,0,["Binary",683,12,0,["Ident",683,12,0,"left"],"<","Ident",683,20,0,"right"],["Return",684,1,0,"Const",684,1,0,-1],"Return",686,7,0,"Const",686,7,0,1]],type:{type:"generic",base:"functionBase",args:["number"]},dependencies:["__cmp"]},__int:{helper:["Func",697,24,0,0,[["Ident",697,25,0,"num"]],[],[],"IfStatement",698,1,0,0,["Binary",698,5,0,["Unary",132,7,0,"typeof","Ident",698,20,0,"num"],"!==","Const",132,25,0,"number"],["Throw",699,1,0,"Call",699,10,0,["Ident",699,10,0,"TypeError"],0,["Binary",699,21,0,["Const",699,21,0,"Expected a number, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",699,57,0,"num"]]],"IfStatement",698,1,0,0,["Binary",695,7,0,["Binary",695,7,0,["Ident",700,10,0,"num"],"%","Const",700,23,0,1],"!==","Const",695,27,0,0],["Throw",701,1,0,"Call",701,10,0,["Ident",701,10,0,"TypeError"],0,["Binary",701,21,0,["Const",701,21,0,"Expected an integer, got "],"+","Ident",701,51,0,"num"]],"Return",703,1,0,"Ident",703,1,0,"num"],type:{type:"generic",base:"functionBase",args:["number"]},dependencies:["__int","__typeof"]},__nonzero:{helper:["Func",705,28,0,0,[["Ident",705,29,0,"num"]],[],[],"IfStatement",706,1,0,0,["Binary",706,5,0,["Ident",706,5,0,"num"],"===","Const",706,13,0,0],["Throw",707,1,0,"Call",707,10,0,["Ident",707,10,0,"RangeError"],0,["Binary",707,22,0,["Const",707,22,0,"Expected non-zero, got "],"+","Ident",707,50,0,"num"]],"Return",709,1,0,"Ident",709,1,0,"num"],type:"function",dependencies:["__nonzero"]},__lt:{helper:["Func",711,23,0,0,[["Ident",711,24,0,"x"],["Ident",711,26,0,"y"]],["type"],[],"BlockStatement",712,1,0,0,["Binary",712,1,0,["Ident",712,6,0,"type"],"=","Unary",712,13,0,"typeof","Ident",712,20,0,"x"],["IfStatement",713,1,0,0,["Binary",642,25,0,["Binary",646,18,0,["Ident",713,5,0,"type"],"!==","Const",713,20,0,"number"],"&&","Binary",642,37,0,["Ident",713,5,0,"type"],"!==","Const",713,29,0,"string"],["Throw",714,1,0,"Call",714,10,0,["Ident",714,10,0,"TypeError"],0,["Binary",714,21,0,["Const",714,21,0,"Cannot compare a non-number/string: "],"+","Ident",714,62,0,"type"]],"IfStatement",713,1,0,0,["Binary",43,7,0,["Ident",715,10,0,"type"],"!==","Unary",715,18,0,"typeof","Ident",715,25,0,"y"],["Throw",716,1,0,"Call",716,10,0,["Ident",716,10,0,"TypeError"],0,["Binary",716,21,0,["Binary",716,21,0,["Binary",716,21,0,["Const",716,21,0,"Cannot compare elements of different types: "],"+","Ident",716,70,0,"type"],"+","Const",716,79,0," vs "],"+","Unary",716,88,0,"typeof","Ident",716,95,0,"y"]],"Return",718,1,0,"Binary",718,1,0,["Ident",718,1,0,"x"],"<","Ident",718,9,0,"y"]],type:{type:"generic",base:"functionBase",args:["boolean"]},dependencies:["__lt"]},__lte:{helper:["Func",720,24,0,0,[["Ident",720,25,0,"x"],["Ident",720,27,0,"y"]],["type"],[],"BlockStatement",721,1,0,0,["Binary",721,1,0,["Ident",721,6,0,"type"],"=","Unary",721,13,0,"typeof","Ident",721,20,0,"x"],["IfStatement",722,1,0,0,["Binary",642,25,0,["Binary",646,18,0,["Ident",722,5,0,"type"],"!==","Const",722,20,0,"number"],"&&","Binary",642,37,0,["Ident",722,5,0,"type"],"!==","Const",722,29,0,"string"],["Throw",723,1,0,"Call",723,10,0,["Ident",723,10,0,"TypeError"],0,["Binary",723,21,0,["Const",723,21,0,"Cannot compare a non-number/string: "],"+","Ident",723,62,0,"type"]],"IfStatement",722,1,0,0,["Binary",43,7,0,["Ident",724,10,0,"type"],"!==","Unary",724,18,0,"typeof","Ident",724,25,0,"y"],["Throw",725,1,0,"Call",725,10,0,["Ident",725,10,0,"TypeError"],0,["Binary",725,21,0,["Binary",725,21,0,["Binary",725,21,0,["Const",725,21,0,"Cannot compare elements of different types: "],"+","Ident",725,70,0,"type"],"+","Const",725,79,0," vs "],"+","Unary",725,88,0,"typeof","Ident",725,95,0,"y"]],"Return",727,1,0,"Binary",727,1,0,["Ident",727,1,0,"x"],"<=","Ident",727,10,0,"y"]],type:{type:"generic",base:"functionBase",args:["boolean"]},dependencies:["__lte"]},__slice:{helper:["Binary",979,24,0,["Binary",979,24,0,["Ident",979,24,0,"Array"],".","Const",979,31,0,"prototype"],".","Const",979,41,0,"slice"],type:"any",dependencies:["__slice"]},__freeze:{helper:["IfExpression",981,25,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Binary",981,41,0,["Ident",981,41,0,"Object"],".","Const",981,49,0,"freeze"],"===","Const",138,25,0,"function"],["Binary",982,1,0,["Ident",982,1,0,"Object"],".","Const",982,10,0,"freeze"],"Func",984,4,0,0,[["Ident",984,5,0,"x"]],[],[],"Return",984,10,0,"Ident",984,10,0,"x"],type:"any",dependencies:["__freeze"]},__freezeFunc:{helper:["Func",986,32,0,0,[["Ident",986,33,0,"x"]],[],[],"BlockStatement",987,1,0,0,["IfStatement",987,1,0,0,["Binary",49,7,0,["Binary",987,5,0,["Ident",987,5,0,"x"],".","Const",987,8,0,"prototype"],"!=","Const",1,1,0,null],["Call",988,1,0,["Ident",988,1,0,"__freeze"],0,["Binary",988,14,0,["Ident",988,14,0,"x"],".","Const",988,16,0,"prototype"]]],["Return",989,1,0,"Call",989,1,0,["Ident",989,1,0,"__freeze"],0,["Ident",989,12,0,"x"]]],type:"function",dependencies:["__freeze","__freezeFunc"]},__isArray:{helper:["IfExpression",991,27,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Binary",991,43,0,["Ident",991,43,0,"Array"],".","Const",991,50,0,"isArray"],"===","Const",138,25,0,"function"],["Binary",992,1,0,["Ident",992,1,0,"Array"],".","Const",992,9,0,"isArray"],"Call",9,9,0,["Func",9,12,0,0,[],["_toString"],[],"BlockStatement",995,1,0,0,["Binary",995,1,0,["Ident",995,8,0,"_toString"],"=","Binary",995,21,0,["Binary",995,21,0,["Ident",995,21,0,"Object"],".","Const",995,29,0,"prototype"],".","Const",995,39,0,"toString"],["Return",996,6,0,"Func",996,6,0,0,[["Ident",996,7,0,"x"]],[],[],"Return",996,23,0,"Binary",996,23,0,["Call",996,23,0,["Binary",996,23,0,["Ident",996,23,0,"_toString"],".","Const",996,23,0,"call"],0,["Ident",996,36,0,"x"]],"===","Const",996,42,0,"[object Array]"]],0],type:"any",dependencies:["__isArray"]},__isObject:{helper:["Func",998,30,0,0,[["Ident",998,31,0,"x"]],[],[],"Return",998,47,0,"Binary",998,47,0,["Binary",998,47,0,["Unary",998,47,0,"typeof","Ident",998,54,0,"x"],"===","Const",998,61,0,"object"],"&&","Binary",43,7,0,["Ident",998,71,0,"x"],"!==","Const",998,76,0,null],type:{type:"generic",base:"functionBase",args:["boolean"]},dependencies:["__isObject"]},__toArray:{helper:["Func",1e3,29,0,0,[["Ident",1e3,30,0,"x"]],[],[],"IfStatement",1001,1,0,0,["Binary",1001,5,0,["Ident",1001,9,0,"x"],"==","Const",1,1,0,null],["Throw",1002,1,0,"Call",1002,10,0,["Ident",1002,10,0,"TypeError"],0,["Binary",1002,21,0,["Const",1002,21,0,"Expected an object, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",1002,58,0,"x"]]],"IfStatement",1001,1,0,0,["Call",141,146,0,["Ident",141,146,0,"__isArray"],0,["Ident",1003,20,0,"x"]],["Return",1004,1,0,"Ident",1004,1,0,"x"],"IfStatement",1001,1,0,0,["Binary",129,7,0,["Unary",129,7,0,"typeof","Ident",1005,21,0,"x"],"===","Const",129,25,0,"string"],["Return",1006,1,0,"Call",1006,1,0,["Binary",1006,1,0,["Ident",1006,1,0,"x"],".","Const",1006,7,0,"split"],0,["Const",1006,13,0,""]],"IfStatement",1001,1,0,0,["Binary",132,7,0,["Unary",132,7,0,"typeof","Binary",1007,21,0,["Ident",1007,21,0,"x"],".","Const",1007,24,0,"length"],"===","Const",132,25,0,"number"],["Return",1008,1,0,"Call",1008,1,0,["Binary",1008,1,0,["Ident",1008,1,0,"__slice"],".","Const",1008,1,0,"call"],0,["Ident",1008,14,0,"x"]],"Throw",1010,1,0,"Call",1010,10,0,["Ident",1010,10,0,"TypeError"],0,["Binary",1010,21,0,["Const",1010,21,0,"Expected an object with a length property, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",1010,81,0,"x"]]],type:{type:"generic",base:"functionBase",args:["array"]},dependencies:["__isArray","__slice","__toArray","__typeof"]},__create:{helper:["IfExpression",1012,25,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Binary",1012,41,0,["Ident",1012,41,0,"Object"],".","Const",1012,49,0,"create"],"===","Const",138,25,0,"function"],["Binary",1013,1,0,["Ident",1013,1,0,"Object"],".","Const",1013,10,0,"create"],"Func",1015,4,0,0,[["Ident",1015,5,0,"x"]],[],[],"BlockStatement",1016,1,0,0,["Func",1016,1,0,["Ident",1016,8,0,"F"],[],[],[]],["Binary",1017,1,0,["Binary",1017,1,0,["Ident",1017,1,0,"F"],".","Const",1017,7,0,"prototype"],"=","Ident",1017,19,0,"x"],["Return",1018,1,0,"Call",1018,1,0,["Ident",1018,8,0,"F"],1]],type:"any",dependencies:["__create"]},__pow:{helper:["Binary",1020,22,0,["Ident",1020,22,0,"Math"],".","Const",1020,28,0,"pow"],type:"any",dependencies:["__pow"]},__floor:{helper:["Binary",1021,24,0,["Ident",1021,24,0,"Math"],".","Const",1021,30,0,"floor"],type:"any",dependencies:["__floor"]},__sqrt:{helper:["Binary",1022,23,0,["Ident",1022,23,0,"Math"],".","Const",1022,29,0,"sqrt"],type:"any",dependencies:["__sqrt"]},__log:{helper:["Binary",1023,22,0,["Ident",1023,22,0,"Math"],".","Const",1023,28,0,"log"],type:"any",dependencies:["__log"]},__in:{helper:["IfExpression",1167,21,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Binary",1167,37,0,["Binary",1167,37,0,["Ident",1167,37,0,"Array"],".","Const",1167,44,0,"prototype"],".","Const",1167,54,0,"indexOf"],"===","Const",138,25,0,"function"],["Call",9,9,0,["Func",9,12,0,0,[],["indexOf"],[],"BlockStatement",1169,1,0,0,["Binary",1169,1,0,["Ident",1169,8,0,"indexOf"],"=","Binary",1169,19,0,["Binary",1169,19,0,["Ident",1169,19,0,"Array"],".","Const",1169,26,0,"prototype"],".","Const",1169,36,0,"indexOf"],["Return",1170,6,0,"Func",1170,6,0,0,[["Ident",1170,7,0,"child"],["Ident",1170,13,0,"parent"]],[],[],"Return",43,7,0,"Binary",43,7,0,["Call",1170,35,0,["Binary",1170,35,0,["Ident",1170,35,0,"indexOf"],".","Const",1170,35,0,"call"],0,["Ident",1170,46,0,"parent"],["Ident",1170,53,0,"child"]],"!==","Const",1170,63,0,-1]],0],"Func",1172,4,0,0,[["Ident",1172,5,0,"child"],["Ident",1172,11,0,"parent"]],["i","len"],[],"BlockStatement",1173,1,0,0,["Binary",1173,1,0,["Ident",1173,8,0,"len"],"=","Unary",1173,14,0,"+","Binary",1173,17,0,["Ident",1173,17,0,"parent"],".","Const",1173,24,0,"length"],["Binary",1174,1,0,["Ident",1174,16,0,"i"],"=","Const",1174,20,0,-1],["For",1135,1,0,0,0,["Binary",738,13,0,["Unary",1175,12,0,"++","Ident",1175,12,0,"i"],"<","Ident",1175,22,0,"len"],0,"IfStatement",1176,1,0,0,["Binary",1176,9,0,["Binary",1176,9,0,["Ident",1176,9,0,"child"],"===","Binary",1176,18,0,["Ident",1176,18,0,"parent"],".","Ident",1176,26,0,"i"],"&&","Binary",1176,32,0,["Ident",1176,46,0,"i"],"in","Ident",1176,32,0,"parent"],["Return",1177,1,0,"Const",1177,15,0,!0]],["Return",1178,1,0,"Const",1178,1,0,!1]],type:{type:"generic",base:"functionBase",args:["boolean"]},dependencies:["__in"]},__genericFunc:{helper:["Func",1663,33,0,0,[["Ident",1663,34,0,"numArgs"],["Ident",1663,53,0,"make"]],["any","cache","result"],[],"BlockStatement",1664,1,0,0,["Binary",1664,1,0,["Ident",1664,6,0,"cache"],"=","Call",1664,14,0,["Ident",1664,14,0,"WeakMap"],0],["Binary",1665,1,0,["Ident",1665,6,0,"any"],"=","Obj",1665,12,0],["Func",1666,1,0,["Ident",1666,6,0,"generic"],[],["_ref","current","i","item","type"],[],"BlockStatement",1537,1,0,0,["Binary",1537,1,0,["Ident",1667,45,0,"current"],"=","Ident",1667,55,0,"cache"],["For",1295,1,0,0,["Binary",1205,38,0,["Ident",1667,15,0,"i"],"=","Binary",590,9,0,["Ident",1667,20,0,"numArgs"],"-","Const",1667,32,0,1],["Binary",57,55,0,["Ident",1667,15,0,"i"],">=","Const",1667,37,0,0],["Unary",1243,35,0,"--","Ident",1667,15,0,"i"],"BlockStatement",1668,1,0,0,["IfStatement",803,9,0,0,["Binary",49,7,0,["Binary",1668,17,0,["Ident",1668,17,0,"_ref"],"=","Binary",1668,17,0,["Arguments",1668,17,0],".","Ident",1668,28,0,"i"],"!=","Const",1,1,0,null],["Binary",1668,1,0,["Ident",1668,10,0,"type"],"=","Ident",1668,17,0,"_ref"],"Binary",1668,1,0,["Ident",1668,10,0,"type"],"=","Ident",1668,32,0,"any"],["Binary",1669,1,0,["Ident",1669,18,0,"item"],"=","Call",1669,25,0,["Binary",1669,25,0,["Ident",1669,25,0,"current"],".","Const",1669,34,0,"get"],0,["Ident",1669,38,0,"type"]],["IfStatement",1670,1,0,0,["Binary",1670,9,0,["Ident",1670,13,0,"item"],"==","Const",1,1,0,null],["BlockStatement",1671,1,0,0,["IfStatement",1671,16,0,0,["Binary",1671,19,0,["Ident",1671,19,0,"i"],"===","Const",1671,25,0,0],["Binary",1671,1,0,["Ident",1671,1,0,"item"],"=","Call",1672,1,0,["Binary",1672,1,0,["Ident",1672,1,0,"make"],".","Const",1672,1,0,"apply"],0,["This",1672,17,0],["Arguments",1672,26,0]],"Binary",1671,1,0,["Ident",1671,1,0,"item"],"=","Call",1674,1,0,["Ident",1674,1,0,"WeakMap"],0],["Call",1675,1,0,["Binary",1675,1,0,["Ident",1675,1,0,"current"],".","Const",1675,17,0,"set"],0,["Ident",1675,21,0,"type"],["Ident",1675,26,0,"item"]]]],["Binary",1533,59,0,["Ident",1667,45,0,"current"],"=","Ident",1676,1,0,"item"]],["Return",1667,45,0,"Ident",1667,45,0,"current"]],["Binary",1677,1,0,["Ident",1677,6,0,"result"],"=","Call",1677,15,0,["Ident",1677,15,0,"generic"],0],["Binary",1678,1,0,["Binary",1678,1,0,["Ident",1678,1,0,"result"],".","Const",1678,10,0,"generic"],"=","Ident",1678,20,0,"generic"],["Return",1679,1,0,"Ident",1679,1,0,"result"]],type:"function",dependencies:["__genericFunc","__toArray","WeakMap"]},__range:{helper:["Func",1940,1,0,0,[["Ident",1989,27,0,"start"],["Ident",1989,43,0,"end"],["Ident",1989,58,0,"step"],["Ident",1989,74,0,"inclusive"]],["i","result"],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Binary",663,18,0,["Unary",132,7,0,"typeof","Ident",1989,27,0,"start"],"!==","Const",132,25,0,"number"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected start to be a Number, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",1989,27,0,"start"]]]],["IfStatement",1713,1,0,0,["Binary",663,18,0,["Unary",132,7,0,"typeof","Ident",1989,43,0,"end"],"!==","Const",132,25,0,"number"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected end to be a Number, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",1989,43,0,"end"]]]],["IfStatement",1713,1,0,0,["Binary",663,18,0,["Unary",132,7,0,"typeof","Ident",1989,58,0,"step"],"!==","Const",132,25,0,"number"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected step to be a Number, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",1989,58,0,"step"]]]],["IfStatement",1720,13,0,0,["Binary",1720,16,0,["Ident",1989,74,0,"inclusive"],"==","Const",1,1,0,null],["Binary",1721,1,0,["Ident",1989,74,0,"inclusive"],"=","Const",1,1,0,!1],"IfStatement",1713,1,0,0,["Binary",665,18,0,["Unary",135,7,0,"typeof","Ident",1989,74,0,"inclusive"],"!==","Const",135,25,0,"boolean"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected inclusive to be a Boolean, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",1989,74,0,"inclusive"]]]],["IfStatement",1990,1,0,0,["Binary",1990,5,0,["Ident",1990,5,0,"step"],"===","Const",1990,14,0,0],["Throw",1991,1,0,"Call",1991,10,0,["Ident",1991,10,0,"RangeError"],0,["Const",1991,22,0,"step cannot be zero"]],"IfStatement",1990,1,0,0,["Unary",1992,10,0,"!","Call",1992,14,0,["Ident",1992,14,0,"isFinite"],0,["Ident",1992,25,0,"start"]],["Throw",1993,1,0,"Call",1993,10,0,["Ident",1993,10,0,"RangeError"],0,["Const",1993,22,0,"start must be finite"]],"IfStatement",1990,1,0,0,["Unary",1994,10,0,"!","Call",1994,14,0,["Ident",1994,14,0,"isFinite"],0,["Ident",1994,25,0,"end"]],["Throw",1995,1,0,"Call",1995,10,0,["Ident",1995,10,0,"RangeError"],0,["Const",1995,22,0,"end must be finite"]]],["Binary",1996,1,0,["Ident",1996,6,0,"result"],"=","Arr",1996,15,0],["Binary",1997,1,0,["Ident",1997,14,0,"i"],"=","Ident",1997,18,0,"start"],["IfStatement",1998,1,0,0,["Binary",57,23,0,["Ident",1998,5,0,"step"],">","Const",1998,14,0,0],["BlockStatement",1999,1,0,0,["For",1135,1,0,0,0,["Binary",1999,10,0,["Ident",1999,10,0,"i"],"<","Ident",1999,15,0,"end"],["Binary",1999,20,0,["Ident",1999,20,0,"i"],"+=","Ident",1999,26,0,"step"],"Call",2e3,1,0,["Binary",2e3,1,0,["Ident",2e3,1,0,"result"],".","Const",2e3,14,0,"push"],0,["Ident",2e3,19,0,"i"]],["IfStatement",2001,1,0,0,["Binary",2001,7,0,["Ident",2001,7,0,"inclusive"],"&&","Binary",2001,21,0,["Ident",2001,21,0,"i"],"<=","Ident",2001,27,0,"end"],["Call",2002,1,0,["Binary",2002,1,0,["Ident",2002,1,0,"result"],".","Const",2002,14,0,"push"],0,["Ident",2002,19,0,"i"]]]],"BlockStatement",2004,1,0,0,["For",1135,1,0,0,0,["Binary",57,23,0,["Ident",2004,10,0,"i"],">","Ident",2004,15,0,"end"],["Binary",2004,20,0,["Ident",2004,20,0,"i"],"+=","Ident",2004,26,0,"step"],"Call",2005,1,0,["Binary",2005,1,0,["Ident",2005,1,0,"result"],".","Const",2005,14,0,"push"],0,["Ident",2005,19,0,"i"]],["IfStatement",2006,1,0,0,["Binary",2006,7,0,["Ident",2006,7,0,"inclusive"],"&&","Binary",57,55,0,["Ident",2006,21,0,"i"],">=","Ident",2006,27,0,"end"],["Call",2007,1,0,["Binary",2007,1,0,["Ident",2007,1,0,"result"],".","Const",2007,14,0,"push"],0,["Ident",2007,19,0,"i"]]]],["Return",2008,1,0,"Ident",2008,1,0,"result"]],type:{type:"generic",base:"functionBase",args:["numberArray"]},dependencies:["__range","__typeof"]},__step:{helper:["Func",1940,1,0,0,[["Ident",2010,26,0,"array"],["Ident",2010,32,0,"step"]],["i","len","result"],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Binary",663,18,0,["Unary",132,7,0,"typeof","Ident",2010,32,0,"step"],"!==","Const",132,25,0,"number"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected step to be a Number, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2010,32,0,"step"]]]],["IfStatement",2011,1,0,0,["Binary",2011,5,0,["Ident",2011,5,0,"step"],"===","Const",2011,14,0,0],["Throw",2012,1,0,"Call",2012,10,0,["Ident",2012,10,0,"RangeError"],0,["Const",2012,22,0,"step cannot be zero"]],"IfStatement",2011,1,0,0,["Binary",2013,10,0,["Ident",2013,10,0,"step"],"===","Const",2013,19,0,1],["Return",2014,1,0,"Call",2014,1,0,["Ident",2014,1,0,"__toArray"],0,["Ident",2014,16,0,"array"]],"IfStatement",2011,1,0,0,["Binary",2015,10,0,["Ident",2015,10,0,"step"],"===","Const",2015,18,0,-1],["Return",2016,1,0,"Call",2016,1,0,["Binary",2016,1,0,["Call",2016,1,0,["Binary",2016,1,0,["Ident",2016,1,0,"__slice"],".","Const",2016,1,0,"call"],0,["Ident",2016,14,0,"array"]],".","Const",2016,21,0,"reverse"],0],"IfStatement",2011,1,0,0,["Binary",692,7,0,["Binary",579,9,0,["Ident",2017,10,0,"step"],"%","Const",2017,23,0,1],"!==","Const",692,26,0,0],["Throw",2018,1,0,"Call",2018,10,0,["Ident",2018,10,0,"RangeError"],0,["Binary",616,7,0,["Const",2018,22,0,"step must be an integer, got "],"+","Call",2018,54,0,["Ident",2018,54,0,"String"],0,["Ident",2018,61,0,"step"]]],"BlockStatement",2020,1,0,0,["Binary",2020,1,0,["Ident",2020,8,0,"result"],"=","Arr",2020,17,0],["IfStatement",2021,1,0,0,["Binary",774,9,0,["Ident",2021,7,0,"step"],">","Const",2021,15,0,0],["BlockStatement",2022,1,0,0,["Binary",2022,1,0,["Ident",2022,18,0,"i"],"=","Const",2022,23,0,0],["Binary",2023,1,0,["Ident",2023,10,0,"len"],"=","Call",553,11,0,["Ident",553,11,0,"__num"],0,["Binary",2023,18,0,["Ident",2023,18,0,"array"],".","Const",2023,24,0,"length"]],["For",1135,1,0,0,0,["Binary",738,13,0,["Ident",2024,12,0,"i"],"<","Ident",2024,16,0,"len"],["Binary",912,11,0,["Ident",2024,21,0,"i"],"+=","Ident",2024,26,0,"step"],"Call",2025,1,0,["Binary",2025,1,0,["Ident",2025,1,0,"result"],".","Const",2025,16,0,"push"],0,["Binary",2025,21,0,["Ident",2025,21,0,"array"],".","Ident",2025,27,0,"i"]]],"BlockStatement",2027,1,0,0,["Binary",2027,1,0,["Ident",2027,18,0,"i"],"=","Binary",590,9,0,["Call",553,11,0,["Ident",553,11,0,"__num"],0,["Binary",2027,22,0,["Ident",2027,22,0,"array"],".","Const",2027,29,0,"length"]],"-","Const",2027,38,0,1],["For",1135,1,0,0,0,["Binary",776,9,0,["Ident",2028,12,0,"i"],">=","Const",2028,18,0,0],["Binary",912,11,0,["Ident",2028,20,0,"i"],"+=","Ident",2028,25,0,"step"],"Call",2029,1,0,["Binary",2029,1,0,["Ident",2029,1,0,"result"],".","Const",2029,16,0,"push"],0,["Binary",2029,21,0,["Ident",2029,21,0,"array"],".","Ident",2029,27,0,"i"]]],["Return",2030,1,0,"Ident",2030,1,0,"result"]]],type:{type:"generic",base:"functionBase",args:["array"]},dependencies:["__num","__slice","__step","__toArray","__typeof"]},__sliceStep:{helper:["Func",2032,31,0,0,[["Ident",2032,32,0,"array"],["Ident",2032,38,0,"start"],["Ident",2032,45,0,"end"],["Ident",2032,58,0,"step"],["Ident",2032,64,0,"inclusive"]],["arr"],[],"BlockStatement",2033,1,0,0,["IfStatement",2033,12,0,0,["Binary",2033,15,0,["Ident",2033,15,0,"step"],"<","Const",2033,24,0,0],["Binary",2033,1,0,["Ident",2033,6,0,"arr"],"=","Call",2034,1,0,["Binary",2034,1,0,["Ident",2034,1,0,"__slice"],".","Const",2034,1,0,"call"],0,["Ident",2034,14,0,"array"],["IfExpression",2034,20,0,["Ident",2034,23,0,"inclusive"],["Ident",2034,38,0,"end"],"Binary",2034,47,0,["Unary",368,21,0,"+","Ident",2034,47,0,"end"],"+","Const",2034,55,0,1],["Binary",2034,57,0,["Binary",2034,57,0,["Unary",368,21,0,"+","Ident",2034,57,0,"start"],"+","Const",2034,67,0,1],"||","Const",2034,71,0,1,1]],"Binary",2033,1,0,["Ident",2033,6,0,"arr"],"=","Call",2036,1,0,["Binary",2036,1,0,["Ident",2036,1,0,"__slice"],".","Const",2036,1,0,"call"],0,["Ident",2036,14,0,"array"],["Ident",2036,20,0,"start"],["IfExpression",2036,27,0,["Ident",2036,30,0,"inclusive"],["Binary",2036,45,0,["Binary",2036,45,0,["Unary",368,21,0,"+","Ident",2036,45,0,"end"],"+","Const",2036,53,0,1],"||","Const",2036,57,0,1,1],"Ident",2036,71,0,"end"]],["IfStatement",2037,1,0,0,["Binary",2037,5,0,["Ident",2037,5,0,"step"],"===","Const",2037,14,0,1],["Return",2038,1,0,"Ident",2038,1,0,"arr"],"IfStatement",2037,1,0,0,["Binary",2039,10,0,["Ident",2039,10,0,"step"],"===","Const",2039,18,0,-1],["Return",2040,1,0,"Call",2040,1,0,["Binary",2040,1,0,["Ident",2040,1,0,"arr"],".","Const",2040,9,0,"reverse"],0],"Return",2042,1,0,"Call",2042,1,0,["Ident",2042,1,0,"__step"],0,["Ident",2042,12,0,"arr"],["Ident",2042,16,0,"step"]]],type:{type:"generic",base:"functionBase",args:["array"]},dependencies:["__slice","__sliceStep","__step"]},__arrayToIter:{helper:["Call",9,9,0,["Func",9,12,0,0,[],["proto"],[],"BlockStatement",2142,1,0,0,["Binary",2142,1,0,["Ident",2142,6,0,"proto"],"=","Obj",2142,14,0,2143,5,null,"iterator",["Func",2143,16,0,0,[],[],[],"Return",2143,18,0,"This",2143,18,0],2144,5,null,"next",["Func",2144,12,0,0,[],["array","i"],[],"BlockStatement",2145,1,0,0,["Binary",2145,1,0,["Ident",2145,10,0,"i"],"=","Binary",588,9,0,["Call",553,11,0,["Ident",553,11,0,"__num"],0,["Binary",2145,14,0,["This",2145,14,0],".","Const",2145,16,0,"index"]],"+","Const",2145,24,0,1],["Binary",2146,1,0,["Ident",2146,10,0,"array"],"=","Binary",2146,18,0,["This",2146,18,0],".","Const",2146,20,0,"array"],["IfStatement",2147,1,0,0,["Binary",776,9,0,["Ident",2147,9,0,"i"],">=","Call",743,22,0,["Ident",743,22,0,"__num"],0,["Binary",2147,14,0,["Ident",2147,14,0,"array"],".","Const",2147,21,0,"length"]],["Return",2148,1,0,"Obj",2148,1,0,2148,11,null,"done",["Const",2148,16,0,!0],2148,22,null,"value",["Const",2148,29,0]],"BlockStatement",2150,1,0,0,["Binary",2150,1,0,["Binary",2150,1,0,["This",2150,1,0],".","Const",2150,10,0,"index"],"=","Ident",2150,18,0,"i"],["Return",2151,1,0,"Obj",2151,1,0,2151,11,null,"done",["Const",2151,16,0,!1],2151,23,null,"value",["Binary",2151,30,0,["Ident",2151,30,0,"array"],".","Ident",2151,37,0,"i"]]]]],["Return",1940,1,0,"Func",1940,1,0,0,[["Ident",2153,5,0,"array"]],["_o"],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Unary",669,18,0,"!","Call",141,146,0,["Ident",141,146,0,"__isArray"],0,["Ident",2153,5,0,"array"]],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected array to be an Array, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2153,5,0,"array"]]]],["Binary",2154,1,0,["Ident",2154,1,0,"_o"],"=","Call",2154,1,0,["Ident",2154,1,0,"__create"],0,["Ident",2154,14,0,"proto"]],["Binary",2155,7,0,["Binary",2155,7,0,["Ident",2154,1,0,"_o"],".","Const",2155,7,0,"array"],"=","Ident",2155,7,0,"array"],["Binary",2156,7,0,["Binary",2156,7,0,["Ident",2154,1,0,"_o"],".","Const",2156,7,0,"index"],"=","Const",2156,13,0,-1],["Return",2154,1,0,"Ident",2154,1,0,"_o"]]],0],type:{type:"generic",base:"functionBase",args:[{type:"object",pairs:{array:"array",index:"number"}}]},dependencies:["__arrayToIter","__create","__isArray","__num","__typeof"]},__iter:{helper:["Func",2159,25,0,0,[["Ident",2159,26,0,"iterable"]],[],[],"IfStatement",2160,1,0,0,["Binary",2160,5,0,["Ident",2160,9,0,"iterable"],"==","Const",1,1,0,null],["Throw",2161,1,0,"Call",2161,10,0,["Ident",2161,10,0,"TypeError"],0,["Binary",616,7,0,["Const",2161,21,0,"Expected iterable to be an Object, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2161,70,0,"iterable"]]],"IfStatement",2160,1,0,0,["Call",141,146,0,["Ident",141,146,0,"__isArray"],0,["Ident",2162,20,0,"iterable"]],["Return",2163,1,0,"Call",2163,1,0,["Ident",2163,1,0,"__arrayToIter"],0,["Ident",2163,21,0,"iterable"]],"IfStatement",2160,1,0,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Binary",2164,23,0,["Ident",2164,23,0,"iterable"],".","Const",2164,33,0,"iterator"],"===","Const",138,25,0,"function"],["Return",2165,1,0,"Call",2165,1,0,["Binary",2165,1,0,["Ident",2165,1,0,"iterable"],".","Const",2165,14,0,"iterator"],0],"IfStatement",2160,1,0,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Binary",2166,23,0,["Ident",2166,23,0,"iterable"],".","Const",2166,33,0,"next"],"===","Const",138,25,0,"function"],["Return",2167,1,0,"Ident",2167,1,0,"iterable"],"Throw",2169,1,0,"Call",2169,10,0,["Ident",2169,10,0,"Error"],0,["Binary",616,7,0,["Const",2169,17,0,"Expected iterable to be an Array or an Object with an 'iterator' function or an Object with a 'next' function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2169,142,0,"iterable"]]],type:"function",dependencies:["__arrayToIter","__isArray","__iter","__typeof"]},__keys:{helper:["IfExpression",2338,23,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Binary",2338,39,0,["Ident",2338,39,0,"Object"],".","Const",2338,47,0,"keys"],"===","Const",138,25,0,"function"],["Binary",2339,1,0,["Ident",2339,1,0,"Object"],".","Const",2339,10,0,"keys"],"Func",2341,4,0,0,[["Ident",2341,5,0,"x"]],["key","keys"],[],"BlockStatement",2342,1,0,0,["Binary",2342,1,0,["Ident",2342,8,0,"keys"],"=","Arr",2342,15,0],["ForIn",2343,1,0,0,["Ident",2343,8,0,"key"],["Ident",2343,15,0,"x"],"IfStatement",1596,1,0,0,["Call",656,7,0,["Binary",656,7,0,["Ident",656,7,0,"__owns"],".","Const",656,7,0,"call"],0,["Ident",2343,15,0,"x"],["Ident",2343,8,0,"key"]],["Call",2344,1,0,["Binary",2344,1,0,["Ident",2344,1,0,"keys"],".","Const",2344,12,0,"push"],0,["Ident",2344,17,0,"key"]]],["Return",2345,1,0,"Ident",2345,1,0,"keys"]],type:"any",dependencies:["__keys","__owns"]},__allkeys:{helper:["Func",2350,28,0,0,[["Ident",2350,29,0,"x"]],["key","keys"],[],"BlockStatement",2351,1,0,0,["Binary",2351,1,0,["Ident",2351,6,0,"keys"],"=","Arr",2351,13,0],["ForIn",2352,1,0,0,["Ident",2352,6,0,"key"],["Ident",2352,16,0,"x"],"Call",2353,1,0,["Binary",2353,1,0,["Ident",2353,1,0,"keys"],".","Const",2353,10,0,"push"],0,["Ident",2353,15,0,"key"]],["Return",2354,1,0,"Ident",2354,1,0,"keys"]],type:{type:"generic",base:"functionBase",args:["stringArray"]},dependencies:["__allkeys"]},__new:{helper:["Call",9,9,0,["Func",9,12,0,0,[],["newCreators"],[],"BlockStatement",2360,1,0,0,["Binary",2360,1,0,["Ident",2360,6,0,"newCreators"],"=","Arr",2360,21,0],["Return",2361,4,0,"Func",2361,4,0,0,[],["creator","func","i","length"],[],"BlockStatement",2362,1,0,0,["IfStatement",2362,1,0,0,["Binary",2362,7,0,["Unary",138,7,0,"typeof","This",2362,24,0],"!==","Const",138,25,0,"function"],["Throw",2363,1,0,"Call",2363,12,0,["Ident",2363,12,0,"Error"],0,["Binary",616,7,0,["Const",2363,19,0,"Expected this to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["This",2363,65,0]]]],["Binary",2364,1,0,["Ident",2364,8,0,"length"],"=","Binary",2364,17,0,["Arguments",2364,17,0],".","Const",2364,28,0,"length"],["Binary",2365,1,0,["Ident",2365,16,0,"creator"],"=","Binary",2365,26,0,["Ident",2365,26,0,"newCreators"],".","Ident",2365,40,0,"length"],["IfStatement",2366,1,0,0,["Unary",2366,7,0,"!","Ident",2366,11,0,"creator"],["BlockStatement",2367,1,0,0,["Binary",2367,1,0,["Ident",2367,10,0,"func"],"=","Arr",2367,17,0,["Const",2367,19,0,"return new C("]],["For",1295,1,0,0,["BlockExpression",1,1,0,["Binary",1205,38,0,["Ident",2368,10,0,"i"],"=","Const",2368,16,0,0],["Ident",2368,21,0,"length"]],["Binary",1231,57,0,["Ident",2368,10,0,"i"],"<","Ident",2368,21,0,"length"],["Unary",1243,35,0,"++","Ident",2368,10,0,"i"],"BlockStatement",2369,1,0,0,["IfStatement",2369,1,0,0,["Binary",774,9,0,["Ident",2369,11,0,"i"],">","Const",2369,16,0,0],["Call",2370,1,0,["Binary",2370,1,0,["Ident",2370,1,0,"func"],".","Const",2370,16,0,"push"],0,["Const",2370,21,0,", "]]],["Call",2371,1,0,["Binary",2371,1,0,["Ident",2371,1,0,"func"],".","Const",2371,14,0,"push"],0,["Const",2371,19,0,"a["],["Ident",2371,24,0,"i"],["Const",2371,28,0,"]"]]],["Call",2372,1,0,["Binary",2372,1,0,["Ident",2372,1,0,"func"],".","Const",2372,12,0,"push"],0,["Const",2372,17,0,");"]],["Binary",2373,1,0,["Ident",2373,1,0,"creator"],"=","Call",2373,17,0,["Ident",2373,17,0,"Function"],0,["Const",2373,27,0,"C"],["Const",2373,32,0,"a"],["Call",2373,36,0,["Binary",2373,36,0,["Ident",2373,36,0,"func"],".","Const",2373,42,0,"join"],0,["Const",2373,47,0,""]]],["Binary",2374,1,0,["Binary",2374,1,0,["Ident",2374,1,0,"newCreators"],".","Ident",2374,20,0,"length"],"=","Ident",2374,30,0,"creator"]]],["Return",2375,1,0,"Call",2375,1,0,["Ident",2375,1,0,"creator"],0,["This",2375,13,0],["Arguments",2375,18,0]]]],0],type:"function",dependencies:["__new","__typeof"]},__instanceofsome:{helper:["Func",2377,35,0,0,[["Ident",2377,36,0,"value"],["Ident",2377,42,0,"array"]],["_arr","_i","_some","item"],[],"BlockStatement",2378,1,0,0,["Binary",1043,26,0,["Ident",1502,13,0,"_some"],"=","Const",1,1,0,!1],["For",1502,13,0,0,["BlockExpression",1,1,0,["Binary",2378,1,0,["Ident",2378,1,0,"_arr"],"=","Call",1359,22,0,["Ident",1359,22,0,"__toArray"],0,["Ident",2378,19,0,"array"]],["Binary",1401,26,0,["Ident",2378,1,0,"_i"],"=","Binary",1401,49,0,["Ident",2378,1,0,"_arr"],".","Const",1401,56,0,"length"]],["Unary",1402,16,0,"--post","Ident",2378,1,0,"_i"],0,"BlockStatement",1488,1,0,0,["Binary",1488,1,0,["Ident",2378,11,0,"item"],"=","Binary",1362,75,0,["Ident",2378,1,0,"_arr"],".","Ident",2378,1,0,"_i"],["IfStatement",1045,1,0,0,["Binary",2379,1,0,["Ident",2379,1,0,"value"],"instanceof","Ident",2379,21,0,"item"],["BlockStatement",1046,1,0,0,["Binary",1046,1,0,["Ident",1502,13,0,"_some"],"=","Const",1,1,0,!0],["Break",1047,1,0]]]],["Return",1502,13,0,"Ident",1502,13,0,"_some"]],type:{type:"generic",base:"functionBase",args:["boolean"]},dependencies:["__instanceofsome","__toArray"]},__getInstanceof:{helper:["Call",9,9,0,["Func",9,12,0,0,[],[],[],"BlockStatement",2382,1,0,0,["Func",2382,1,0,["Ident",2382,6,0,"isAny"],[],[],[],"Return",2382,19,0,"Const",2382,19,0,!0],["Func",2383,1,0,["Ident",2383,6,0,"isStr"],[["Ident",2383,17,0,"x"]],[],[],"Return",129,7,0,"Binary",129,7,0,["Unary",129,7,0,"typeof","Ident",2383,17,0,"x"],"===","Const",129,25,0,"string"],["Func",2384,1,0,["Ident",2384,6,0,"isNum"],[["Ident",2384,17,0,"x"]],[],[],"Return",132,7,0,"Binary",132,7,0,["Unary",132,7,0,"typeof","Ident",2384,17,0,"x"],"===","Const",132,25,0,"number"],["Func",2385,1,0,["Ident",2385,6,0,"isFunc"],[["Ident",2385,18,0,"x"]],[],[],"Return",138,7,0,"Binary",138,7,0,["Unary",138,7,0,"typeof","Ident",2385,18,0,"x"],"===","Const",138,25,0,"function"],["Func",2386,1,0,["Ident",2386,6,0,"isBool"],[["Ident",2386,18,0,"x"]],[],[],"Return",135,7,0,"Binary",135,7,0,["Unary",135,7,0,"typeof","Ident",2386,18,0,"x"],"===","Const",135,25,0,"boolean"],["Return",2387,4,0,"Func",2387,4,0,0,[["Ident",2387,5,0,"ctor"]],[],[],"IfStatement",2388,1,0,0,["Binary",2388,7,0,["Ident",2388,11,0,"ctor"],"==","Const",1,1,0,null],["Return",2389,1,0,"Ident",2389,1,0,"isAny"],"Switch",2391,1,0,0,["Ident",2391,13,0,"ctor"],2392,11,null,["Ident",2392,11,0,"String"],["Return",2392,19,0,"Ident",2392,19,0,"isStr"],2393,11,null,["Ident",2393,11,0,"Number"],["Return",2393,19,0,"Ident",2393,19,0,"isNum"],2394,11,null,["Ident",2394,11,0,"Function"],["Return",2394,21,0,"Ident",2394,21,0,"isFunc"],2395,11,null,["Ident",2395,11,0,"Boolean"],["Return",2395,20,0,"Ident",2395,20,0,"isBool"],2396,11,null,["Ident",2396,11,0,"Array"],["Return",2396,18,0,"Ident",2396,18,0,"__isArray"],2397,11,null,["Ident",2397,11,0,"Object"],["Return",2397,19,0,"Ident",2397,19,0,"__isObject"],["Return",2398,17,0,"Func",2398,17,0,0,[["Ident",2398,17,0,"_x"]],[],[],"Return",2398,17,0,"Binary",2398,17,0,["Ident",2398,17,0,"_x"],"instanceof","Ident",2398,27,0,"ctor"]]],0],type:{type:"generic",base:"functionBase",args:[{type:"generic",base:"functionBase",args:["boolean"]}]},dependencies:["__getInstanceof","__isArray","__isObject"]},__name:{helper:["Func",1940,1,0,0,[["Ident",2400,26,0,"func"]],[],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Ident",2400,26,0,"func"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected func to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2400,26,0,"func"]]]],["Return",2400,50,0,"Binary",2400,50,0,["Binary",2400,50,0,["Binary",2400,50,0,["Ident",2400,50,0,"func"],".","Const",2400,56,0,"displayName"],"||","Binary",2400,71,0,["Ident",2400,71,0,"func"],".","Const",2400,77,0,"name"],"||","Const",2400,85,0,""]],type:{type:"generic",base:"functionBase",args:["string"]},dependencies:["__name","__typeof"]},__once:{helper:["Call",9,9,0,["Func",9,12,0,0,[],[],[],"BlockStatement",2403,1,0,0,["Func",2403,1,0,["Ident",2403,6,0,"replacement"],[],[],[],"Throw",2403,23,0,"Call",2403,29,0,["Ident",2403,29,0,"Error"],0,["Const",2403,36,0,"Attempted to call function more than once"]],["Func",2404,1,0,["Ident",2404,6,0,"doNothing"],[],[],[]],["Return",1940,1,0,"Func",1940,1,0,0,[["Ident",2405,12,0,"func"],["Ident",2405,24,0,"silentFail"]],[],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Ident",2405,12,0,"func"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected func to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2405,12,0,"func"]]]],["IfStatement",1720,13,0,0,["Binary",1720,16,0,["Ident",2405,24,0,"silentFail"],"==","Const",1,1,0,null],["Binary",1721,1,0,["Ident",2405,24,0,"silentFail"],"=","Const",1,1,0,!1],"IfStatement",1713,1,0,0,["Binary",665,18,0,["Unary",135,7,0,"typeof","Ident",2405,24,0,"silentFail"],"!==","Const",135,25,0,"boolean"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected silentFail to be a Boolean, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2405,24,0,"silentFail"]]]],["Return",2405,53,0,"Func",2405,53,0,0,[],["f"],[],"BlockStatement",2406,1,0,0,["Binary",2406,1,0,["Ident",2406,8,0,"f"],"=","Ident",2406,12,0,"func"],["IfStatement",2407,12,0,0,["Ident",2407,15,0,"silentFail"],["Binary",2407,1,0,["Ident",2407,1,0,"func"],"=","Ident",2407,32,0,"doNothing"],"Binary",2407,1,0,["Ident",2407,1,0,"func"],"=","Ident",2407,48,0,"replacement"],["Return",2408,1,0,"Call",2408,1,0,["Binary",2408,1,0,["Ident",2408,1,0,"f"],".","Const",2408,1,0,"apply"],0,["This",2408,8,0],["Arguments",2408,17,0]]]]],0],type:{type:"generic",base:"functionBase",args:["function"]},dependencies:["__once","__toArray","__typeof"]},__async:{helper:["Func",1940,1,0,0,[["Ident",2510,34,0,"limit"],["Ident",2510,51,0,"length"],["Ident",2510,69,0,"hasResult"],["Ident",2510,92,0,"onValue"],["Ident",2510,108,0,"onComplete"]],["broken","completed","index","result","slotsUsed","sync"],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Binary",663,18,0,["Unary",132,7,0,"typeof","Ident",2510,34,0,"limit"],"!==","Const",132,25,0,"number"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected limit to be a Number, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2510,34,0,"limit"]]]],["IfStatement",1713,1,0,0,["Binary",663,18,0,["Unary",132,7,0,"typeof","Ident",2510,51,0,"length"],"!==","Const",132,25,0,"number"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected length to be a Number, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2510,51,0,"length"]]]],["IfStatement",1720,13,0,0,["Binary",1720,16,0,["Ident",2510,69,0,"hasResult"],"==","Const",1,1,0,null],["Binary",1721,1,0,["Ident",2510,69,0,"hasResult"],"=","Const",1,1,0,!1],"IfStatement",1713,1,0,0,["Binary",665,18,0,["Unary",135,7,0,"typeof","Ident",2510,69,0,"hasResult"],"!==","Const",135,25,0,"boolean"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected hasResult to be a Boolean, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2510,69,0,"hasResult"]]]],["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Ident",2510,92,0,"onValue"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected onValue to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2510,92,0,"onValue"]]]],["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Ident",2510,108,0,"onComplete"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected onComplete to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2510,108,0,"onComplete"]]]],["IfStatement",2511,15,0,0,["Ident",2511,18,0,"hasResult"],["Binary",2511,1,0,["Ident",2511,6,0,"result"],"=","Arr",2511,34,0],"Binary",2511,1,0,["Ident",2511,6,0,"result"],"=","Const",2511,42,0,null],["IfStatement",2512,1,0,0,["Binary",2512,5,0,["Ident",2512,5,0,"length"],"<=","Const",2512,17,0,0],["Return",2513,1,0,"Call",2513,11,0,["Ident",2513,11,0,"onComplete"],0,["Const",2513,24,0,null],["Ident",2513,29,0,"result"]]],["IfStatement",2514,1,0,0,["Binary",2514,5,0,["Binary",2514,5,0,["Ident",2514,5,0,"limit"],"<","Const",2514,15,0,1],"||","Binary",43,7,0,["Ident",2514,19,0,"limit"],"!==","Ident",2514,28,0,"limit"],["Binary",2515,1,0,["Ident",2515,1,0,"limit"],"=","Const",2515,13,0,1,1]],["Binary",2517,1,0,["Ident",2517,14,0,"broken"],"=","Const",2517,23,0,null],["Binary",2518,1,0,["Ident",2518,14,0,"slotsUsed"],"=","Const",2518,28,0,0],["Binary",2519,1,0,["Ident",2519,14,0,"sync"],"=","Const",2519,21,0,!1],["Binary",2520,1,0,["Ident",2520,14,0,"completed"],"=","Const",2520,26,0,!1],["Func",2521,1,0,["Ident",2521,6,0,"onValueCallback"],[["Ident",2521,25,0,"err"],["Ident",2521,29,0,"value"]],[],[],"BlockStatement",2522,1,0,0,["IfStatement",2522,1,0,0,["Ident",2522,7,0,"completed"],["Return",2523,1,0,"Const",2523,1,0]],["Unary",2524,1,0,"--","Ident",2524,1,0,"slotsUsed"],["IfStatement",2525,1,0,0,["Binary",2525,7,0,["Binary",49,7,0,["Ident",2525,7,0,"err"],"!=","Const",1,1,0,null],"&&","Binary",2525,16,0,["Ident",2525,20,0,"broken"],"==","Const",1,1,0,null],["Binary",2526,1,0,["Ident",2526,1,0,"broken"],"=","Ident",2526,16,0,"err"]],["IfStatement",2527,1,0,0,["Binary",2527,7,0,["Binary",2527,7,0,["Ident",2527,7,0,"hasResult"],"&&","Binary",2527,22,0,["Ident",2527,26,0,"broken"],"==","Const",1,1,0,null],"&&","Binary",57,23,0,["Binary",2527,38,0,["Arguments",2527,38,0],".","Const",2527,49,0,"length"],">","Const",2527,59,0,1],["Call",2528,1,0,["Binary",2528,1,0,["Ident",2528,1,0,"result"],".","Const",2528,14,0,"push"],0,["Ident",2528,19,0,"value"]]],["IfStatement",2529,1,0,0,["Unary",2529,7,0,"!","Ident",2529,11,0,"sync"],["Call",2530,1,0,["Ident",2530,1,0,"next"],0]]],["Binary",2531,1,0,["Ident",2531,14,0,"index"],"=","Const",2531,22,0,-1],["Func",2532,1,0,["Ident",2532,6,0,"next"],[],[],[],"BlockStatement",2533,1,0,0,["For",1135,1,0,0,0,["Binary",2533,10,0,["Binary",2533,10,0,["Binary",2533,10,0,["Unary",2533,10,0,"!","Ident",2533,14,0,"completed"],"&&","Binary",2533,28,0,["Ident",2533,32,0,"broken"],"==","Const",1,1,0,null],"&&","Binary",2533,44,0,["Ident",2533,44,0,"slotsUsed"],"<","Ident",2533,58,0,"limit"],"&&","Binary",2533,68,0,["Unary",912,11,0,"++","Ident",2533,70,0,"index"],"<","Ident",2533,84,0,"length"],0,"BlockStatement",2534,1,0,0,["Unary",2534,1,0,"++","Ident",2534,1,0,"slotsUsed"],["Binary",2535,1,0,["Ident",2535,1,0,"sync"],"=","Const",2535,14,0,!0],["Call",2536,1,0,["Ident",2536,1,0,"onValue"],0,["Ident",2536,16,0,"index"],["Call",2436,11,0,["Ident",2436,11,0,"__once"],0,["Ident",2536,29,0,"onValueCallback"]]],["Binary",2537,1,0,["Ident",2537,1,0,"sync"],"=","Const",2537,14,0,!1]],["IfStatement",2538,1,0,0,["Binary",2538,7,0,["Unary",2538,7,0,"!","Ident",2538,11,0,"completed"],"&&","Binary",2538,27,0,["Binary",49,7,0,["Ident",2538,27,0,"broken"],"!=","Const",1,1,0,null],"||","Binary",2538,37,0,["Ident",2538,37,0,"slotsUsed"],"===","Const",2538,52,0,0],["BlockStatement",2539,1,0,0,["Binary",2539,1,0,["Ident",2539,1,0,"completed"],"=","Const",2539,19,0,!0],["IfStatement",2540,1,0,0,["Binary",49,7,0,["Ident",2540,9,0,"broken"],"!=","Const",1,1,0,null],["Call",2541,1,0,["Ident",2541,1,0,"onComplete"],0,["Ident",2541,21,0,"broken"]],"Call",2543,1,0,["Ident",2543,1,0,"onComplete"],0,["Const",2543,21,0,null],["Ident",2543,26,0,"result"]]]]],["Call",2544,1,0,["Ident",2544,1,0,"next"],0]],type:"function",dependencies:["__async","__once","__typeof"]},__asyncIter:{helper:["Func",1940,1,0,0,[["Ident",2546,39,0,"limit"],["Ident",2546,56,0,"iterator"],["Ident",2546,86,0,"hasResult"],["Ident",2546,109,0,"onValue"],["Ident",2546,125,0,"onComplete"]],["broken","close","completed","index","iterStopped","result","slotsUsed","sync"],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Binary",663,18,0,["Unary",132,7,0,"typeof","Ident",2546,39,0,"limit"],"!==","Const",132,25,0,"number"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected limit to be a Number, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2546,39,0,"limit"]]]],["IfStatement",1813,12,0,0,["Binary",1813,15,0,["Binary",144,47,0,["Unary",144,47,0,"typeof","Ident",2546,56,0,"iterator"],"!==","Const",144,62,0,"object"],"||","Binary",144,72,0,["Ident",2546,56,0,"iterator"],"===","Const",1,1,0,null],["Throw",1814,1,0,"Call",1814,16,0,["Ident",1814,16,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected iterator to be an Object, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2546,56,0,"iterator"]]],"IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Binary",1812,37,0,["Ident",2546,56,0,"iterator"],".","Const",2546,70,0,"next"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected iterator.next to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Binary",1812,37,0,["Ident",2546,56,0,"iterator"],".","Const",2546,70,0,"next"]]]],["IfStatement",1720,13,0,0,["Binary",1720,16,0,["Ident",2546,86,0,"hasResult"],"==","Const",1,1,0,null],["Binary",1721,1,0,["Ident",2546,86,0,"hasResult"],"=","Const",1,1,0,!1],"IfStatement",1713,1,0,0,["Binary",665,18,0,["Unary",135,7,0,"typeof","Ident",2546,86,0,"hasResult"],"!==","Const",135,25,0,"boolean"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected hasResult to be a Boolean, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2546,86,0,"hasResult"]]]],["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Ident",2546,109,0,"onValue"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected onValue to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2546,109,0,"onValue"]]]],["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Ident",2546,125,0,"onComplete"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected onComplete to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",2546,125,0,"onComplete"]]]],["IfStatement",2547,1,0,0,["Binary",2547,5,0,["Binary",2547,5,0,["Ident",2547,5,0,"limit"],"<","Const",2547,15,0,1],"||","Binary",43,7,0,["Ident",2547,19,0,"limit"],"!==","Ident",2547,28,0,"limit"],["Binary",2548,1,0,["Ident",2548,1,0,"limit"],"=","Const",2548,13,0,1,1]],["Binary",2549,1,0,["Ident",2549,14,0,"broken"],"=","Const",2549,23,0,null],["Binary",2550,1,0,["Ident",2550,14,0,"slotsUsed"],"=","Const",2550,28,0,0],["Binary",2551,1,0,["Ident",2551,14,0,"sync"],"=","Const",2551,21,0,!1],["IfStatement",2552,15,0,0,["Ident",2552,18,0,"hasResult"],["Binary",2552,1,0,["Ident",2552,6,0,"result"],"=","Arr",2552,34,0],"Binary",2552,1,0,["Ident",2552,6,0,"result"],"=","Const",2552,42,0,null],["Binary",2553,1,0,["Ident",2553,14,0,"completed"],"=","Const",2553,26,0,!1],["Func",2554,1,0,["Ident",2554,6,0,"onValueCallback"],[["Ident",2554,25,0,"err"],["Ident",2554,29,0,"value"]],[],[],"BlockStatement",2555,1,0,0,["IfStatement",2555,1,0,0,["Ident",2555,7,0,"completed"],["Return",2556,1,0,"Const",2556,1,0]],["Unary",2557,1,0,"--","Ident",2557,1,0,"slotsUsed"],["IfStatement",2558,1,0,0,["Binary",2558,7,0,["Binary",49,7,0,["Ident",2558,7,0,"err"],"!=","Const",1,1,0,null],"&&","Binary",2558,16,0,["Ident",2558,20,0,"broken"],"==","Const",1,1,0,null],["Binary",2559,1,0,["Ident",2559,1,0,"broken"],"=","Ident",2559,16,0,"err"]],["IfStatement",2560,1,0,0,["Binary",2560,7,0,["Binary",2560,7,0,["Ident",2560,7,0,"hasResult"],"&&","Binary",2560,22,0,["Ident",2560,26,0,"broken"],"==","Const",1,1,0,null],"&&","Binary",57,23,0,["Binary",2560,38,0,["Arguments",2560,38,0],".","Const",2560,49,0,"length"],">","Const",2560,59,0,1],["Call",2561,1,0,["Binary",2561,1,0,["Ident",2561,1,0,"result"],".","Const",2561,14,0,"push"],0,["Ident",2561,19,0,"value"]]],["IfStatement",2562,1,0,0,["Unary",2562,7,0,"!","Ident",2562,11,0,"sync"],["Call",2563,1,0,["Ident",2563,1,0,"next"],0]]],["Binary",2564,1,0,["Ident",2564,14,0,"index"],"=","Const",2564,22,0,-1],["Binary",2565,1,0,["Ident",2565,14,0,"iterStopped"],"=","Const",2565,29,0,!1],["Binary",2566,1,0,["Ident",2566,14,0,"close"],"=","Func",2566,24,0,0,[],[],[],"BlockStatement",2567,1,0,0,["Binary",2567,1,0,["Ident",2567,1,0,"close"],"=","Func",2567,15,0,0,[],[],[]],["TryCatch",2568,1,0,0,["Return",2569,1,0,"Call",2569,1,0,["Binary",2569,1,0,["Ident",2569,1,0,"iterator"],".","Const",2569,16,0,"close"],0],["Ident",2570,10,0,"e"],"Return",2571,1,0,"Const",2571,1,0]],["Func",2572,1,0,["Ident",2572,6,0,"next"],[],["item"],[],"BlockStatement",2573,1,0,0,["For",1135,1,0,0,0,["Binary",2573,10,0,["Binary",2573,10,0,["Binary",2573,10,0,["Unary",2573,10,0,"!","Ident",2573,14,0,"completed"],"&&","Binary",2573,28,0,["Ident",2573,32,0,"broken"],"==","Const",1,1,0,null],"&&","Binary",2573,44,0,["Ident",2573,44,0,"slotsUsed"],"<","Ident",2573,58,0,"limit"],"&&","Unary",2573,68,0,"!","Ident",2573,72,0,"iterStopped"],0,"BlockStatement",2574,1,0,0,["TryCatch",2574,1,0,0,["Binary",2575,1,0,["Ident",2575,12,0,"item"],"=","Call",2575,19,0,["Binary",2575,19,0,["Ident",2575,19,0,"iterator"],".","Const",2575,29,0,"next"],0],["Ident",2576,12,0,"e"],"BlockStatement",2577,1,0,0,["Binary",2577,1,0,["Ident",2577,1,0,"broken"],"=","Ident",2577,18,0,"e"],["Break",2578,1,0]],["IfStatement",2580,1,0,0,["Binary",2580,9,0,["Ident",2580,9,0,"item"],".","Const",2580,15,0,"done"],["BlockStatement",2581,1,0,0,["Binary",2581,1,0,["Ident",2581,1,0,"iterStopped"],"=","Const",2581,24,0,!0],["Break",2582,1,0]]],["Unary",2584,1,0,"++","Ident",2584,1,0,"slotsUsed"],["Binary",2585,1,0,["Ident",2585,1,0,"sync"],"=","Const",2585,14,0,!0],["TryCatch",2586,1,0,0,["Call",2587,1,0,["Ident",2587,1,0,"onValue"],0,["Binary",2587,18,0,["Ident",2587,18,0,"item"],".","Const",2587,23,0,"value"],["Unary",912,11,0,"++","Ident",2587,31,0,"index"],["Call",2436,11,0,["Ident",2436,11,0,"__once"],0,["Ident",2587,50,0,"onValueCallback"]]],["Ident",2588,12,0,"e"],"BlockStatement",2589,1,0,0,["Call",2589,1,0,["Ident",2589,1,0,"close"],0],["Throw",2590,1,0,"Ident",2590,14,0,"e"]],["Binary",2591,1,0,["Ident",2591,1,0,"sync"],"=","Const",2591,14,0,!1]],["IfStatement",2592,1,0,0,["Binary",2592,7,0,["Unary",2592,7,0,"!","Ident",2592,11,0,"completed"],"&&","Binary",2592,27,0,["Binary",49,7,0,["Ident",2592,27,0,"broken"],"!=","Const",1,1,0,null],"||","Binary",2592,37,0,["Ident",2592,37,0,"slotsUsed"],"===","Const",2592,52,0,0],["BlockStatement",2593,1,0,0,["Binary",2593,1,0,["Ident",2593,1,0,"completed"],"=","Const",2593,19,0,!0],["Call",2594,1,0,["Ident",2594,1,0,"close"],0],["IfStatement",2595,1,0,0,["Binary",49,7,0,["Ident",2595,9,0,"broken"],"!=","Const",1,1,0,null],["Call",2596,1,0,["Ident",2596,1,0,"onComplete"],0,["Ident",2596,21,0,"broken"]],"Call",2598,1,0,["Ident",2598,1,0,"onComplete"],0,["Const",2598,21,0,null],["Ident",2598,26,0,"result"]]]]],["Call",2599,1,0,["Ident",2599,1,0,"next"],0]],type:{type:"generic",base:"functionBase",args:["undefined"]},dependencies:["__asyncIter","__once","__typeof"]},__is:{helper:["IfExpression",3128,21,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Binary",3128,37,0,["Ident",3128,37,0,"Object"],".","Const",3128,45,0,"is"],"===","Const",138,25,0,"function"],["Binary",3129,1,0,["Ident",3129,1,0,"Object"],".","Const",3129,10,0,"is"],"Func",3131,4,0,0,[["Ident",3131,5,0,"x"],["Ident",3131,7,0,"y"]],[],[],"IfStatement",3132,1,0,0,["Binary",3132,7,0,["Ident",3132,7,0,"x"],"===","Ident",3132,12,0,"y"],["Return",3133,1,0,"Binary",3133,1,0,["Binary",43,7,0,["Ident",3133,1,0,"x"],"!==","Const",3133,12,0,0],"||","Binary",3133,18,0,["Binary",3133,18,0,["Const",3133,18,0,1],"/","Ident",3133,22,0,"x"],"===","Binary",3133,27,0,["Const",3133,28,0,1],"/","Ident",3133,32,0,"y"],"Return",3135,1,0,"Binary",3135,1,0,["Binary",43,7,0,["Ident",3135,1,0,"x"],"!==","Ident",3135,11,0,"x"],"&&","Binary",43,7,0,["Ident",3135,17,0,"y"],"!==","Ident",3135,22,0,"y"],type:"any",dependencies:["__is"]},__bind:{helper:["Func",3175,25,0,0,[["Ident",3175,26,0,"parent"],["Ident",3175,33,0,"child"]],["func"],[],"BlockStatement",3176,1,0,0,["IfStatement",3176,1,0,0,["Binary",3176,5,0,["Ident",3176,9,0,"parent"],"==","Const",1,1,0,null],["Throw",3177,1,0,"Call",3177,10,0,["Ident",3177,10,0,"TypeError"],0,["Binary",616,7,0,["Const",3177,21,0,"Expected parent to be an object, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3177,68,0,"parent"]]]],["Binary",3178,1,0,["Ident",3178,6,0,"func"],"=","Binary",3178,13,0,["Ident",3178,13,0,"parent"],".","Ident",3178,21,0,"child"],["IfStatement",3179,1,0,0,["Binary",3179,5,0,["Unary",138,7,0,"typeof","Ident",3179,22,0,"func"],"!==","Const",138,25,0,"function"],["Throw",3180,1,0,"Call",3180,10,0,["Ident",3180,10,0,"Error"],0,["Binary",616,7,0,["Binary",616,7,0,["Const",3180,17,0,"Trying to bind child '"],"+","Call",3180,42,0,["Ident",3180,42,0,"String"],0,["Ident",3180,49,0,"child"]],"+","Const",3180,17,0,"' which is not a function"]]],["Return",3181,4,0,"Func",3181,4,0,0,[],[],[],"Return",3181,7,0,"Call",3181,7,0,["Binary",3181,7,0,["Ident",3181,7,0,"func"],".","Const",3181,7,0,"apply"],0,["Ident",3181,14,0,"parent"],["Arguments",3181,25,0]]],type:{type:"generic",base:"functionBase",args:["function"]},dependencies:["__bind","__toArray","__typeof"]},__defProp:{helper:["Call",9,9,0,["Func",9,12,0,0,[],["defineGetter","defineSetter","fallback","lookupGetter","lookupSetter","supportsAccessors"],[],"BlockStatement",3184,1,0,0,["Binary",3184,1,0,["Ident",3184,6,0,"fallback"],"=","Binary",3184,17,0,["Ident",3184,17,0,"Object"],".","Const",3184,25,0,"defineProperty"],["IfStatement",3185,1,0,0,["Binary",3185,5,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Ident",3185,18,0,"fallback"],"===","Const",138,25,0,"function"],"&&","Call",9,9,0,["Func",9,12,0,0,[],["o"],[],"TryCatch",3186,1,0,0,["BlockStatement",3187,1,0,0,["Binary",3187,1,0,["Ident",3187,12,0,"o"],"=","Obj",3187,16,0],["Call",3188,1,0,["Ident",3188,1,0,"fallback"],0,["Ident",3188,18,0,"o"],["Const",3188,22,0,"sentinel"],["Obj",3188,31,0]],["Return",3189,1,0,"Binary",3189,1,0,["Const",3189,19,0,"sentinel"],"in","Ident",3189,1,0,"o"]],["Ident",3190,12,0,"e"],"Return",3191,1,0,"Const",3191,1,0,!1],0],["Return",3192,1,0,"Ident",3192,1,0,"fallback"],"BlockStatement",3194,1,0,0,["Binary",3194,1,0,["Ident",3194,8,0,"supportsAccessors"],"=","Call",656,7,0,["Binary",656,7,0,["Ident",656,7,0,"__owns"],".","Const",656,7,0,"call"],0,["Binary",3194,29,0,["Ident",3194,29,0,"Object"],".","Const",3194,37,0,"prototype"],["Const",3194,56,0,"__defineGetter__"]],["Binary",3195,1,0,["Ident",3195,8,0,"lookupGetter"],"=","Binary",3195,24,0,["Ident",3195,24,0,"supportsAccessors"],"&&","Binary",3195,47,0,["Binary",3195,47,0,["Ident",3195,47,0,"Object"],".","Const",3195,47,0,"prototype"],".","Const",3195,56,0,"__lookupGetter__"],["Binary",3196,1,0,["Ident",3196,8,0,"lookupSetter"],"=","Binary",3196,24,0,["Ident",3196,24,0,"supportsAccessors"],"&&","Binary",3196,47,0,["Binary",3196,47,0,["Ident",3196,47,0,"Object"],".","Const",3196,47,0,"prototype"],".","Const",3196,56,0,"__lookupSetter__"],["Binary",3197,1,0,["Ident",3197,8,0,"defineGetter"],"=","Binary",3197,24,0,["Ident",3197,24,0,"supportsAccessors"],"&&","Binary",3197,47,0,["Binary",3197,47,0,["Ident",3197,47,0,"Object"],".","Const",3197,47,0,"prototype"],".","Const",3197,56,0,"__defineGetter__"],["Binary",3198,1,0,["Ident",3198,8,0,"defineSetter"],"=","Binary",3198,24,0,["Ident",3198,24,0,"supportsAccessors"],"&&","Binary",3198,47,0,["Binary",3198,47,0,["Ident",3198,47,0,"Object"],".","Const",3198,47,0,"prototype"],".","Const",3198,56,0,"__defineSetter__"],["Return",1940,1,0,"Func",1940,1,0,0,[["Ident",3199,7,0,"object"],["Ident",3199,23,0,"property"],["Ident",3199,43,0,"descriptor"]],["proto"],[],"BlockStatement",1940,1,0,0,["IfStatement",1770,12,0,0,["Binary",3199,6,0,["Binary",671,18,0,["Binary",144,47,0,["Unary",144,47,0,"typeof","Ident",3199,7,0,"object"],"!==","Const",144,62,0,"object"],"||","Binary",43,7,0,["Ident",3199,7,0,"object"],"===","Const",1,1,0,null],"&&","Binary",667,18,0,["Unary",138,7,0,"typeof","Ident",3199,7,0,"object"],"!==","Const",138,25,0,"function"],["Throw",1771,1,0,"Call",1771,16,0,["Ident",1771,16,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected object to be one of Object or Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3199,7,0,"object"]]]],["IfStatement",1713,1,0,0,["Binary",661,18,0,["Unary",129,7,0,"typeof","Ident",3199,23,0,"property"],"!==","Const",129,25,0,"string"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected property to be a String, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3199,23,0,"property"]]]],["IfStatement",1713,1,0,0,["Binary",671,18,0,["Binary",144,47,0,["Unary",144,47,0,"typeof","Ident",3199,43,0,"descriptor"],"!==","Const",144,62,0,"object"],"||","Binary",43,7,0,["Ident",3199,43,0,"descriptor"],"===","Const",1,1,0,null],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected descriptor to be an Object, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3199,43,0,"descriptor"]]]],["IfStatement",3200,1,0,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Ident",3200,22,0,"fallback"],"===","Const",138,25,0,"function"],["TryCatch",3201,1,0,0,["Return",3202,1,0,"Call",3202,17,0,["Ident",3202,17,0,"fallback"],0,["Ident",3202,27,0,"object"],["Ident",3202,34,0,"property"],["Ident",3202,44,0,"descriptor"]],["Ident",3203,14,0,"e"],"Const",3204,1,0]],["IfStatement",3206,1,0,0,["Call",656,7,0,["Binary",656,7,0,["Ident",656,7,0,"__owns"],".","Const",656,7,0,"call"],0,["Ident",3206,9,0,"descriptor"],["Const",3206,30,0,"value"]],["IfStatement",3207,1,0,0,["Binary",3207,11,0,["Ident",3207,11,0,"supportsAccessors"],"&&","Call",3207,36,0,["Binary",3207,36,0,["Ident",3207,36,0,"lookupGetter"],".","Const",3207,36,0,"call"],0,["Ident",3207,51,0,"object"],["Binary",3207,58,0,["Ident",3207,58,0,"property"],"||","Call",3207,70,0,["Binary",3207,70,0,["Ident",3207,70,0,"lookupSetter"],".","Const",3207,70,0,"call"],0,["Ident",3207,86,0,"object"],["Ident",3207,93,0,"property"]]],["BlockStatement",3208,1,0,0,["Binary",3208,1,0,["Ident",3208,14,0,"proto"],"=","Binary",3208,22,0,["Ident",3208,22,0,"object"],".","Const",3208,30,0,"__proto__"],["Binary",3209,1,0,["Binary",3209,1,0,["Ident",3209,1,0,"object"],".","Const",3209,18,0,"__proto__"],"=","Binary",3209,30,0,["Ident",3209,30,0,"Object"],".","Const",3209,38,0,"prototype"],["Unary",3210,1,0,"delete","Binary",3210,17,0,["Ident",3210,17,0,"object"],".","Ident",3210,25,0,"property"],["Binary",3211,1,0,["Binary",3211,1,0,["Ident",3211,1,0,"object"],".","Ident",3211,18,0,"property"],"=","Binary",3211,30,0,["Ident",3211,30,0,"descriptor"],".","Const",3211,42,0,"value"],["Binary",3212,1,0,["Binary",3212,1,0,["Ident",3212,1,0,"object"],".","Const",3212,18,0,"__proto__"],"=","Ident",3212,30,0,"proto"]],"Binary",3214,1,0,["Binary",3214,1,0,["Ident",3214,1,0,"object"],".","Ident",3214,18,0,"property"],"=","Binary",3214,30,0,["Ident",3214,30,0,"descriptor"],".","Const",3214,42,0,"value"],"BlockStatement",3216,1,0,0,["IfStatement",3216,1,0,0,["Unary",3216,11,0,"!","Ident",3216,15,0,"supportsAccessors"],["Throw",3217,1,0,"Call",3217,16,0,["Ident",3217,16,0,"Error"],0,["Const",3217,23,0,"Getters and setters cannot be defined on this Javascript engine"]]],["IfStatement",3218,1,0,0,["Call",656,7,0,["Binary",656,7,0,["Ident",656,7,0,"__owns"],".","Const",656,7,0,"call"],0,["Ident",3218,11,0,"descriptor"],["Const",3218,32,0,"get"]],["Call",3219,1,0,["Binary",3219,1,0,["Ident",3219,1,0,"defineGetter"],".","Const",3219,1,0,"call"],0,["Ident",3219,26,0,"object"],["Ident",3219,33,0,"property"],["Binary",3219,43,0,["Ident",3219,43,0,"descriptor"],".","Const",3219,55,0,"get"]]],["IfStatement",3220,1,0,0,["Call",656,7,0,["Binary",656,7,0,["Ident",656,7,0,"__owns"],".","Const",656,7,0,"call"],0,["Ident",3220,11,0,"descriptor"],["Const",3220,32,0,"set"]],["Call",3221,1,0,["Binary",3221,1,0,["Ident",3221,1,0,"defineSetter"],".","Const",3221,1,0,"call"],0,["Ident",3221,26,0,"object"],["Ident",3221,33,0,"property"],["Binary",3221,43,0,["Ident",3221,43,0,"descriptor"],".","Const",3221,55,0,"set"]]]],["Return",3222,1,0,"Ident",3222,1,0,"object"]]]],0],type:"any",dependencies:["__defProp","__owns","__typeof"]},__compose:{helper:["Func",1940,1,0,0,[["Ident",3228,29,0,"left"],["Ident",3228,40,0,"right"]],[],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Ident",3228,29,0,"left"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected left to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3228,29,0,"left"]]]],["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Ident",3228,40,0,"right"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected right to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3228,40,0,"right"]]]],["Return",3229,4,0,"Func",3229,4,0,0,[],[],[],"Return",3229,6,0,"Call",3229,6,0,["Binary",3229,6,0,["Ident",3229,6,0,"left"],".","Const",3229,6,0,"call"],0,["This",3229,13,0],["Call",3229,18,0,["Binary",3229,18,0,["Ident",3229,18,0,"right"],".","Const",3229,18,0,"apply"],0,["This",3229,26,0],["Arguments",3229,35,0]]]],type:{type:"generic",base:"functionBase",args:["function"]},dependencies:["__compose","__toArray","__typeof"]},__curry:{helper:["Func",1940,1,0,0,[["Ident",3243,27,0,"numArgs"],["Ident",3243,46,0,"f"]],["currier"],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Binary",663,18,0,["Unary",132,7,0,"typeof","Ident",3243,27,0,"numArgs"],"!==","Const",132,25,0,"number"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected numArgs to be a Number, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3243,27,0,"numArgs"]]]],["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Ident",3243,46,0,"f"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected f to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3243,46,0,"f"]]]],["IfStatement",3244,1,0,0,["Binary",774,9,0,["Ident",3244,5,0,"numArgs"],">","Const",3244,17,0,1],["BlockStatement",3245,1,0,0,["Binary",3245,1,0,["Ident",3245,8,0,"currier"],"=","Func",3245,16,0,0,[["Ident",3245,17,0,"args"]],["ret"],[],"IfStatement",3246,1,0,0,["Binary",57,55,0,["Binary",3246,9,0,["Ident",3246,9,0,"args"],".","Const",3246,15,0,"length"],">=","Ident",3246,25,0,"numArgs"],["Return",3247,1,0,"Call",3247,1,0,["Binary",3247,1,0,["Ident",3247,1,0,"f"],".","Const",3247,11,0,"apply"],0,["This",3247,17,0],["Ident",3247,22,0,"args"]],"BlockStatement",3249,1,0,0,["Binary",3249,1,0,["Ident",3249,12,0,"ret"],"=","Func",3249,16,0,0,[],[],[],"IfStatement",3250,1,0,0,["Binary",3250,13,0,["Binary",3250,13,0,["Arguments",3250,13,0],".","Const",3250,24,0,"length"],"===","Const",3250,34,0,0],["Return",3251,1,0,"Ident",3251,1,0,"ret"],"Return",3253,1,0,"Call",3253,1,0,["Binary",3253,1,0,["Ident",3253,1,0,"currier"],".","Const",3253,1,0,"call"],0,["This",3253,22,0],["Call",3253,27,0,["Binary",3253,27,0,["Ident",3253,27,0,"args"],".","Const",3253,33,0,"concat"],0,["Call",3253,40,0,["Binary",3253,40,0,["Ident",3253,40,0,"__slice"],".","Const",3253,40,0,"call"],0,["Arguments",3253,49,0]]]],["Return",3254,1,0,"Ident",3254,1,0,"ret"]],["Return",3255,1,0,"Call",3255,1,0,["Ident",3255,1,0,"currier"],0,["Arr",3255,13,0]]],"Return",3257,1,0,"Ident",3257,1,0,"f"]],type:{type:"generic",base:"functionBase",args:["function"]},dependencies:["__curry","__slice","__typeof"]},__import:{helper:["Func",3271,27,0,0,[["Ident",3271,28,0,"dest"],["Ident",3271,33,0,"source"]],["k"],[],"BlockStatement",3272,1,0,0,["ForIn",3272,1,0,0,["Ident",3272,6,0,"k"],["Ident",3272,11,0,"source"],"IfStatement",1596,1,0,0,["Call",656,7,0,["Binary",656,7,0,["Ident",656,7,0,"__owns"],".","Const",656,7,0,"call"],0,["Ident",3272,11,0,"source"],["Ident",3272,6,0,"k"]],["Binary",3273,1,0,["Binary",3273,1,0,["Ident",3273,1,0,"dest"],".","Ident",3273,10,0,"k"],"=","Binary",3273,15,0,["Ident",3273,15,0,"source"],".","Ident",3273,23,0,"k"]],["Return",3274,1,0,"Ident",3274,1,0,"dest"]],type:{type:"generic",base:"functionBase",args:["object"]},dependencies:["__import","__owns"]},WeakMap:{helper:["IfExpression",3323,24,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Binary",3323,40,0,["Ident",3323,40,0,"GLOBAL"],".","Const",3323,48,0,"WeakMap"],"===","Const",138,25,0,"function"],["Binary",3323,60,0,["Ident",3323,60,0,"GLOBAL"],".","Const",3323,68,0,"WeakMap"],"Binary",3067,10,0,["Ident",3323,86,0,"WeakMap"],"=","Call",3029,1,0,["Func",3029,1,0,0,[],["_WeakMap_prototype","defProp","isExtensible"],[],"BlockStatement",3029,1,0,0,["Func",2953,29,0,["Ident",3323,86,0,"WeakMap"],[],["_this"],[],"BlockStatement",3331,1,0,0,["Binary",3331,1,0,["Ident",3331,1,0,"_this"],"=","IfExpression",2952,18,0,["Binary",2952,21,0,["Eval",2952,21,0,["Const",2952,27,0,"this"]],"instanceof","Ident",3323,86,0,"WeakMap"],["Eval",2952,56,0,["Const",2952,62,0,"this"]],"Call",2952,74,0,["Ident",2952,74,0,"__create"],0,["Ident",3323,80,0,"_WeakMap_prototype"]],["Binary",3331,1,0,["Binary",3331,1,0,["Ident",3331,1,0,"_this"],".","Const",3331,6,0,"_keys"],"=","Arr",3331,14,0],["Binary",3332,1,0,["Binary",3332,1,0,["Ident",3332,1,0,"_this"],".","Const",3332,6,0,"_values"],"=","Arr",3332,16,0],["Binary",3334,1,0,["Binary",3334,1,0,["Ident",3334,1,0,"_this"],".","Const",3334,6,0,"_chilly"],"=","Arr",3334,16,0],["Binary",3335,1,0,["Binary",3335,1,0,["Ident",3335,1,0,"_this"],".","Const",3335,6,0,"_uid"],"=","Call",3335,13,0,["Ident",3335,13,0,"createUid"],0],["Return",3331,1,0,"Ident",3331,1,0,"_this"]],["Binary",2883,20,0,["Ident",3323,80,0,"_WeakMap_prototype"],"=","Binary",2883,37,0,["Ident",3323,86,0,"WeakMap"],".","Const",2883,44,0,"prototype"],["Binary",2895,21,0,["Binary",2895,21,0,["Ident",3323,86,0,"WeakMap"],".","Const",2895,28,0,"displayName"],"=","Const",3323,80,0,"WeakMap"],["Func",3324,1,0,["Ident",3324,6,0,"uidRand"],[],[],[],"Return",3325,1,0,"Call",3325,1,0,["Binary",3325,1,0,["Call",3325,1,0,["Binary",3325,1,0,["Call",3325,1,0,["Binary",3325,1,0,["Ident",3325,1,0,"Math"],".","Const",3325,10,0,"random"],0],".","Const",3325,19,0,"toString"],0,["Const",3325,29,0,36]],".","Const",3325,33,0,"slice"],0,["Const",3325,39,0,2]],["Func",3326,1,0,["Ident",3326,6,0,"createUid"],[],[],[],"Return",616,7,0,"Binary",616,7,0,["Binary",616,7,0,["Binary",616,7,0,["Binary",616,7,0,["Binary",616,7,0,["Binary",616,7,0,["Call",610,13,0,["Ident",610,13,0,"__strnum"],0,["Call",3327,8,0,["Ident",3327,8,0,"uidRand"],0]],"+","Const",3327,5,0,"-"],"+","Call",615,13,0,["Ident",615,13,0,"__strnum"],0,["Call",3327,22,0,["Binary",3327,22,0,["Call",3327,22,0,["Ident",3327,25,0,"Date"],1],".","Const",3327,33,0,"getTime"],0]],"+","Const",3327,5,0,"-"],"+","Call",615,13,0,["Ident",615,13,0,"__strnum"],0,["Call",3327,47,0,["Ident",3327,47,0,"uidRand"],0]],"+","Const",3327,5,0,"-"],"+","Call",615,13,0,["Ident",615,13,0,"__strnum"],0,["Call",3327,61,0,["Ident",3327,61,0,"uidRand"],0]],["Binary",3328,1,0,["Ident",3328,6,0,"isExtensible"],"=","Binary",3328,22,0,["Binary",3328,22,0,["Ident",3328,22,0,"Object"],".","Const",3328,30,0,"isExtensible"],"||","Func",3328,48,0,0,[],[],[],"Return",3328,50,0,"Const",3328,50,0,!0],["Func",3337,1,0,["Ident",3337,6,0,"check"],[["Ident",3337,13,0,"key"]],["chilly","uid"],[],"BlockExpression",3338,1,0,["Binary",3338,1,0,["Ident",3338,8,0,"uid"],"=","Binary",3338,14,0,["This",3338,14,0],".","Const",3338,16,0,"_uid"],["IfExpression",3339,1,0,["Call",656,7,0,["Binary",656,7,0,["Ident",656,7,0,"__owns"],".","Const",656,7,0,"call"],0,["Ident",3339,7,0,"key"],["Ident",3339,19,0,"uid"]],["BlockExpression",3340,1,0,["Binary",3340,1,0,["Ident",3340,10,0,"chilly"],"=","Binary",3340,19,0,["This",3340,19,0],".","Const",3340,21,0,"_chilly"],["IfExpression",3341,1,0,["Binary",3341,9,0,["Call",3341,9,0,["Binary",3341,9,0,["Ident",3341,9,0,"chilly"],".","Const",3341,17,0,"indexOf"],0,["Ident",3341,26,0,"key"]],"===","Const",3341,33,0,-1],["BlockExpression",3342,1,0,["Call",3342,1,0,["Binary",3342,1,0,["Ident",3342,1,0,"chilly"],".","Const",3342,16,0,"push"],0,["Ident",3342,21,0,"key"]],["Call",3343,1,0,["Binary",3343,1,0,["Binary",3343,1,0,["This",3343,1,0],".","Const",3343,10,0,"_keys"],".","Const",3343,16,0,"push"],0,["Ident",3343,21,0,"key"]],["Call",3344,1,0,["Binary",3344,1,0,["Binary",3344,1,0,["This",3344,1,0],".","Const",3344,10,0,"_values"],".","Const",3344,18,0,"push"],0,["Binary",3344,23,0,["Ident",3344,23,0,"key"],".","Ident",3344,27,0,"uid"]]]]]]],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3323,80,0,"_WeakMap_prototype"],".","Const",3346,6,0,"get"],"=","Func",3346,10,0,0,[["Ident",3346,11,0,"key"]],["_ref","index"],[],"BlockStatement",3347,1,0,0,["IfStatement",3347,1,0,0,["Binary",43,7,0,["Call",3347,7,0,["Ident",3347,7,0,"Object"],0,["Ident",3347,15,0,"key"]],"!==","Ident",3347,22,0,"key"],["Throw",3348,1,0,"Call",3348,12,0,["Ident",3348,12,0,"TypeError"],0,["Const",3348,23,0,"Invalid value used as weak map key"]]],["IfStatement",3350,1,0,0,["Call",3350,7,0,["Ident",3350,7,0,"isExtensible"],0,["Ident",3350,22,0,"key"]],["IfStatement",3351,1,0,0,["Call",656,7,0,["Binary",656,7,0,["Ident",656,7,0,"__owns"],".","Const",656,7,0,"call"],0,["Ident",3351,1,0,"key"],["Binary",3351,1,0,["Ident",3351,1,0,"_ref"],"=","Binary",3351,12,0,["This",3351,12,0],".","Const",3351,13,0,"_uid"]],["Return",3351,1,0,"Binary",3351,1,0,["Ident",3351,1,0,"key"],".","Ident",3351,1,0,"_ref"]],"BlockStatement",3353,1,0,0,["Call",3353,1,0,["Binary",3353,1,0,["Ident",3353,1,0,"check"],".","Const",3353,1,0,"call"],0,["This",3353,14,0],["Ident",3353,19,0,"key"]],["Binary",3354,1,0,["Ident",3354,10,0,"index"],"=","Call",3354,18,0,["Binary",3354,18,0,["Binary",3354,18,0,["This",3354,18,0],".","Const",3354,20,0,"_keys"],".","Const",3354,26,0,"indexOf"],0,["Ident",3354,35,0,"key"]],["IfStatement",3355,1,0,0,["Binary",3355,9,0,["Ident",3355,9,0,"index"],"===","Const",3355,18,0,-1],["Return",3356,1,0,"Const",3356,1,0],"Return",3358,1,0,"Binary",3358,1,0,["Binary",3358,1,0,["This",3358,1,0],".","Const",3358,10,0,"_values"],".","Ident",3358,18,0,"index"]]],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3323,80,0,"_WeakMap_prototype"],".","Const",3360,6,0,"has"],"=","Func",3360,10,0,0,[["Ident",3360,11,0,"key"]],[],[],"BlockStatement",3361,1,0,0,["IfStatement",3361,1,0,0,["Binary",43,7,0,["Call",3361,7,0,["Ident",3361,7,0,"Object"],0,["Ident",3361,15,0,"key"]],"!==","Ident",3361,22,0,"key"],["Throw",3362,1,0,"Call",3362,12,0,["Ident",3362,12,0,"TypeError"],0,["Const",3362,23,0,"Invalid value used as weak map key"]]],["IfStatement",3364,1,0,0,["Call",3364,7,0,["Ident",3364,7,0,"isExtensible"],0,["Ident",3364,22,0,"key"]],["Return",656,7,0,"Call",656,7,0,["Binary",656,7,0,["Ident",656,7,0,"__owns"],".","Const",656,7,0,"call"],0,["Ident",3365,1,0,"key"],["Binary",3365,18,0,["This",3365,18,0],".","Const",3365,20,0,"_uid"]],"BlockStatement",3367,1,0,0,["Call",3367,1,0,["Binary",3367,1,0,["Ident",3367,1,0,"check"],".","Const",3367,1,0,"call"],0,["This",3367,14,0],["Ident",3367,19,0,"key"]],["Return",43,7,0,"Binary",43,7,0,["Call",3368,1,0,["Binary",3368,1,0,["Binary",3368,1,0,["This",3368,1,0],".","Const",3368,8,0,"_keys"],".","Const",3368,14,0,"indexOf"],0,["Ident",3368,23,0,"key"]],"!==","Const",3368,30,0,-1]]],["IfStatement",3370,17,0,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Binary",3370,33,0,["Ident",3370,33,0,"Object"],".","Const",3370,41,0,"defineProperty"],"===","Const",138,25,0,"function"],["Binary",3370,1,0,["Ident",3370,6,0,"defProp"],"=","Binary",3370,61,0,["Ident",3370,61,0,"Object"],".","Const",3370,69,0,"defineProperty"],"Binary",3370,1,0,["Ident",3370,6,0,"defProp"],"=","Func",3370,91,0,0,[["Ident",3370,92,0,"o"],["Ident",3370,94,0,"k"],["Ident",3370,97,0,"d"]],[],[],"Binary",3370,104,0,["Binary",3370,104,0,["Ident",3370,104,0,"o"],".","Ident",3370,107,0,"k"],"=","Binary",3370,112,0,["Ident",3370,112,0,"d"],".","Const",3370,115,0,"value"],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3323,80,0,"_WeakMap_prototype"],".","Const",3371,6,0,"set"],"=","Func",3371,10,0,0,[["Ident",3371,11,0,"key"],["Ident",3371,15,0,"value"]],["index","keys"],[],"BlockStatement",3372,1,0,0,["IfStatement",3372,1,0,0,["Binary",43,7,0,["Call",3372,7,0,["Ident",3372,7,0,"Object"],0,["Ident",3372,15,0,"key"]],"!==","Ident",3372,22,0,"key"],["Throw",3373,1,0,"Call",3373,12,0,["Ident",3373,12,0,"TypeError"],0,["Const",3373,23,0,"Invalid value used as weak map key"]]],["IfStatement",3375,1,0,0,["Call",3375,7,0,["Ident",3375,7,0,"isExtensible"],0,["Ident",3375,22,0,"key"]],["Call",3376,1,0,["Ident",3376,1,0,"defProp"],0,["Ident",3376,16,0,"key"],["Binary",3376,20,0,["This",3376,20,0],".","Const",3376,22,0,"_uid"],["Obj",3376,27,0,3377,10,null,"configurable",["Const",3377,9,0,!0],3378,10,null,"writable",["Const",3378,9,0,!0],3379,10,null,"enumerable",["Const",3379,9,0,!1],3380,9,null,"value",["Ident",3380,9,0,"value"]]],"BlockStatement",3383,1,0,0,["Call",3383,1,0,["Binary",3383,1,0,["Ident",3383,1,0,"check"],".","Const",3383,1,0,"call"],0,["This",3383,14,0],["Ident",3383,19,0,"key"]],["Binary",3384,1,0,["Ident",3384,10,0,"keys"],"=","Binary",3384,17,0,["This",3384,17,0],".","Const",3384,19,0,"_keys"],["Binary",3385,1,0,["Ident",3385,18,0,"index"],"=","Call",3385,26,0,["Binary",3385,26,0,["Ident",3385,26,0,"keys"],".","Const",3385,32,0,"indexOf"],0,["Ident",3385,41,0,"key"]],["IfStatement",3386,1,0,0,["Binary",3386,9,0,["Ident",3386,9,0,"index"],"===","Const",3386,18,0,-1],["BlockStatement",3387,1,0,0,["Binary",3387,1,0,["Ident",3387,1,0,"index"],"=","Binary",3387,17,0,["Ident",3387,17,0,"keys"],".","Const",3387,23,0,"length"],["Binary",3388,1,0,["Binary",3388,1,0,["Ident",3388,1,0,"keys"],".","Ident",3388,14,0,"index"],"=","Ident",3388,23,0,"key"]]],["Binary",3389,1,0,["Binary",3389,1,0,["Binary",3389,1,0,["This",3389,1,0],".","Const",3389,8,0,"_values"],".","Ident",3389,16,0,"index"],"=","Ident",3389,25,0,"value"]]],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3323,80,0,"_WeakMap_prototype"],".","Const",3391,6,0,"delete"],"=","Func",3391,13,0,0,[["Ident",3391,14,0,"key"]],["index","keys"],[],"BlockStatement",3392,1,0,0,["IfStatement",3392,1,0,0,["Binary",43,7,0,["Call",3392,7,0,["Ident",3392,7,0,"Object"],0,["Ident",3392,15,0,"key"]],"!==","Ident",3392,22,0,"key"],["Throw",3393,1,0,"Call",3393,12,0,["Ident",3393,12,0,"TypeError"],0,["Const",3393,23,0,"Invalid value used as weak map key"]]],["IfStatement",3395,1,0,0,["Call",3395,7,0,["Ident",3395,7,0,"isExtensible"],0,["Ident",3395,22,0,"key"]],["Unary",3396,1,0,"delete","Binary",3396,13,0,["Ident",3396,13,0,"key"],".","Binary",3396,18,0,["This",3396,18,0],".","Const",3396,19,0,"_uid"],"BlockStatement",3398,1,0,0,["Call",3398,1,0,["Binary",3398,1,0,["Ident",3398,1,0,"check"],".","Const",3398,1,0,"call"],0,["This",3398,14,0],["Ident",3398,19,0,"key"]],["Binary",3399,1,0,["Ident",3399,10,0,"keys"],"=","Binary",3399,17,0,["This",3399,17,0],".","Const",3399,19,0,"_keys"],["Binary",3400,1,0,["Ident",3400,18,0,"index"],"=","Call",3400,26,0,["Binary",3400,26,0,["Ident",3400,26,0,"keys"],".","Const",3400,32,0,"indexOf"],0,["Ident",3400,41,0,"key"]],["IfStatement",3401,1,0,0,["Binary",43,7,0,["Ident",3401,9,0,"index"],"!==","Const",3401,18,0,-1],["BlockStatement",3402,1,0,0,["Call",3402,1,0,["Binary",3402,1,0,["Ident",3402,1,0,"keys"],".","Const",3402,14,0,"splice"],0,["Ident",3402,21,0,"index"],["Const",3402,28,0,1]],["Call",3403,1,0,["Binary",3403,1,0,["Binary",3403,1,0,["This",3403,1,0],".","Const",3403,10,0,"_values"],".","Const",3403,18,0,"splice"],0,["Ident",3403,25,0,"index"],["Const",3403,32,0,1]]]]]],["Return",3031,1,0,"Ident",3323,86,0,"WeakMap"]],0],type:"any",dependencies:["__create","__owns","__strnum","GLOBAL","WeakMap"]},__indexOfIdentical:{helper:["Func",3405,39,0,0,[["Ident",3405,40,0,"array"],["Ident",3405,46,0,"item"]],["_arr","check","i","inf"],[],"BlockStatement",3406,1,0,0,["IfStatement",3406,1,0,0,["Binary",3406,5,0,["Unary",3406,5,0,"typeof","Ident",3406,12,0,"item"],"===","Const",3406,22,0,"number"],["IfStatement",3407,1,0,0,["Binary",43,7,0,["Ident",3407,7,0,"item"],"!==","Ident",3407,7,0,"item"],["BlockStatement",3408,1,0,0,["For",1526,1,0,0,["BlockExpression",1,1,0,["Binary",3408,1,0,["Ident",3408,1,0,"_arr"],"=","Call",1359,22,0,["Ident",1359,22,0,"__toArray"],0,["Ident",3408,22,0,"array"]],["Binary",1401,26,0,["Ident",3408,17,0,"i"],"=","Binary",1401,49,0,["Ident",3408,1,0,"_arr"],".","Const",1401,56,0,"length"]],["Unary",1402,16,0,"--post","Ident",3408,17,0,"i"],0,"BlockStatement",1488,1,0,0,["Binary",1488,1,0,["Ident",3408,10,0,"check"],"=","Binary",1362,75,0,["Ident",3408,1,0,"_arr"],".","Ident",3408,17,0,"i"],["IfStatement",3409,1,0,0,["Binary",43,7,0,["Ident",3409,11,0,"check"],"!==","Ident",3409,11,0,"check"],["Return",3410,1,0,"Ident",3410,17,0,"i"]]],["Return",3411,1,0,"Const",3411,13,0,-1]],"IfStatement",3407,1,0,0,["Binary",3412,12,0,["Ident",3412,12,0,"item"],"===","Const",3412,21,0,0],["BlockStatement",3413,1,0,0,["Binary",3413,1,0,["Ident",3413,10,0,"inf"],"=","Binary",3413,16,0,["Const",3413,17,0,1],"/","Ident",3413,21,0,"item"],["For",1526,1,0,0,["BlockExpression",1,1,0,["Binary",3414,1,0,["Ident",3414,1,0,"_arr"],"=","Call",1359,22,0,["Ident",1359,22,0,"__toArray"],0,["Ident",3414,22,0,"array"]],["Binary",1401,26,0,["Ident",3414,17,0,"i"],"=","Binary",1401,49,0,["Ident",3414,1,0,"_arr"],".","Const",1401,56,0,"length"]],["Unary",1402,16,0,"--post","Ident",3414,17,0,"i"],0,"BlockStatement",1488,1,0,0,["Binary",1488,1,0,["Ident",3414,10,0,"check"],"=","Binary",1362,75,0,["Ident",3414,1,0,"_arr"],".","Ident",3414,17,0,"i"],["IfStatement",3415,1,0,0,["Binary",3415,11,0,["Binary",3415,11,0,["Ident",3415,11,0,"check"],"===","Const",3415,21,0,0],"&&","Binary",3415,26,0,["Binary",3415,26,0,["Const",3415,27,0,1],"/","Ident",3415,31,0,"check"],"===","Ident",3415,40,0,"inf"],["Return",3416,1,0,"Ident",3416,17,0,"i"]]],["Return",3417,1,0,"Const",3417,13,0,-1]]]],["Return",3418,1,0,"Call",3418,1,0,["Binary",3418,1,0,["Ident",3418,1,0,"array"],".","Const",3418,9,0,"indexOf"],0,["Ident",3418,18,0,"item"]]],type:"function",dependencies:["__indexOfIdentical","__toArray"]},Map:{helper:["IfExpression",3420,20,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Binary",3420,36,0,["Ident",3420,36,0,"GLOBAL"],".","Const",3420,44,0,"Map"],"===","Const",138,25,0,"function"],["Binary",3420,52,0,["Ident",3420,52,0,"GLOBAL"],".","Const",3420,60,0,"Map"],"Binary",3067,10,0,["Ident",3420,74,0,"Map"],"=","Call",3029,1,0,["Func",3029,1,0,0,[],["_Map_prototype"],[],"BlockStatement",3029,1,0,0,["Func",2953,29,0,["Ident",3420,74,0,"Map"],[["Ident",3421,19,0,"iterable"]],["_item","_iter","_this","x"],[],"BlockStatement",3422,1,0,0,["Binary",3422,1,0,["Ident",3422,1,0,"_this"],"=","IfExpression",2952,18,0,["Binary",2952,21,0,["Eval",2952,21,0,["Const",2952,27,0,"this"]],"instanceof","Ident",3420,74,0,"Map"],["Eval",2952,56,0,["Const",2952,62,0,"this"]],"Call",2952,74,0,["Ident",2952,74,0,"__create"],0,["Ident",3420,68,0,"_Map_prototype"]],["Binary",3422,1,0,["Binary",3422,1,0,["Ident",3422,1,0,"_this"],".","Const",3422,6,0,"_keys"],"=","Arr",3422,14,0],["Binary",3423,1,0,["Binary",3423,1,0,["Ident",3423,1,0,"_this"],".","Const",3423,6,0,"_values"],"=","Arr",3423,16,0],["IfStatement",3424,1,0,0,["Binary",49,7,0,["Ident",3424,7,0,"iterable"],"!=","Const",1,1,0,null],["TryFinally",2251,8,0,0,["For",2247,1,0,0,["Binary",3425,1,0,["Ident",3425,1,0,"_iter"],"=","Call",2174,30,0,["Ident",2174,30,0,"__iter"],0,["Ident",3425,17,0,"iterable"]],["Const",1,1,0,!0],0,"BlockStatement",2214,1,0,0,["Binary",2184,1,0,["Ident",3425,1,0,"_item"],"=","Call",2184,18,0,["Binary",2184,18,0,["Ident",3425,1,0,"_iter"],".","Const",2184,29,0,"next"],0],["IfStatement",2185,1,0,0,["Binary",2185,9,0,["Ident",3425,1,0,"_item"],".","Const",2185,16,0,"done"],["Break",2186,1,0]],["Binary",2187,1,0,["Ident",3425,10,0,"x"],"=","Binary",2187,19,0,["Ident",3425,1,0,"_item"],".","Const",2187,26,0,"value"],["Call",3426,1,0,["Binary",3426,1,0,["Ident",3426,1,0,"_this"],".","Const",3426,10,0,"set"],0,["Binary",3426,14,0,["Ident",3426,14,0,"x"],".","Const",3426,16,0,0],["Binary",3426,19,0,["Ident",3426,19,0,"x"],".","Const",3426,22,0,1]]],"TryCatch",2254,1,0,0,["Call",2255,1,0,["Binary",2255,1,0,["Ident",3425,1,0,"_iter"],".","Const",2255,19,0,"close"],0],["Ident",3425,1,0,"_e"],"Const",1,1,0]],["Return",3422,1,0,"Ident",3422,1,0,"_this"]],["Binary",2883,20,0,["Ident",3420,68,0,"_Map_prototype"],"=","Binary",2883,37,0,["Ident",3420,74,0,"Map"],".","Const",2883,44,0,"prototype"],["Binary",2895,21,0,["Binary",2895,21,0,["Ident",3420,74,0,"Map"],".","Const",2895,28,0,"displayName"],"=","Const",3420,68,0,"Map"],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3420,68,0,"_Map_prototype"],".","Const",3428,6,0,"get"],"=","Func",3428,10,0,0,[["Ident",3428,11,0,"key"]],["index"],[],"BlockStatement",3429,1,0,0,["Binary",3429,1,0,["Ident",3429,8,0,"index"],"=","Call",3429,16,0,["Ident",3429,16,0,"__indexOfIdentical"],0,["Binary",3429,38,0,["This",3429,38,0],".","Const",3429,39,0,"_keys"],["Ident",3429,45,0,"key"]],["IfStatement",3430,1,0,0,["Binary",3430,7,0,["Ident",3430,7,0,"index"],"===","Const",3430,16,0,-1],["Return",3431,1,0,"Const",3431,1,0],"Return",3433,1,0,"Binary",3433,1,0,["Binary",3433,1,0,["This",3433,1,0],".","Const",3433,8,0,"_values"],".","Ident",3433,16,0,"index"]],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3420,68,0,"_Map_prototype"],".","Const",3435,6,0,"has"],"=","Func",3435,10,0,0,[["Ident",3435,11,0,"key"]],[],[],"Return",43,7,0,"Binary",43,7,0,["Call",3436,1,0,["Ident",3436,1,0,"__indexOfIdentical"],0,["Binary",3436,26,0,["This",3436,26,0],".","Const",3436,27,0,"_keys"],["Ident",3436,33,0,"key"]],"!==","Const",3436,41,0,-1],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3420,68,0,"_Map_prototype"],".","Const",3438,6,0,"set"],"=","Func",3438,10,0,0,[["Ident",3438,11,0,"key"],["Ident",3438,15,0,"value"]],["index","keys"],[],"BlockExpression",3439,1,0,["Binary",3439,1,0,["Ident",3439,8,0,"keys"],"=","Binary",3439,15,0,["This",3439,15,0],".","Const",3439,17,0,"_keys"],["Binary",3440,1,0,["Ident",3440,16,0,"index"],"=","Call",3440,24,0,["Ident",3440,24,0,"__indexOfIdentical"],0,["Ident",3440,46,0,"keys"],["Ident",3440,51,0,"key"]],["IfExpression",3441,1,0,["Binary",3441,7,0,["Ident",3441,7,0,"index"],"===","Const",3441,16,0,-1],["BlockExpression",3442,1,0,["Binary",3442,1,0,["Ident",3442,1,0,"index"],"=","Binary",3442,15,0,["Ident",3442,15,0,"keys"],".","Const",3442,21,0,"length"],["Binary",3443,1,0,["Binary",3443,1,0,["Ident",3443,1,0,"keys"],".","Ident",3443,12,0,"index"],"=","Ident",3443,21,0,"key"]]],["Binary",3444,1,0,["Binary",3444,1,0,["Binary",3444,1,0,["This",3444,1,0],".","Const",3444,6,0,"_values"],".","Ident",3444,14,0,"index"],"=","Ident",3444,23,0,"value"]],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3420,68,0,"_Map_prototype"],".","Const",3446,6,0,"delete"],"=","Func",3446,13,0,0,[["Ident",3446,14,0,"key"]],["index","keys"],[],"BlockStatement",3447,1,0,0,["Binary",3447,1,0,["Ident",3447,8,0,"keys"],"=","Binary",3447,15,0,["This",3447,15,0],".","Const",3447,17,0,"_keys"],["Binary",3448,1,0,["Ident",3448,8,0,"index"],"=","Call",3448,16,0,["Ident",3448,16,0,"__indexOfIdentical"],0,["Ident",3448,38,0,"keys"],["Ident",3448,43,0,"key"]],["IfStatement",3449,1,0,0,["Binary",3449,7,0,["Ident",3449,7,0,"index"],"===","Const",3449,16,0,-1],["Return",3450,1,0,"Const",3450,1,0,!1],"BlockStatement",3452,1,0,0,["Call",3452,1,0,["Binary",3452,1,0,["Ident",3452,1,0,"keys"],".","Const",3452,12,0,"splice"],0,["Ident",3452,19,0,"index"],["Const",3452,26,0,1]],["Return",3453,1,0,"Call",3453,1,0,["Binary",3453,1,0,["Binary",3453,1,0,["This",3453,1,0],".","Const",3453,8,0,"_values"],".","Const",3453,16,0,"splice"],0,["Ident",3453,23,0,"index"],["Const",3453,30,0,1]]]],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3420,68,0,"_Map_prototype"],".","Const",3455,6,0,"keys"],"=","Func",3455,11,0,0,[],["_arr","_e","_i","_send","_state","_step","_this","_throw","key"],[],"BlockStatement",3456,1,0,0,["Binary",3456,1,0,["Ident",3456,1,0,"_this"],"=","This",3456,1,0],["Binary",3455,11,0,["Ident",3455,11,0,"_state"],"=","Const",3455,11,0,0],["Func",3455,11,0,["Ident",3455,11,0,"_close"],[],[],[],"Binary",3455,11,0,["Ident",3455,11,0,"_state"],"=","Const",3455,11,0,3],["Func",3455,11,0,["Ident",3455,11,0,"_step"],[["Ident",3455,11,0,"_received"]],[],[],"For",3455,11,0,0,0,["Const",3455,11,0,!0],0,"Switch",3455,11,0,0,["Ident",3455,11,0,"_state"],1,1,null,["Const",1,1,0,0],["BlockStatement",1,1,0,0,["Binary",3456,1,0,["Ident",3456,1,0,"_arr"],"=","Call",1359,22,0,["Ident",1359,22,0,"__toArray"],0,["Binary",3456,15,0,["Ident",3456,15,0,"_this"],".","Const",3456,17,0,"_keys"]],["Binary",1401,26,0,["Ident",3456,1,0,"_i"],"=","Binary",1401,49,0,["Ident",3456,1,0,"_arr"],".","Const",1401,56,0,"length"],["Unary",1526,1,0,"++","Ident",3455,11,0,"_state"]],1402,16,null,["Const",1402,16,0,1],["BlockStatement",1402,16,0,0,["Binary",1402,16,0,["Ident",3455,11,0,"_state"],"=","IfExpression",1402,16,0,["Unary",1402,16,0,"--post","Ident",3456,1,0,"_i"],["Const",1402,16,0,2],"Const",1402,16,0,3],["Break",1402,16,0]],1488,1,null,["Const",1488,1,0,2],["BlockStatement",1488,1,0,0,["Binary",1488,1,0,["Ident",3456,8,0,"key"],"=","Binary",1362,75,0,["Ident",3456,1,0,"_arr"],".","Ident",3456,1,0,"_i"],["Binary",3457,1,0,["Ident",3455,11,0,"_state"],"=","Const",3457,1,0,1],["Return",3457,1,0,"Obj",3457,1,0,3457,1,null,"done",["Const",3457,1,0,!1],3457,1,null,"value",["Ident",3457,12,0,"key"]]],3455,11,null,["Const",3455,11,0,3],["Return",3455,11,0,"Obj",3455,11,0,3455,11,null,"done",["Const",3455,11,0,!0],3455,11,null,"value",["Const",3455,11,0]],["Throw",3455,11,0,"Call",3455,11,0,["Ident",3455,11,0,"Error"],0,["Binary",3455,11,0,["Const",3455,11,0,"Unknown state: "],"+","Ident",3455,11,0,"_state"]]],["Func",3455,11,0,["Ident",3455,11,0,"_throw"],[["Ident",3455,11,0,"_e"]],[],[],"BlockStatement",3455,11,0,0,["Call",3455,11,0,["Ident",3455,11,0,"_close"],0],["Throw",3455,11,0,"Ident",3455,11,0,"_e"]],["Func",3455,11,0,["Ident",3455,11,0,"_send"],[["Ident",3455,11,0,"_received"]],[],[],"TryCatch",3455,11,0,0,["Return",3455,11,0,"Call",3455,11,0,["Ident",3455,11,0,"_step"],0,["Ident",3455,11,0,"_received"]],["Ident",3455,11,0,"_e"],"Call",3455,11,0,["Ident",3455,11,0,"_throw"],0,["Ident",3455,11,0,"_e"]],["Return",3455,11,0,"Obj",3455,11,0,3455,11,null,"close",["Ident",3455,11,0,"_close"],3455,11,null,"iterator",["Func",3455,11,0,0,[],[],[],"Return",3455,11,0,"This",3455,11,0],3455,11,null,"next",["Func",3455,11,0,0,[],[],[],"Return",3455,11,0,"Call",3455,11,0,["Ident",3455,11,0,"_send"],0,["Const",3455,11,0]],3455,11,null,"send",["Ident",3455,11,0,"_send"],3455,11,null,"throw",["Func",3455,11,0,0,[["Ident",3455,11,0,"_e"]],[],[],"BlockStatement",3455,11,0,0,["Call",3455,11,0,["Ident",3455,11,0,"_throw"],0,["Ident",3455,11,0,"_e"]],["Return",3455,11,0,"Call",3455,11,0,["Ident",3455,11,0,"_send"],0,["Const",3455,11,0]]]]],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3420,68,0,"_Map_prototype"],".","Const",3459,6,0,"values"],"=","Func",3459,13,0,0,[],["_arr","_e","_i","_send","_state","_step","_this","_throw","value"],[],"BlockStatement",3460,1,0,0,["Binary",3460,1,0,["Ident",3460,1,0,"_this"],"=","This",3460,1,0],["Binary",3459,13,0,["Ident",3459,13,0,"_state"],"=","Const",3459,13,0,0],["Func",3459,13,0,["Ident",3459,13,0,"_close"],[],[],[],"Binary",3459,13,0,["Ident",3459,13,0,"_state"],"=","Const",3459,13,0,3],["Func",3459,13,0,["Ident",3459,13,0,"_step"],[["Ident",3459,13,0,"_received"]],[],[],"For",3459,13,0,0,0,["Const",3459,13,0,!0],0,"Switch",3459,13,0,0,["Ident",3459,13,0,"_state"],1,1,null,["Const",1,1,0,0],["BlockStatement",1,1,0,0,["Binary",3460,1,0,["Ident",3460,1,0,"_arr"],"=","Call",1359,22,0,["Ident",1359,22,0,"__toArray"],0,["Binary",3460,17,0,["Ident",3460,17,0,"_this"],".","Const",3460,19,0,"_values"]],["Binary",1401,26,0,["Ident",3460,1,0,"_i"],"=","Binary",1401,49,0,["Ident",3460,1,0,"_arr"],".","Const",1401,56,0,"length"],["Unary",1526,1,0,"++","Ident",3459,13,0,"_state"]],1402,16,null,["Const",1402,16,0,1],["BlockStatement",1402,16,0,0,["Binary",1402,16,0,["Ident",3459,13,0,"_state"],"=","IfExpression",1402,16,0,["Unary",1402,16,0,"--post","Ident",3460,1,0,"_i"],["Const",1402,16,0,2],"Const",1402,16,0,3],["Break",1402,16,0]],1488,1,null,["Const",1488,1,0,2],["BlockStatement",1488,1,0,0,["Binary",1488,1,0,["Ident",3460,8,0,"value"],"=","Binary",1362,75,0,["Ident",3460,1,0,"_arr"],".","Ident",3460,1,0,"_i"],["Binary",3461,1,0,["Ident",3459,13,0,"_state"],"=","Const",3461,1,0,1],["Return",3461,1,0,"Obj",3461,1,0,3461,1,null,"done",["Const",3461,1,0,!1],3461,1,null,"value",["Ident",3461,12,0,"value"]]],3459,13,null,["Const",3459,13,0,3],["Return",3459,13,0,"Obj",3459,13,0,3459,13,null,"done",["Const",3459,13,0,!0],3459,13,null,"value",["Const",3459,13,0]],["Throw",3459,13,0,"Call",3459,13,0,["Ident",3459,13,0,"Error"],0,["Binary",3459,13,0,["Const",3459,13,0,"Unknown state: "],"+","Ident",3459,13,0,"_state"]]],["Func",3459,13,0,["Ident",3459,13,0,"_throw"],[["Ident",3459,13,0,"_e"]],[],[],"BlockStatement",3459,13,0,0,["Call",3459,13,0,["Ident",3459,13,0,"_close"],0],["Throw",3459,13,0,"Ident",3459,13,0,"_e"]],["Func",3459,13,0,["Ident",3459,13,0,"_send"],[["Ident",3459,13,0,"_received"]],[],[],"TryCatch",3459,13,0,0,["Return",3459,13,0,"Call",3459,13,0,["Ident",3459,13,0,"_step"],0,["Ident",3459,13,0,"_received"]],["Ident",3459,13,0,"_e"],"Call",3459,13,0,["Ident",3459,13,0,"_throw"],0,["Ident",3459,13,0,"_e"]],["Return",3459,13,0,"Obj",3459,13,0,3459,13,null,"close",["Ident",3459,13,0,"_close"],3459,13,null,"iterator",["Func",3459,13,0,0,[],[],[],"Return",3459,13,0,"This",3459,13,0],3459,13,null,"next",["Func",3459,13,0,0,[],[],[],"Return",3459,13,0,"Call",3459,13,0,["Ident",3459,13,0,"_send"],0,["Const",3459,13,0]],3459,13,null,"send",["Ident",3459,13,0,"_send"],3459,13,null,"throw",["Func",3459,13,0,0,[["Ident",3459,13,0,"_e"]],[],[],"BlockStatement",3459,13,0,0,["Call",3459,13,0,["Ident",3459,13,0,"_throw"],0,["Ident",3459,13,0,"_e"]],["Return",3459,13,0,"Call",3459,13,0,["Ident",3459,13,0,"_send"],0,["Const",3459,13,0]]]]],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3420,68,0,"_Map_prototype"],".","Const",3463,6,0,"items"],"=","Func",3463,12,0,0,[],["_arr","_e","_send","_state","_step","_this","_throw","i","key","values"],[],"BlockStatement",3464,1,0,0,["Binary",3464,1,0,["Ident",3464,1,0,"_this"],"=","This",3464,1,0],["Binary",3463,12,0,["Ident",3463,12,0,"_state"],"=","Const",3463,12,0,0],["Func",3463,12,0,["Ident",3463,12,0,"_close"],[],[],[],"Binary",3463,12,0,["Ident",3463,12,0,"_state"],"=","Const",3463,12,0,3],["Func",3463,12,0,["Ident",3463,12,0,"_step"],[["Ident",3463,12,0,"_received"]],[],[],"For",3463,12,0,0,0,["Const",3463,12,0,!0],0,"Switch",3463,12,0,0,["Ident",3463,12,0,"_state"],3464,1,null,["Const",3464,1,0,0],["BlockStatement",3464,1,0,0,["Binary",3464,1,0,["Ident",3464,8,0,"values"],"=","Binary",3464,17,0,["Ident",3464,17,0,"_this"],".","Const",3464,19,0,"_values"],["Binary",3465,1,0,["Ident",3465,1,0,"_arr"],"=","Call",1359,22,0,["Ident",1359,22,0,"__toArray"],0,["Binary",3465,18,0,["Ident",3465,18,0,"_this"],".","Const",3465,20,0,"_keys"]],["Binary",1401,26,0,["Ident",3465,13,0,"i"],"=","Binary",1401,49,0,["Ident",3465,1,0,"_arr"],".","Const",1401,56,0,"length"],["Unary",1526,1,0,"++","Ident",3463,12,0,"_state"]],1402,16,null,["Const",1402,16,0,1],["BlockStatement",1402,16,0,0,["Binary",1402,16,0,["Ident",3463,12,0,"_state"],"=","IfExpression",1402,16,0,["Unary",1402,16,0,"--post","Ident",3465,13,0,"i"],["Const",1402,16,0,2],"Const",1402,16,0,3],["Break",1402,16,0]],1488,1,null,["Const",1488,1,0,2],["BlockStatement",1488,1,0,0,["Binary",1488,1,0,["Ident",3465,8,0,"key"],"=","Binary",1362,75,0,["Ident",3465,1,0,"_arr"],".","Ident",3465,13,0,"i"],["Binary",3466,1,0,["Ident",3463,12,0,"_state"],"=","Const",3466,1,0,1],["Return",3466,1,0,"Obj",3466,1,0,3466,1,null,"done",["Const",3466,1,0,!1],3466,1,null,"value",["Arr",3466,12,0,["Ident",3466,14,0,"key"],["Binary",3466,18,0,["Ident",3466,18,0,"values"],".","Ident",3466,26,0,"i"]]]],3463,12,null,["Const",3463,12,0,3],["Return",3463,12,0,"Obj",3463,12,0,3463,12,null,"done",["Const",3463,12,0,!0],3463,12,null,"value",["Const",3463,12,0]],["Throw",3463,12,0,"Call",3463,12,0,["Ident",3463,12,0,"Error"],0,["Binary",3463,12,0,["Const",3463,12,0,"Unknown state: "],"+","Ident",3463,12,0,"_state"]]],["Func",3463,12,0,["Ident",3463,12,0,"_throw"],[["Ident",3463,12,0,"_e"]],[],[],"BlockStatement",3463,12,0,0,["Call",3463,12,0,["Ident",3463,12,0,"_close"],0],["Throw",3463,12,0,"Ident",3463,12,0,"_e"]],["Func",3463,12,0,["Ident",3463,12,0,"_send"],[["Ident",3463,12,0,"_received"]],[],[],"TryCatch",3463,12,0,0,["Return",3463,12,0,"Call",3463,12,0,["Ident",3463,12,0,"_step"],0,["Ident",3463,12,0,"_received"]],["Ident",3463,12,0,"_e"],"Call",3463,12,0,["Ident",3463,12,0,"_throw"],0,["Ident",3463,12,0,"_e"]],["Return",3463,12,0,"Obj",3463,12,0,3463,12,null,"close",["Ident",3463,12,0,"_close"],3463,12,null,"iterator",["Func",3463,12,0,0,[],[],[],"Return",3463,12,0,"This",3463,12,0],3463,12,null,"next",["Func",3463,12,0,0,[],[],[],"Return",3463,12,0,"Call",3463,12,0,["Ident",3463,12,0,"_send"],0,["Const",3463,12,0]],3463,12,null,"send",["Ident",3463,12,0,"_send"],3463,12,null,"throw",["Func",3463,12,0,0,[["Ident",3463,12,0,"_e"]],[],[],"BlockStatement",3463,12,0,0,["Call",3463,12,0,["Ident",3463,12,0,"_throw"],0,["Ident",3463,12,0,"_e"]],["Return",3463,12,0,"Call",3463,12,0,["Ident",3463,12,0,"_send"],0,["Const",3463,12,0]]]]],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3420,68,0,"_Map_prototype"],".","Const",3467,6,0,"iterator"],"=","Binary",3467,17,0,["Binary",3467,17,0,["Ident",3467,17,0,"Map"],".","Const",3467,17,0,"prototype"],".","Const",3467,23,0,"items"],["Return",3031,1,0,"Ident",3420,74,0,"Map"]],0],type:"any",dependencies:["__create","__indexOfIdentical","__iter","__toArray","GLOBAL","Map"]},Set:{helper:["IfExpression",3469,20,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Binary",3469,36,0,["Ident",3469,36,0,"GLOBAL"],".","Const",3469,44,0,"Set"],"===","Const",138,25,0,"function"],["Binary",3469,52,0,["Ident",3469,52,0,"GLOBAL"],".","Const",3469,60,0,"Set"],"Binary",3067,10,0,["Ident",3469,74,0,"Set"],"=","Call",3029,1,0,["Func",3029,1,0,0,[],["_Set_prototype"],[],"BlockStatement",3029,1,0,0,["Func",2953,29,0,["Ident",3469,74,0,"Set"],[["Ident",3470,19,0,"iterable"]],["_item","_iter","_this","item"],[],"BlockStatement",3471,1,0,0,["Binary",3471,1,0,["Ident",3471,1,0,"_this"],"=","IfExpression",2952,18,0,["Binary",2952,21,0,["Eval",2952,21,0,["Const",2952,27,0,"this"]],"instanceof","Ident",3469,74,0,"Set"],["Eval",2952,56,0,["Const",2952,62,0,"this"]],"Call",2952,74,0,["Ident",2952,74,0,"__create"],0,["Ident",3469,68,0,"_Set_prototype"]],["Binary",3471,1,0,["Binary",3471,1,0,["Ident",3471,1,0,"_this"],".","Const",3471,6,0,"_items"],"=","Arr",3471,15,0],["IfStatement",3472,1,0,0,["Binary",49,7,0,["Ident",3472,7,0,"iterable"],"!=","Const",1,1,0,null],["TryFinally",2251,8,0,0,["For",2247,1,0,0,["Binary",3473,1,0,["Ident",3473,1,0,"_iter"],"=","Call",2174,30,0,["Ident",2174,30,0,"__iter"],0,["Ident",3473,20,0,"iterable"]],["Const",1,1,0,!0],0,"BlockStatement",2214,1,0,0,["Binary",2184,1,0,["Ident",3473,1,0,"_item"],"=","Call",2184,18,0,["Binary",2184,18,0,["Ident",3473,1,0,"_iter"],".","Const",2184,29,0,"next"],0],["IfStatement",2185,1,0,0,["Binary",2185,9,0,["Ident",3473,1,0,"_item"],".","Const",2185,16,0,"done"],["Break",2186,1,0]],["Binary",2187,1,0,["Ident",3473,10,0,"item"],"=","Binary",2187,19,0,["Ident",3473,1,0,"_item"],".","Const",2187,26,0,"value"],["Call",3474,1,0,["Binary",3474,1,0,["Ident",3474,1,0,"_this"],".","Const",3474,10,0,"add"],0,["Ident",3474,14,0,"item"]]],"TryCatch",2254,1,0,0,["Call",2255,1,0,["Binary",2255,1,0,["Ident",3473,1,0,"_iter"],".","Const",2255,19,0,"close"],0],["Ident",3473,1,0,"_e"],"Const",1,1,0]],["Return",3471,1,0,"Ident",3471,1,0,"_this"]],["Binary",2883,20,0,["Ident",3469,68,0,"_Set_prototype"],"=","Binary",2883,37,0,["Ident",3469,74,0,"Set"],".","Const",2883,44,0,"prototype"],["Binary",2895,21,0,["Binary",2895,21,0,["Ident",3469,74,0,"Set"],".","Const",2895,28,0,"displayName"],"=","Const",3469,68,0,"Set"],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3469,68,0,"_Set_prototype"],".","Const",3476,6,0,"has"],"=","Func",3476,10,0,0,[["Ident",3476,11,0,"item"]],[],[],"Return",43,7,0,"Binary",43,7,0,["Call",3477,1,0,["Ident",3477,1,0,"__indexOfIdentical"],0,["Binary",3477,26,0,["This",3477,26,0],".","Const",3477,27,0,"_items"],["Ident",3477,34,0,"item"]],"!==","Const",3477,43,0,-1],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3469,68,0,"_Set_prototype"],".","Const",3478,6,0,"add"],"=","Func",3478,10,0,0,[["Ident",3478,11,0,"item"]],["items"],[],"BlockExpression",3479,1,0,["Binary",3479,1,0,["Ident",3479,8,0,"items"],"=","Binary",3479,16,0,["This",3479,16,0],".","Const",3479,18,0,"_items"],["IfExpression",3480,1,0,["Binary",3480,7,0,["Call",3480,7,0,["Ident",3480,7,0,"__indexOfIdentical"],0,["Ident",3480,29,0,"items"],["Ident",3480,35,0,"item"]],"===","Const",3480,44,0,-1],["Call",3481,1,0,["Binary",3481,1,0,["Ident",3481,1,0,"items"],".","Const",3481,13,0,"push"],0,["Ident",3481,18,0,"item"]]]],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3469,68,0,"_Set_prototype"],".","Const",3482,6,0,"delete"],"=","Func",3482,13,0,0,[["Ident",3482,14,0,"item"]],["index","items"],[],"BlockExpression",3483,1,0,["Binary",3483,1,0,["Ident",3483,8,0,"items"],"=","Binary",3483,16,0,["This",3483,16,0],".","Const",3483,18,0,"_items"],["Binary",3484,1,0,["Ident",3484,8,0,"index"],"=","Call",3484,16,0,["Ident",3484,16,0,"__indexOfIdentical"],0,["Ident",3484,38,0,"items"],["Ident",3484,44,0,"item"]],["IfExpression",3485,1,0,["Binary",43,7,0,["Ident",3485,7,0,"index"],"!==","Const",3485,16,0,-1],["BlockExpression",3486,1,0,["Call",3486,1,0,["Binary",3486,1,0,["Ident",3486,1,0,"items"],".","Const",3486,13,0,"splice"],0,["Ident",3486,20,0,"index"],["Const",3486,27,0,1]],["Const",3487,1,0,!0]],"Const",3489,1,0,!1]],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3469,68,0,"_Set_prototype"],".","Const",3490,6,0,"values"],"=","Func",3490,13,0,0,[],["_arr","_e","_i","_send","_state","_step","_this","_throw","item"],[],"BlockStatement",3491,1,0,0,["Binary",3491,1,0,["Ident",3491,1,0,"_this"],"=","This",3491,1,0],["Binary",3490,13,0,["Ident",3490,13,0,"_state"],"=","Const",3490,13,0,0],["Func",3490,13,0,["Ident",3490,13,0,"_close"],[],[],[],"Binary",3490,13,0,["Ident",3490,13,0,"_state"],"=","Const",3490,13,0,3],["Func",3490,13,0,["Ident",3490,13,0,"_step"],[["Ident",3490,13,0,"_received"]],[],[],"For",3490,13,0,0,0,["Const",3490,13,0,!0],0,"Switch",3490,13,0,0,["Ident",3490,13,0,"_state"],1,1,null,["Const",1,1,0,0],["BlockStatement",1,1,0,0,["Binary",3491,1,0,["Ident",3491,1,0,"_arr"],"=","Call",1359,22,0,["Ident",1359,22,0,"__toArray"],0,["Binary",3491,16,0,["Ident",3491,16,0,"_this"],".","Const",3491,18,0,"_items"]],["Binary",1401,26,0,["Ident",3491,1,0,"_i"],"=","Binary",1401,49,0,["Ident",3491,1,0,"_arr"],".","Const",1401,56,0,"length"],["Unary",1526,1,0,"++","Ident",3490,13,0,"_state"]],1402,16,null,["Const",1402,16,0,1],["BlockStatement",1402,16,0,0,["Binary",1402,16,0,["Ident",3490,13,0,"_state"],"=","IfExpression",1402,16,0,["Unary",1402,16,0,"--post","Ident",3491,1,0,"_i"],["Const",1402,16,0,2],"Const",1402,16,0,3],["Break",1402,16,0]],1488,1,null,["Const",1488,1,0,2],["BlockStatement",1488,1,0,0,["Binary",1488,1,0,["Ident",3491,8,0,"item"],"=","Binary",1362,75,0,["Ident",3491,1,0,"_arr"],".","Ident",3491,1,0,"_i"],["Binary",3492,1,0,["Ident",3490,13,0,"_state"],"=","Const",3492,1,0,1],["Return",3492,1,0,"Obj",3492,1,0,3492,1,null,"done",["Const",3492,1,0,!1],3492,1,null,"value",["Ident",3492,12,0,"item"]]],3490,13,null,["Const",3490,13,0,3],["Return",3490,13,0,"Obj",3490,13,0,3490,13,null,"done",["Const",3490,13,0,!0],3490,13,null,"value",["Const",3490,13,0]],["Throw",3490,13,0,"Call",3490,13,0,["Ident",3490,13,0,"Error"],0,["Binary",3490,13,0,["Const",3490,13,0,"Unknown state: "],"+","Ident",3490,13,0,"_state"]]],["Func",3490,13,0,["Ident",3490,13,0,"_throw"],[["Ident",3490,13,0,"_e"]],[],[],"BlockStatement",3490,13,0,0,["Call",3490,13,0,["Ident",3490,13,0,"_close"],0],["Throw",3490,13,0,"Ident",3490,13,0,"_e"]],["Func",3490,13,0,["Ident",3490,13,0,"_send"],[["Ident",3490,13,0,"_received"]],[],[],"TryCatch",3490,13,0,0,["Return",3490,13,0,"Call",3490,13,0,["Ident",3490,13,0,"_step"],0,["Ident",3490,13,0,"_received"]],["Ident",3490,13,0,"_e"],"Call",3490,13,0,["Ident",3490,13,0,"_throw"],0,["Ident",3490,13,0,"_e"]],["Return",3490,13,0,"Obj",3490,13,0,3490,13,null,"close",["Ident",3490,13,0,"_close"],3490,13,null,"iterator",["Func",3490,13,0,0,[],[],[],"Return",3490,13,0,"This",3490,13,0],3490,13,null,"next",["Func",3490,13,0,0,[],[],[],"Return",3490,13,0,"Call",3490,13,0,["Ident",3490,13,0,"_send"],0,["Const",3490,13,0]],3490,13,null,"send",["Ident",3490,13,0,"_send"],3490,13,null,"throw",["Func",3490,13,0,0,[["Ident",3490,13,0,"_e"]],[],[],"BlockStatement",3490,13,0,0,["Call",3490,13,0,["Ident",3490,13,0,"_throw"],0,["Ident",3490,13,0,"_e"]],["Return",3490,13,0,"Call",3490,13,0,["Ident",3490,13,0,"_send"],0,["Const",3490,13,0]]]]],["Binary",3018,25,0,["Binary",3018,25,0,["Ident",3469,68,0,"_Set_prototype"],".","Const",3493,6,0,"iterator"],"=","Binary",3493,17,0,["Binary",3493,17,0,["Ident",3493,17,0,"Set"],".","Const",3493,17,0,"prototype"],".","Const",3493,23,0,"values"],["Return",3031,1,0,"Ident",3469,74,0,"Set"]],0],type:"any",dependencies:["__create","__indexOfIdentical","__iter","__toArray","GLOBAL","Set"]},setImmediate:{helper:["IfExpression",3535,30,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Binary",3535,46,0,["Ident",3535,46,0,"GLOBAL"],".","Const",3535,54,0,"setImmediate"],"===","Const",138,25,0,"function"],["Binary",3536,1,0,["Ident",3536,1,0,"GLOBAL"],".","Const",3536,10,0,"setImmediate"],"IfExpression",3535,30,0,["Binary",3537,8,0,["Binary",3537,8,0,["Unary",118,9,0,"typeof","Ident",3537,21,0,"process"],"!==","Const",118,27,0,"undefined"],"&&","Binary",138,7,0,["Unary",138,7,0,"typeof","Binary",3537,46,0,["Ident",3537,46,0,"process"],".","Const",3537,55,0,"nextTick"],"===","Const",138,25,0,"function"],["Call",9,9,0,["Func",9,12,0,0,[],["nextTick"],[],"BlockStatement",3539,1,0,0,["Binary",3539,1,0,["Ident",3539,8,0,"nextTick"],"=","Binary",3539,20,0,["Ident",3539,20,0,"process"],".","Const",3539,29,0,"nextTick"],["Return",1940,1,0,"Func",1940,1,0,0,[["Ident",3540,7,0,"func"]],["args"],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Ident",3540,7,0,"func"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected func to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3540,7,0,"func"]]]],["Binary",1919,1,0,["Ident",3540,22,0,"args"],"=","Call",1919,23,0,["Binary",1919,23,0,["Ident",1919,23,0,"__slice"],".","Const",1919,23,0,"call"],0,["Arguments",1919,33,0],["Const",1,1,0,1]],["IfStatement",3541,1,0,0,["Binary",3541,9,0,["Ident",3541,9,0,"args"],".","Const",3541,15,0,"length"],["Return",3542,1,0,"Call",3542,1,0,["Ident",3542,1,0,"nextTick"],0,["Func",3542,20,0,0,[],[],[],"Call",3542,23,0,["Binary",3542,23,0,["Ident",3542,23,0,"func"],".","Const",3542,23,0,"apply"],0,["Const",3542,23,0],["Call",3542,32,0,["Ident",3542,32,0,"__toArray"],0,["Ident",3542,32,0,"args"]]]],"Return",3544,1,0,"Call",3544,1,0,["Ident",3544,1,0,"nextTick"],0,["Ident",3544,19,0,"func"]]]],0],"Func",1940,1,0,0,[["Ident",3546,5,0,"func"]],["args"],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Ident",3546,5,0,"func"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected func to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3546,5,0,"func"]]]],["Binary",1919,1,0,["Ident",3546,20,0,"args"],"=","Call",1919,23,0,["Binary",1919,23,0,["Ident",1919,23,0,"__slice"],".","Const",1919,23,0,"call"],0,["Arguments",1919,33,0],["Const",1,1,0,1]],["IfStatement",3547,1,0,0,["Binary",3547,7,0,["Ident",3547,7,0,"args"],".","Const",3547,13,0,"length"],["Return",3548,1,0,"Call",3548,1,0,["Ident",3548,1,0,"setTimeout"],0,["Func",3548,20,0,0,[],[],[],"Call",3548,23,0,["Binary",3548,23,0,["Ident",3548,23,0,"func"],".","Const",3548,23,0,"apply"],0,["Const",3548,23,0],["Call",3548,32,0,["Ident",3548,32,0,"__toArray"],0,["Ident",3548,32,0,"args"]]],["Const",3548,39,0,0]],"Return",3550,1,0,"Call",3550,1,0,["Ident",3550,1,0,"setTimeout"],0,["Ident",3550,19,0,"func"],["Const",3550,25,0,0]]],type:"any",dependencies:["__slice","__toArray","__typeof","GLOBAL","setImmediate"]},__defer:{helper:["Call",9,9,0,["Func",9,12,0,0,[],[],[],"BlockStatement",3553,1,0,0,["Func",3553,1,0,["Ident",3553,6,0,"__defer"],[],["deferred","isError","value"],[],"BlockStatement",3554,1,0,0,["Binary",3554,1,0,["Ident",3554,16,0,"isError"],"=","Const",3554,27,0,!1],["Binary",3555,1,0,["Ident",3555,16,0,"value"],"=","Const",3555,24,0,null],["Binary",3557,1,0,["Ident",3557,16,0,"deferred"],"=","Arr",3557,41,0],["Func",3558,1,0,["Ident",3558,8,0,"complete"],[["Ident",3558,18,0,"newIsError"],["Ident",3558,31,0,"newValue"]],["funcs"],[],"IfExpression",3559,1,0,["Ident",3559,9,0,"deferred"],["BlockExpression",3560,1,0,["Binary",3560,1,0,["Ident",3560,12,0,"funcs"],"=","Ident",3560,29,0,"deferred"],["Binary",3561,1,0,["Ident",3561,1,0,"deferred"],"=","Const",3561,20,0,null],["Binary",3562,1,0,["Ident",3562,1,0,"isError"],"=","Ident",3562,20,0,"newIsError"],["Binary",3563,1,0,["Ident",3563,1,0,"value"],"=","Ident",3563,17,0,"newValue"],["IfExpression",3564,1,0,["Binary",3564,11,0,["Ident",3564,11,0,"funcs"],".","Const",3564,18,0,"length"],["Call",3565,1,0,["Ident",3565,1,0,"setImmediate"],0,["Func",3565,26,0,0,[],["_end","i"],[],"For",1295,1,0,0,["BlockExpression",1,1,0,["Binary",1205,38,0,["Ident",3566,16,0,"i"],"=","Const",3566,22,0,0],["Binary",3566,1,0,["Ident",3566,1,0,"_end"],"=","Binary",3566,27,0,["Ident",3566,27,0,"funcs"],".","Const",3566,34,0,"length"]],["Binary",1231,57,0,["Ident",3566,16,0,"i"],"<","Ident",3566,1,0,"_end"],["Unary",1243,35,0,"++","Ident",3566,16,0,"i"],"Call",3567,1,0,["Binary",3567,1,0,["Ident",3567,1,0,"funcs"],".","Ident",3567,21,0,"i"],0]]]]],["Return",3569,1,0,"Obj",3569,1,0,3570,7,null,"promise",["Obj",3570,15,0,3571,9,null,"then",["Func",3571,16,0,0,[["Ident",3571,17,0,"onFulfilled"],["Ident",3571,30,0,"onRejected"],["Ident",3571,51,0,"allowSync"]],["_ref","fulfill","promise","reject"],[],"BlockStatement",3572,1,0,0,["IfStatement",3572,1,0,0,["Binary",43,7,0,["Ident",3572,13,0,"allowSync"],"!==","Const",3572,27,0,!0],["Binary",3573,1,0,["Ident",3573,1,0,"allowSync"],"=","Const",3573,26,0]],["Binary",3574,1,0,["Ident",3574,1,0,"_ref"],"=","Call",3574,43,0,["Ident",3574,43,0,"__defer"],0],["Binary",254,43,0,["Ident",3574,16,0,"promise"],"=","Binary",254,55,0,["Ident",3574,1,0,"_ref"],".","Const",1,1,0,"promise"],["Binary",254,43,0,["Ident",3574,24,0,"fulfill"],"=","Binary",254,55,0,["Ident",3574,1,0,"_ref"],".","Const",1,1,0,"fulfill"],["Binary",254,43,0,["Ident",3574,33,0,"reject"],"=","Binary",254,55,0,["Ident",3574,1,0,"_ref"],".","Const",1,1,0,"reject"],["Ident",3574,1,0,"_ref"],["Func",3575,1,0,["Ident",3575,14,0,"step"],[],["f","result"],[],"TryCatch",3575,27,0,0,["BlockStatement",3576,1,0,0,["IfStatement",3576,20,0,0,["Ident",3576,23,0,"isError"],["Binary",3576,1,0,["Ident",3576,16,0,"f"],"=","Ident",3576,37,0,"onRejected"],"Binary",3576,1,0,["Ident",3576,16,0,"f"],"=","Ident",3576,54,0,"onFulfilled"],["IfStatement",3577,1,0,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Ident",3577,28,0,"f"],"===","Const",138,25,0,"function"],["BlockStatement",3578,1,0,0,["Binary",3578,1,0,["Ident",3578,18,0,"result"],"=","Call",3578,27,0,["Ident",3578,27,0,"f"],0,["Ident",3578,30,0,"value"]],["IfStatement",3579,1,0,0,["Binary",3579,17,0,["Ident",3579,17,0,"result"],"&&","Binary",138,7,0,["Unary",138,7,0,"typeof","Binary",3579,41,0,["Ident",3579,41,0,"result"],".","Const",3579,49,0,"then"],"===","Const",138,25,0,"function"],["Call",3580,1,0,["Binary",3580,1,0,["Ident",3580,1,0,"result"],".","Const",3580,24,0,"then"],0,["Ident",3580,29,0,"fulfill"],["Ident",3580,37,0,"reject"],["Ident",3580,45,0,"allowSync"]],"Call",3582,1,0,["Ident",3582,1,0,"fulfill"],0,["Ident",3582,25,0,"result"]]],"Call",3584,1,0,["IfExpression",3584,16,0,["Ident",3584,18,0,"isError"],["Ident",3584,32,0,"reject"],"Ident",3584,44,0,"fulfill"],0,["Ident",3584,54,0,"value"]]],["Ident",3585,16,0,"e"],"Call",3586,1,0,["Ident",3586,1,0,"reject"],0,["Ident",3586,20,0,"e"]],["IfStatement",3588,1,0,0,["Ident",3588,13,0,"deferred"],["Call",3589,1,0,["Binary",3589,1,0,["Ident",3589,1,0,"deferred"],".","Const",3589,22,0,"push"],0,["Ident",3589,27,0,"step"]],"IfStatement",3588,1,0,0,["Ident",3590,18,0,"allowSync"],["Call",3591,1,0,["Ident",3591,1,0,"step"],0],"Call",3593,1,0,["Ident",3593,1,0,"setImmediate"],0,["Ident",3593,27,0,"step"]],["Return",3594,1,0,"Ident",3594,1,0,"promise"]],3595,9,null,"sync",["Func",3595,16,0,0,[],["result","state"],[],"BlockStatement",3596,1,0,0,["Binary",3596,1,0,["Ident",3596,22,0,"state"],"=","Const",3596,31,0,0],["Binary",3597,1,0,["Ident",3597,22,0,"result"],"=","Const",3597,32,0,0],["Call",3598,1,0,["Binary",3598,1,0,["This",3598,1,0],".","Const",3598,12,0,"then"],0,["Func",3599,14,0,0,[["Ident",3599,15,0,"ret"]],[],[],"BlockStatement",3600,1,0,0,["Binary",3600,1,0,["Ident",3600,1,0,"state"],"=","Const",3600,24,0,1],["Return",3601,1,0,"Binary",3601,1,0,["Ident",3601,1,0,"result"],"=","Ident",3601,24,0,"ret"]],["Func",3602,14,0,0,[["Ident",3602,15,0,"err"]],[],[],"BlockStatement",3603,1,0,0,["Binary",3603,1,0,["Ident",3603,1,0,"state"],"=","Const",3603,24,0,2],["Return",3604,1,0,"Binary",3604,1,0,["Ident",3604,1,0,"result"],"=","Ident",3604,24,0,"err"]],["Const",3605,13,0,!0]],["Switch",3606,1,0,0,["Ident",3606,17,0,"state"],3607,16,null,["Const",3607,16,0,0],["Throw",3608,1,0,"Call",3608,18,0,["Ident",3608,18,0,"Error"],0,["Const",3608,25,0,"Promise did not execute synchronously"]],3609,16,null,["Const",3609,16,0,1],["Return",3610,1,0,"Ident",3610,19,0,"result"],3611,16,null,["Const",3611,16,0,2],["Throw",3612,1,0,"Ident",3612,18,0,"result"],["Throw",3614,1,0,"Call",3614,18,0,["Ident",3614,18,0,"Error"],0,["Const",3614,25,0,"Unknown state"]]]]],3616,7,null,"fulfill",["Func",3616,14,0,0,[["Ident",3616,15,0,"value"]],[],[],"Call",3616,25,0,["Ident",3616,25,0,"complete"],0,["Const",3616,35,0,!1],["Ident",3616,41,0,"value"]],3617,7,null,"reject",["Func",3617,13,0,0,[["Ident",3617,14,0,"reason"]],[],[],"Call",3617,25,0,["Ident",3617,25,0,"complete"],0,["Const",3617,35,0,!0],["Ident",3617,40,0,"reason"]]]],["Binary",3619,1,0,["Binary",3619,1,0,["Ident",3619,1,0,"__defer"],".","Const",3619,11,0,"fulfilled"],"=","Func",3619,25,0,0,[["Ident",3619,26,0,"value"]],["d"],[],"BlockStatement",3620,1,0,0,["Binary",3620,1,0,["Ident",3620,8,0,"d"],"=","Call",3620,12,0,["Ident",3620,12,0,"__defer"],0],["Call",3621,1,0,["Binary",3621,1,0,["Ident",3621,1,0,"d"],".","Const",3621,7,0,"fulfill"],0,["Ident",3621,15,0,"value"]],["Return",3622,1,0,"Binary",3622,1,0,["Ident",3622,1,0,"d"],".","Const",3622,7,0,"promise"]],["Binary",3623,1,0,["Binary",3623,1,0,["Ident",3623,1,0,"__defer"],".","Const",3623,11,0,"rejected"],"=","Func",3623,24,0,0,[["Ident",3623,25,0,"reason"]],["d"],[],"BlockStatement",3624,1,0,0,["Binary",3624,1,0,["Ident",3624,8,0,"d"],"=","Call",3624,12,0,["Ident",3624,12,0,"__defer"],0],["Call",3625,1,0,["Binary",3625,1,0,["Ident",3625,1,0,"d"],".","Const",3625,7,0,"reject"],0,["Ident",3625,14,0,"reason"]],["Return",3626,1,0,"Binary",3626,1,0,["Ident",3626,1,0,"d"],".","Const",3626,7,0,"promise"]],["Return",3627,1,0,"Ident",3627,1,0,"__defer"]],0],type:{type:"generic",base:"functionBase",args:[{type:"object",pairs:{fulfill:{type:"generic",base:"functionBase",args:["undefined"]},promise:{type:"object",pairs:{sync:"function",then:"function"}},reject:{type:"generic",base:"functionBase",args:["undefined"]}}}]},dependencies:["__defer","setImmediate"]},__generatorToPromise:{helper:["Func",1940,1,0,0,[["Ident",3629,42,0,"generator"],["Ident",3629,83,0,"allowSync"]],[],[],"BlockStatement",1940,1,0,0,["IfStatement",1813,12,0,0,["Binary",1813,15,0,["Binary",144,47,0,["Unary",144,47,0,"typeof","Ident",3629,42,0,"generator"],"!==","Const",144,62,0,"object"],"||","Binary",144,72,0,["Ident",3629,42,0,"generator"],"===","Const",1,1,0,null],["Throw",1814,1,0,"Call",1814,16,0,["Ident",1814,16,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected generator to be an Object, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3629,42,0,"generator"]]],"BlockStatement",1,1,0,0,["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Binary",1812,37,0,["Ident",3629,42,0,"generator"],".","Const",3629,56,0,"send"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected generator.send to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Binary",1812,37,0,["Ident",3629,42,0,"generator"],".","Const",3629,56,0,"send"]]]],["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Binary",1812,37,0,["Ident",3629,42,0,"generator"],".","Const",3629,68,0,"throw"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected generator.throw to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Binary",1812,37,0,["Ident",3629,42,0,"generator"],".","Const",3629,68,0,"throw"]]]]],["IfStatement",1720,13,0,0,["Binary",1720,16,0,["Ident",3629,83,0,"allowSync"],"==","Const",1,1,0,null],["Binary",1721,1,0,["Ident",3629,83,0,"allowSync"],"=","Const",1,1,0,!1],"IfStatement",1713,1,0,0,["Binary",665,18,0,["Unary",135,7,0,"typeof","Ident",3629,83,0,"allowSync"],"!==","Const",135,25,0,"boolean"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected allowSync to be a Boolean, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3629,83,0,"allowSync"]]]],["Func",3630,1,0,["Ident",3630,6,0,"continuer"],[["Ident",3630,17,0,"verb"],["Ident",3630,22,0,"arg"]],["item"],[],"BlockStatement",3631,1,0,0,["TryCatch",3632,1,0,0,["Binary",3633,1,0,["Ident",3633,1,0,"item"],"=","Call",3633,14,0,["Binary",3633,14,0,["Ident",3633,14,0,"generator"],".","Ident",3633,25,0,"verb"],0,["Ident",3633,31,0,"arg"]],["Ident",3634,10,0,"e"],"Return",3635,1,0,"Call",3635,13,0,["Binary",3635,13,0,["Ident",3635,13,0,"__defer"],".","Const",3635,22,0,"rejected"],0,["Ident",3635,31,0,"e"]],["IfStatement",3636,1,0,0,["Binary",3636,7,0,["Ident",3636,7,0,"item"],".","Const",3636,13,0,"done"],["Return",3637,1,0,"Call",3637,1,0,["Binary",3637,1,0,["Ident",3637,1,0,"__defer"],".","Const",3637,15,0,"fulfilled"],0,["Binary",3637,25,0,["Ident",3637,25,0,"item"],".","Const",3637,30,0,"value"]],"Return",3639,1,0,"Call",3639,1,0,["Binary",3639,1,0,["Binary",3639,1,0,["Ident",3639,1,0,"item"],".","Const",3639,12,0,"value"],".","Const",3639,18,0,"then"],0,["Ident",3639,23,0,"callback"],["Ident",3639,32,0,"errback"],["Ident",3639,41,0,"allowSync"]]],["Func",3640,1,0,["Ident",3640,6,0,"callback"],[["Ident",3640,16,0,"value"]],[],[],"Return",3640,25,0,"Call",3640,25,0,["Ident",3640,25,0,"continuer"],0,["Const",3640,37,0,"send"],["Ident",3640,42,0,"value"]],["Func",3641,1,0,["Ident",3641,6,0,"errback"],[["Ident",3641,15,0,"value"]],[],[],"Return",3641,24,0,"Call",3641,24,0,["Ident",3641,24,0,"continuer"],0,["Const",3641,36,0,"throw"],["Ident",3641,42,0,"value"]],["Return",3642,1,0,"Call",3642,1,0,["Ident",3642,1,0,"callback"],0,["Const",3642,12,0]]],type:"function",dependencies:["__defer","__generatorToPromise","__typeof"]},__promise:{helper:["Func",1940,1,0,0,[["Ident",3643,36,0,"value"],["Ident",3643,43,0,"allowSync"]],["factory"],[],"BlockStatement",1940,1,0,0,["IfStatement",1720,13,0,0,["Binary",1720,16,0,["Ident",3643,43,0,"allowSync"],"==","Const",1,1,0,null],["Binary",1721,1,0,["Ident",3643,43,0,"allowSync"],"=","Const",1,1,0,!1],"IfStatement",1713,1,0,0,["Binary",665,18,0,["Unary",135,7,0,"typeof","Ident",3643,43,0,"allowSync"],"!==","Const",135,25,0,"boolean"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected allowSync to be a Boolean, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3643,43,0,"allowSync"]]]],["IfStatement",3644,1,0,0,["Binary",138,7,0,["Unary",138,7,0,"typeof","Ident",3644,18,0,"value"],"===","Const",138,25,0,"function"],["BlockStatement",3645,1,0,0,["Binary",3645,1,0,["Ident",3645,8,0,"factory"],"=","Func",3645,16,0,0,[],[],[],"Return",3645,21,0,"Call",3645,21,0,["Ident",3645,21,0,"__generatorToPromise"],0,["Call",3645,45,0,["Binary",3645,45,0,["Ident",3645,45,0,"value"],".","Const",3645,45,0,"apply"],0,["This",3645,52,0],["Arguments",3645,61,0]]],["Binary",3646,1,0,["Binary",3646,1,0,["Ident",3646,1,0,"factory"],".","Const",3646,13,0,"sync"],"=","Func",3646,22,0,0,[],[],[],"Return",3646,24,0,"Call",3646,24,0,["Binary",3646,24,0,["Call",3646,24,0,["Ident",3646,24,0,"__generatorToPromise"],0,["Call",3646,48,0,["Binary",3646,48,0,["Ident",3646,48,0,"value"],".","Const",3646,48,0,"apply"],0,["This",3646,55,0],["Arguments",3646,64,0]],["Const",3646,75,0,!0]],".","Const",3646,82,0,"sync"],0],["Return",3647,1,0,"Ident",3647,1,0,"factory"]],"Return",3649,1,0,"Call",3649,1,0,["Ident",3649,1,0,"__generatorToPromise"],0,["Ident",3649,28,0,"value"],["Ident",3649,34,0,"allowSync"]]],type:"function",dependencies:["__generatorToPromise","__promise","__toArray","__typeof"]},__fromPromise:{helper:["Func",1940,1,0,0,[["Ident",3687,34,0,"promise"]],[],[],"BlockStatement",1940,1,0,0,["IfStatement",1813,12,0,0,["Binary",1813,15,0,["Binary",144,47,0,["Unary",144,47,0,"typeof","Ident",3687,34,0,"promise"],"!==","Const",144,62,0,"object"],"||","Binary",144,72,0,["Ident",3687,34,0,"promise"],"===","Const",1,1,0,null],["Throw",1814,1,0,"Call",1814,16,0,["Ident",1814,16,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected promise to be an Object, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3687,34,0,"promise"]]],"IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Binary",1812,37,0,["Ident",3687,34,0,"promise"],".","Const",3687,46,0,"then"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected promise.then to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Binary",1812,37,0,["Ident",3687,34,0,"promise"],".","Const",3687,46,0,"then"]]]],["Return",3687,65,0,"Func",3687,65,0,0,[["Ident",3687,66,0,"callback"]],[],[],"Call",3688,1,0,["Binary",3688,1,0,["Ident",3688,1,0,"promise"],".","Const",3688,11,0,"then"],0,["Func",3689,6,0,0,[["Ident",3689,7,0,"value"]],[],[],"Return",3689,16,0,"Call",3689,16,0,["Ident",3689,16,0,"setImmediate"],0,["Ident",3689,31,0,"callback"],["Const",3689,40,0,null],["Ident",3689,46,0,"value"]],["Func",3690,6,0,0,[["Ident",3690,7,0,"reason"]],[],[],"Return",3690,17,0,"Call",3690,17,0,["Ident",3690,17,0,"setImmediate"],0,["Ident",3690,32,0,"callback"],["Ident",3690,41,0,"reason"]]]],type:{type:"generic",base:"functionBase",args:[{type:"generic",base:"functionBase",args:["undefined"]}]},dependencies:["__fromPromise","__typeof","setImmediate"]},__toPromise:{helper:["Func",1940,1,0,0,[["Ident",3697,32,0,"func"],["Ident",3697,43,0,"context"],["Ident",3697,52,0,"args"]],["d"],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Ident",3697,32,0,"func"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected func to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3697,32,0,"func"]]]],["Binary",3698,1,0,["Ident",3698,6,0,"d"],"=","Call",3698,10,0,["Ident",3698,10,0,"__defer"],0],["Call",3699,1,0,["Binary",3699,1,0,["Ident",3699,1,0,"func"],".","Const",3699,1,0,"apply"],0,["Ident",3699,9,0,"context"],["Call",3699,1,0,["Binary",3699,1,0,["Call",3699,21,0,["Ident",3699,21,0,"__toArray"],0,["Ident",3699,21,0,"args"]],".","Const",3699,1,0,"concat"],0,["Arr",3699,28,0,["Func",3699,28,0,0,[["Ident",3699,29,0,"err"],["Ident",3699,33,0,"value"]],[],[],"IfExpression",3700,1,0,["Binary",49,7,0,["Ident",3700,7,0,"err"],"!=","Const",1,1,0,null],["Call",3701,1,0,["Binary",3701,1,0,["Ident",3701,1,0,"d"],".","Const",3701,9,0,"reject"],0,["Ident",3701,16,0,"err"]],"Call",3703,1,0,["Binary",3703,1,0,["Ident",3703,1,0,"d"],".","Const",3703,9,0,"fulfill"],0,["Ident",3703,17,0,"value"]]]]],["Return",3704,1,0,"Binary",3704,1,0,["Ident",3704,1,0,"d"],".","Const",3704,5,0,"promise"]],type:{type:"generic",base:"functionBase",args:[{type:"object",pairs:{sync:"function",then:"function"}}]},dependencies:["__defer","__toArray","__toPromise","__typeof"]},__generator:{helper:["Func",3734,30,0,0,[["Ident",3734,31,0,"func"]],[],[],"Return",3734,41,0,"Func",3734,41,0,0,[],["_this","data"],[],"BlockStatement",3735,1,0,0,["Binary",3735,1,0,["Ident",3735,1,0,"_this"],"=","This",3735,1,0],["Binary",3735,1,0,["Ident",3735,14,0,"data"],"=","Arr",3735,32,0,["This",3735,34,0],["Call",3735,39,0,["Binary",3735,39,0,["Ident",3735,39,0,"__slice"],".","Const",3735,48,0,"call"],0,["Arguments",3735,53,0]]],["Return",3736,1,0,"Obj",3736,1,0,3737,5,null,"iterator",["Func",3737,13,0,0,[],[],[],"Return",3737,18,0,"This",3737,18,0],3738,5,null,"send",["Func",3738,9,0,0,[],["tmp"],[],"Return",3739,1,0,"Obj",3739,1,0,3740,10,null,"done",["Const",3740,9,0,!0],3741,9,null,"value",["IfExpression",3741,15,0,["Ident",3741,18,0,"data"],["BlockExpression",3742,1,0,["Binary",3742,1,0,["Ident",3742,14,0,"tmp"],"=","Ident",3742,20,0,"data"],["Binary",3743,1,0,["Ident",3743,1,0,"data"],"=","Const",3743,18,0,null],["Call",3744,1,0,["Binary",3744,1,0,["Ident",3744,1,0,"func"],".","Const",3744,16,0,"apply"],0,["Binary",3744,22,0,["Ident",3744,22,0,"tmp"],".","Const",3744,26,0,0],["Binary",3744,29,0,["Ident",3744,29,0,"tmp"],".","Const",3744,34,0,1]]],"Const",3746,1,0]],3748,5,null,"next",["Func",3748,9,0,0,[],[],[],"Return",3748,14,0,"Call",3748,14,0,["Binary",3748,14,0,["This",3748,14,0],".","Const",3748,16,0,"send"],0],3749,5,null,"throw",["Func",3749,10,0,0,[["Ident",3749,11,0,"err"]],[],[],"BlockStatement",3750,1,0,0,["Binary",3750,1,0,["Ident",3750,1,0,"data"],"=","Const",3750,14,0,null],["Throw",3751,1,0,"Ident",3751,12,0,"err"]]]],type:{type:"generic",base:"functionBase",args:[{type:"generic",base:"functionBase",args:[{type:"object",pairs:{iterator:"function",next:"function",send:{type:"generic",base:"functionBase",args:[{type:"object",pairs:{done:"boolean"}}]},"throw":{type:"generic",base:"functionBase",args:["none"]}}}]}]},dependencies:["__generator","__slice"]},__somePromise:{helper:["Func",1940,1,0,0,[["Ident",3754,34,0,"promises"]],["defer","i"],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Unary",669,18,0,"!","Call",141,146,0,["Ident",141,146,0,"__isArray"],0,["Ident",3754,34,0,"promises"]],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected promises to be an Array, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3754,34,0,"promises"]]]],["Binary",3755,1,0,["Ident",3755,6,0,"defer"],"=","Call",3755,14,0,["Ident",3755,14,0,"__defer"],0],["Binary",3756,1,0,["Ident",3756,14,0,"i"],"=","Binary",3756,18,0,["Ident",3756,18,0,"promises"],".","Const",3756,28,0,"length"],["For",1135,1,0,0,0,["Unary",3757,8,0,"--post","Ident",3757,18,0,"i"],0,"Call",3758,1,0,["Binary",3758,1,0,["Binary",3758,1,0,["Ident",3758,1,0,"promises"],".","Ident",3758,14,0,"i"],".","Const",3758,17,0,"then"],0,["Binary",3758,22,0,["Ident",3758,22,0,"defer"],".","Const",3758,28,0,"fulfill"],["Binary",3758,36,0,["Ident",3758,36,0,"defer"],".","Const",3758,43,0,"reject"]],["Return",3759,1,0,"Binary",3759,1,0,["Ident",3759,1,0,"defer"],".","Const",3759,9,0,"promise"]],type:{type:"generic",base:"functionBase",args:[{type:"object",pairs:{sync:"function",then:"function"}}]},dependencies:["__defer","__isArray","__somePromise","__typeof"]},__everyPromise:{helper:["Func",1940,1,0,0,[["Ident",3769,35,0,"promises"]],["defer","i","isArray","k","remaining","result","v"],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Binary",671,18,0,["Binary",144,47,0,["Unary",144,47,0,"typeof","Ident",3769,35,0,"promises"],"!==","Const",144,62,0,"object"],"||","Binary",43,7,0,["Ident",3769,35,0,"promises"],"===","Const",1,1,0,null],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected promises to be an Object, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3769,35,0,"promises"]]]],["Binary",3770,1,0,["Ident",3770,6,0,"isArray"],"=","Call",141,146,0,["Ident",141,146,0,"__isArray"],0,["Ident",3770,27,0,"promises"]],["Binary",3771,1,0,["Ident",3771,6,0,"defer"],"=","Call",3771,14,0,["Ident",3771,14,0,"__defer"],0],["IfStatement",3772,15,0,0,["Ident",3772,18,0,"isArray"],["Binary",3772,1,0,["Ident",3772,6,0,"result"],"=","Arr",3772,32,0],"Binary",3772,1,0,["Ident",3772,6,0,"result"],"=","Obj",3772,40,0],["Binary",3773,1,0,["Ident",3773,14,0,"remaining"],"=","Const",3773,27,0,0],["Func",3774,1,0,["Ident",3774,6,0,"handle"],[["Ident",3774,14,0,"key"],["Ident",3774,18,0,"promise"]],[],[],"Return",3775,1,0,"Call",3775,1,0,["Binary",3775,1,0,["Ident",3775,1,0,"promise"],".","Const",3775,13,0,"then"],0,["Func",3776,8,0,0,[["Ident",3776,9,0,"value"]],[],[],"BlockExpression",3777,1,0,["Binary",3777,1,0,["Binary",3777,1,0,["Ident",3777,1,0,"result"],".","Ident",3777,16,0,"key"],"=","Ident",3777,23,0,"value"],["IfExpression",3778,1,0,["Binary",3778,11,0,["Unary",914,11,0,"--","Ident",3778,13,0,"remaining"],"===","Const",3778,32,0,0],["Call",3779,1,0,["Binary",3779,1,0,["Ident",3779,1,0,"defer"],".","Const",3779,17,0,"fulfill"],0,["Ident",3779,25,0,"result"]]]],["Binary",3780,7,0,["Ident",3780,7,0,"defer"],".","Const",3780,13,0,"reject"]],["IfStatement",3781,1,0,0,["Ident",3781,5,0,"isArray"],["BlockStatement",3782,1,0,0,["Binary",3782,1,0,["Ident",3782,16,0,"i"],"=","Binary",3782,20,0,["Ident",3782,20,0,"promises"],".","Const",3782,30,0,"length"],["Binary",3783,1,0,["Ident",3783,1,0,"remaining"],"=","Ident",3783,17,0,"i"],["For",1135,1,0,0,0,["Unary",3784,10,0,"--post","Ident",3784,20,0,"i"],0,"Call",3785,1,0,["Ident",3785,1,0,"handle"],0,["Ident",3785,14,0,"i"],["Binary",3785,16,0,["Ident",3785,16,0,"promises"],".","Ident",3785,26,0,"i"]]],"ForIn",3787,1,0,0,["Ident",3787,8,0,"k"],["Ident",3787,16,0,"promises"],"IfStatement",1596,1,0,0,["Call",656,7,0,["Binary",656,7,0,["Ident",656,7,0,"__owns"],".","Const",656,7,0,"call"],0,["Ident",3787,16,0,"promises"],["Ident",3787,8,0,"k"]],["BlockStatement",1574,1,0,0,["Binary",1554,52,0,["Ident",3787,11,0,"v"],"=","Binary",1554,65,0,["Ident",3787,16,0,"promises"],".","Ident",3787,8,0,"k"],["Unary",912,11,0,"++","Ident",3788,1,0,"remaining"],["Call",3789,1,0,["Ident",3789,1,0,"handle"],0,["Ident",3789,14,0,"k"],["Ident",3789,16,0,"v"]]]],["Return",3790,1,0,"Binary",3790,1,0,["Ident",3790,1,0,"defer"],".","Const",3790,9,0,"promise"]],type:{type:"generic",base:"functionBase",args:[{type:"object",pairs:{sync:"function",then:"function"}}]},dependencies:["__defer","__everyPromise","__isArray","__owns","__typeof"]},__delay:{helper:["Func",1940,1,0,0,[["Ident",3800,27,0,"milliseconds"],["Ident",3800,50,0,"value"]],["defer"],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Binary",663,18,0,["Unary",132,7,0,"typeof","Ident",3800,27,0,"milliseconds"],"!==","Const",132,25,0,"number"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected milliseconds to be a Number, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3800,27,0,"milliseconds"]]]],["IfStatement",3801,1,0,0,["Binary",740,13,0,["Ident",3801,5,0,"milliseconds"],"<=","Const",3801,22,0,0],["Return",3802,1,0,"Call",3802,1,0,["Binary",3802,1,0,["Ident",3802,1,0,"__defer"],".","Const",3802,13,0,"fulfilled"],0,["Ident",3802,23,0,"value"]],"BlockStatement",3804,1,0,0,["Binary",3804,1,0,["Ident",3804,8,0,"defer"],"=","Call",3804,16,0,["Ident",3804,16,0,"__defer"],0],["Call",3805,1,0,["Ident",3805,1,0,"setTimeout"],0,["Func",3805,19,0,0,[],[],[],"Call",3805,22,0,["Binary",3805,22,0,["Ident",3805,22,0,"defer"],".","Const",3805,29,0,"fulfill"],0,["Ident",3805,37,0,"value"]],["Ident",3805,45,0,"milliseconds"]],["Return",3806,1,0,"Binary",3806,1,0,["Ident",3806,1,0,"defer"],".","Const",3806,11,0,"promise"]]],type:"function",dependencies:["__defer","__delay","__typeof"]},__promiseLoop:{helper:["Func",1940,1,0,0,[["Ident",3824,41,0,"limit"],["Ident",3824,58,0,"length"],["Ident",3824,76,0,"body"]],["defer","done","index","result","slotsUsed"],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Binary",663,18,0,["Unary",132,7,0,"typeof","Ident",3824,41,0,"limit"],"!==","Const",132,25,0,"number"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected limit to be a Number, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3824,41,0,"limit"]]]],["IfStatement",1713,1,0,0,["Binary",663,18,0,["Unary",132,7,0,"typeof","Ident",3824,58,0,"length"],"!==","Const",132,25,0,"number"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected length to be a Number, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3824,58,0,"length"]]]],["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Ident",3824,76,0,"body"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected body to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3824,76,0,"body"]]]],["IfStatement",3825,1,0,0,["Binary",3825,5,0,["Binary",3825,5,0,["Ident",3825,5,0,"limit"],"<","Const",3825,15,0,1],"||","Binary",43,7,0,["Ident",3825,19,0,"limit"],"!==","Ident",3825,28,0,"limit"],["Binary",3826,1,0,["Ident",3826,1,0,"limit"],"=","Const",3826,13,0,1,1]],["Binary",3828,1,0,["Ident",3828,6,0,"result"],"=","Arr",3828,15,0],["Binary",3829,1,0,["Ident",3829,14,0,"done"],"=","Const",3829,21,0,!1],["Binary",3830,1,0,["Ident",3830,14,0,"slotsUsed"],"=","Const",3830,28,0,0],["Binary",3831,1,0,["Ident",3831,6,0,"defer"],"=","Call",3831,14,0,["Ident",3831,14,0,"__defer"],0],["Binary",3832,1,0,["Ident",3832,14,0,"index"],"=","Const",3832,23,0,0],["Func",3833,1,0,["Ident",3833,6,0,"handle"],[["Ident",3833,14,0,"index"]],[],[],"BlockStatement",3834,1,0,0,["Unary",912,11,0,"++","Ident",3834,1,0,"slotsUsed"],["Return",3835,1,0,"Call",3835,1,0,["Binary",3835,1,0,["Call",3835,1,0,["Ident",3835,1,0,"body"],0,["Ident",3835,10,0,"index"]],".","Const",3835,17,0,"then"],0,["Func",3836,8,0,0,[["Ident",3836,9,0,"value"]],[],[],"BlockStatement",3837,1,0,0,["Binary",3837,1,0,["Binary",3837,1,0,["Ident",3837,1,0,"result"],".","Ident",3837,16,0,"index"],"=","Ident",3837,25,0,"value"],["Unary",914,11,0,"--","Ident",3838,1,0,"slotsUsed"],["Return",3839,1,0,"Call",3839,1,0,["Ident",3839,1,0,"flush"],0]],["Func",3840,8,0,0,[["Ident",3840,9,0,"reason"]],[],[],"BlockStatement",3841,1,0,0,["Binary",3841,1,0,["Ident",3841,1,0,"done"],"=","Const",3841,16,0,!0],["Return",3842,1,0,"Call",3842,1,0,["Binary",3842,1,0,["Ident",3842,1,0,"defer"],".","Const",3842,15,0,"reject"],0,["Ident",3842,22,0,"reason"]]]]],["Func",3843,1,0,["Ident",3843,6,0,"flush"],[],[],[],"BlockStatement",3844,1,0,0,["For",1135,1,0,0,0,["Binary",3844,10,0,["Binary",3844,10,0,["Unary",3844,10,0,"!","Ident",3844,14,0,"done"],"&&","Binary",738,13,0,["Ident",3844,23,0,"slotsUsed"],"<","Ident",3844,36,0,"limit"],"&&","Binary",738,13,0,["Ident",3844,46,0,"index"],"<","Ident",3844,54,0,"length"],["Unary",912,11,0,"++","Ident",3844,62,0,"index"],"Call",3845,1,0,["Ident",3845,1,0,"handle"],0,["Ident",3845,14,0,"index"]],["IfStatement",3846,1,0,0,["Binary",3846,7,0,["Binary",3846,7,0,["Unary",3846,7,0,"!","Ident",3846,11,0,"done"],"&&","Binary",776,9,0,["Ident",3846,20,0,"index"],">=","Ident",3846,29,0,"length"],"&&","Binary",3846,40,0,["Ident",3846,40,0,"slotsUsed"],"===","Const",3846,55,0,0],["BlockStatement",3847,1,0,0,["Binary",3847,1,0,["Ident",3847,1,0,"done"],"=","Const",3847,14,0,!0],["Return",3848,1,0,"Call",3848,1,0,["Binary",3848,1,0,["Ident",3848,1,0,"defer"],".","Const",3848,13,0,"fulfill"],0,["Ident",3848,21,0,"result"]]]]],["Call",3849,1,0,["Ident",3849,1,0,"setImmediate"],0,["Ident",3849,17,0,"flush"]],["Return",3850,1,0,"Binary",3850,1,0,["Ident",3850,1,0,"defer"],".","Const",3850,9,0,"promise"]],type:{type:"generic",base:"functionBase",args:[{type:"object",pairs:{sync:"function",then:"function"}}]},dependencies:["__defer","__promiseLoop","__typeof","setImmediate"]},__promiseIter:{helper:["Func",1940,1,0,0,[["Ident",3852,41,0,"limit"],["Ident",3852,58,0,"iterator"],["Ident",3852,88,0,"body"]],["defer","done","index","iterStopped","result","slotsUsed"],[],"BlockStatement",1940,1,0,0,["IfStatement",1713,1,0,0,["Binary",663,18,0,["Unary",132,7,0,"typeof","Ident",3852,41,0,"limit"],"!==","Const",132,25,0,"number"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected limit to be a Number, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3852,41,0,"limit"]]]],["IfStatement",1813,12,0,0,["Binary",1813,15,0,["Binary",144,47,0,["Unary",144,47,0,"typeof","Ident",3852,58,0,"iterator"],"!==","Const",144,62,0,"object"],"||","Binary",144,72,0,["Ident",3852,58,0,"iterator"],"===","Const",1,1,0,null],["Throw",1814,1,0,"Call",1814,16,0,["Ident",1814,16,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected iterator to be an Object, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3852,58,0,"iterator"]]],"IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Binary",1812,37,0,["Ident",3852,58,0,"iterator"],".","Const",3852,72,0,"next"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected iterator.next to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Binary",1812,37,0,["Ident",3852,58,0,"iterator"],".","Const",3852,72,0,"next"]]]],["IfStatement",1713,1,0,0,["Binary",667,18,0,["Unary",138,7,0,"typeof","Ident",3852,88,0,"body"],"!==","Const",138,25,0,"function"],["Throw",1714,1,0,"Call",1714,18,0,["Ident",1714,18,0,"TypeError"],0,["Binary",616,7,0,["Const",616,7,0,"Expected body to be a Function, got "],"+","Call",494,49,0,["Ident",494,49,0,"__typeof"],0,["Ident",3852,88,0,"body"]]]],["IfStatement",3853,1,0,0,["Binary",3853,5,0,["Binary",3853,5,0,["Ident",3853,5,0,"limit"],"<","Const",3853,15,0,1],"||","Binary",43,7,0,["Ident",3853,19,0,"limit"],"!==","Ident",3853,28,0,"limit"],["Binary",3854,1,0,["Ident",3854,1,0,"limit"],"=","Const",3854,13,0,1,1]],["Binary",3856,1,0,["Ident",3856,6,0,"result"],"=","Arr",3856,15,0],["Binary",3857,1,0,["Ident",3857,14,0,"done"],"=","Const",3857,21,0,!1],["Binary",3858,1,0,["Ident",3858,14,0,"slotsUsed"],"=","Const",3858,28,0,0],["Binary",3859,1,0,["Ident",3859,6,0,"defer"],"=","Call",3859,14,0,["Ident",3859,14,0,"__defer"],0],["Binary",3860,1,0,["Ident",3860,14,0,"index"],"=","Const",3860,23,0,0],["Binary",3861,1,0,["Ident",3861,14,0,"iterStopped"],"=","Const",3861,29,0,!1],["Func",3862,1,0,["Ident",3862,6,0,"handle"],[["Ident",3862,14,0,"item"],["Ident",3862,19,0,"index"]],[],[],"BlockStatement",3863,1,0,0,["Unary",912,11,0,"++","Ident",3863,1,0,"slotsUsed"],["Return",3864,1,0,"Call",3864,1,0,["Binary",3864,1,0,["Call",3864,1,0,["Ident",3864,1,0,"body"],0,["Ident",3864,10,0,"item"],["Ident",3864,15,0,"index"]],".","Const",3864,23,0,"then"],0,["Func",3865,8,0,0,[["Ident",3865,9,0,"value"]],[],[],"BlockStatement",3866,1,0,0,["Binary",3866,1,0,["Binary",3866,1,0,["Ident",3866,1,0,"result"],".","Ident",3866,16,0,"index"],"=","Ident",3866,25,0,"value"],["Unary",914,11,0,"--","Ident",3867,1,0,"slotsUsed"],["Return",3868,1,0,"Call",3868,1,0,["Ident",3868,1,0,"flush"],0]],["Func",3869,8,0,0,[["Ident",3869,9,0,"reason"]],[],[],"BlockStatement",3870,1,0,0,["Binary",3870,1,0,["Ident",3870,1,0,"done"],"=","Const",3870,16,0,!0],["Return",3871,1,0,"Call",3871,1,0,["Binary",3871,1,0,["Ident",3871,1,0,"defer"],".","Const",3871,15,0,"reject"],0,["Ident",3871,22,0,"reason"]]]]],["Func",3872,1,0,["Ident",3872,6,0,"flush"],[],["item"],[],"BlockStatement",3873,1,0,0,["For",1135,1,0,0,0,["Binary",3873,10,0,["Binary",3873,10,0,["Unary",3873,10,0,"!","Ident",3873,14,0,"done"],"&&","Unary",3873,23,0,"!","Ident",3873,27,0,"iterStopped"],"&&","Binary",738,13,0,["Ident",3873,44,0,"slotsUsed"],"<","Ident",3873,57,0,"limit"],0,"BlockStatement",3874,1,0,0,["Binary",3874,1,0,["Ident",3874,18,0,"item"],"=","Const",3874,25,0],["TryCatch",3875,1,0,0,["Binary",3876,1,0,["Ident",3876,1,0,"item"],"=","Call",3876,16,0,["Binary",3876,16,0,["Ident",3876,16,0,"iterator"],".","Const",3876,26,0,"next"],0],["Ident",3877,12,0,"e"],"BlockStatement",3878,1,0,0,["Binary",3878,1,0,["Ident",3878,1,0,"done"],"=","Const",3878,16,0,!0],["Call",3879,1,0,["Binary",3879,1,0,["Ident",3879,1,0,"defer"],".","Const",3879,15,0,"reject"],0,["Ident",3879,22,0,"e"]],["Return",3880,1,0,"Const",3880,1,0]],["IfStatement",3882,1,0,0,["Binary",3882,9,0,["Ident",3882,9,0,"item"],".","Const",3882,15,0,"done"],["BlockStatement",3883,1,0,0,["Binary",3883,1,0,["Ident",3883,1,0,"iterStopped"],"=","Const",3883,24,0,!0],["Break",3884,1,0]]],["Call",3886,1,0,["Ident",3886,1,0,"handle"],0,["Binary",3886,14,0,["Ident",3886,14,0,"item"],".","Const",3886,19,0,"value"],["Unary",3886,25,0,"++post","Ident",3886,35,0,"index"]]],["IfStatement",3888,1,0,0,["Binary",3888,7,0,["Binary",3888,7,0,["Unary",3888,7,0,"!","Ident",3888,11,0,"done"],"&&","Binary",3888,20,0,["Ident",3888,20,0,"slotsUsed"],"===","Const",3888,35,0,0],"&&","Ident",3888,40,0,"iterStopped"],["BlockStatement",3889,1,0,0,["Binary",3889,1,0,["Ident",3889,1,0,"done"],"=","Const",3889,14,0,!0],["Return",3890,1,0,"Call",3890,1,0,["Binary",3890,1,0,["Ident",3890,1,0,"defer"],".","Const",3890,13,0,"fulfill"],0,["Ident",3890,21,0,"result"]]]]],["Call",3891,1,0,["Ident",3891,1,0,"setImmediate"],0,["Ident",3891,17,0,"flush"]],["Return",3892,1,0,"Binary",3892,1,0,["Ident",3892,1,0,"defer"],".","Const",3892,9,0,"promise"]],type:{type:"generic",base:"functionBase",args:[{type:"object",pairs:{sync:"function",then:"function"}}]},dependencies:["__defer","__promiseIter","__typeof","setImmediate"]}},assignOperator:[{code:'return(function(){"use strict";return function(e){var t,s,r,c;return t=this,s=e.left,r=e.op,c=e.right,!this.isComplex(s)||this.isAccess(s)&&!this.isComplex(this.parent(s))&&!this.isComplex(this.child(s))?this.mutateLast(c||this.noop(),function(e){return t.assign(s,"=",e)},!0):this.assign(s,"=",c)}}).call(this);',operators:":=",options:{type:"right"},id:30},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a,o;return r=this,c=e.left,a=e.op,o=e.right,this.maybeCacheAccess(c,function(e,r){return s("MacroAccess",10884,1,311,{left:t(e),inverted:!1,op:"and",right:s("MacroAccess",10900,30,311,{left:t(r),op:":=",right:t(o)},"expression",!1,!1,!1)},"expression",!1,!1,!1)})}}).call(this);',operators:"and=",id:43},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a,o;return r=this,c=e.left,a=e.op,o=e.right,this.maybeCacheAccess(c,function(e,r){return s("MacroAccess",11e3,2,315,{left:t(e),inverted:!1,op:"or",right:s("MacroAccess",11015,30,315,{left:t(r),op:":=",right:t(o)},"expression",!1,!1,!1)},"expression",!1,!1,!1)})}}).call(this);',operators:"or=",id:44},{code:'return(function(){"use strict";return function(e){var t,s,r,c;return t=this,s=e.left,r=e.op,c=e.right,this.canMutateLast(c)&&this.isIdentOrTmp(s)?this.mutateLast(c||this.noop(),function(e){return"~*="===r?t.assign(s,"*=",e):"~/="===r?t.assign(s,"/=",e):t.assign(s,"%=",e)},!0):"~*="===r?this.assign(s,"*=",c):"~/="===r?this.assign(s,"/=",c):this.assign(s,"%=",c)}}).call(this);',operators:["~*=","~/=","~%="],options:{type:"number"},id:46},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a;return r=e.left,c=e.op,a=e.right,this.maybeCacheAccess(r,function(e,r){return s("MacroAccess",11962,30,350,{left:t(e),op:":=",right:s("MacroAccess",11975,45,350,{left:t(r),inverted:!1,op:"~\\\\",right:t(a)},"expression",!1,!1,!1)},"expression",!1,!1,!1)})}}).call(this);',operators:"~\\=",options:{type:"number"},id:47},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a;return r=e.left,c=e.op,a=e.right,this.maybeCacheAccess(r,function(e,r){return s("MacroAccess",13625,30,404,{left:t(e),op:":=",right:s("MacroAccess",13638,50,404,{left:t(r),inverted:!1,op:"~^",right:t(a)},"expression",!1,!1,!1)},"expression",!1,!1,!1)})}}).call(this);',operators:"~^=",options:{type:"number"},id:51},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a,o,n;if(r=this,c=e.left,a=e.op,o=e.right,this.isConst(o)){if(n=this.value(o),1===n)return this.unary("++",c);if(-1===n)return this.unary("--",c);if("number"==typeof n&&!this.isType(c,"numeric"))return this.assign(c,"-=",this["const"](-n))}return this.isType(c,"numeric")?this.canMutateLast(o)&&this.isIdentOrTmp(c)?this.mutateLast(o||this.noop(),function(e){return r.isType(e,"numeric")||(e=s("MacroAccess",14166,48,420,{op:"~+",node:t(e)},"expression",!1,!1,!1)),r.assign(c,"+=",e)},!0):(this.isType(o,"numeric")||(o=s("MacroAccess",14277,48,424,{op:"~+",node:t(o)},"expression",!1,!1,!1)),this.assign(c,"+=",o)):this.canMutateLast(o)&&this.isIdentOrTmp(c)?this.mutateLast(o||this.noop(),function(e){return r.assign(c,"-=",s("MacroAccess",14455,48,428,{op:"~-",node:t(e)},"expression",!1,!1,!1))},!0):this.assign(c,"-=",s("MacroAccess",14507,48,430,{op:"~-",node:t(o)},"expression",!1,!1,!1))}}).call(this);',operators:"~+=",options:{type:"number"},id:52},{code:'return(function(){"use strict";return function(e){var t,s,r,c,a;if(t=this,s=e.left,r=e.op,c=e.right,this.isConst(c)){if(a=this.value(c),1===a)return this.unary("--",s);if(-1===a)return this.unary("++",s)}return this.canMutateLast(c)&&this.isIdentOrTmp(s)?this.mutateLast(c||this.noop(),function(e){return t.assign(s,"-=",e)},!0):this.assign(s,"-=",c)}}).call(this);',operators:"~-=",options:{type:"number"},id:53},{code:'return(function(){"use strict";return function(e){var t,s,r,c;return t=this,s=e.left,r=e.op,c=e.right,this.canMutateLast(c)&&this.isIdentOrTmp(s)?this.mutateLast(c||this.noop(),function(e){return"~bitlshift="===r?t.assign(s,"<<=",e):"~bitrshift="===r?t.assign(s,">>=",e):t.assign(s,">>>=",e)},!0):"~bitlshift="===r?this.assign(s,"<<=",c):"~bitrshift="===r?this.assign(s,">>=",c):this.assign(s,">>>=",c)}}).call(this);',operators:["~bitlshift=","~bitrshift=","~biturshift="],options:{type:"number"},id:55},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a,o;return r=this,c=e.left,a=e.op,o=e.right,this.canMutateLast(o)&&this.isIdentOrTmp(c)?this.mutateLast(o||this.noop(),function(e){return r.hasType(c,"numeric")&&r.hasType(e,"numeric")&&(e=s("MacroAccess",15907,29,473,{left:s("Const",15908,""),inverted:!1,op:"~&",right:s("Ident",15913,"n")},"expression",!1,!1,!1)),r.assign(c,"+=",e)},!0):(this.hasType(c,"numeric")&&this.hasType(o,"numeric")&&(o=s("MacroAccess",16041,29,477,{left:s("Const",16042,""),inverted:!1,op:"~&",right:s("Ident",16047,"right")},"expression",!1,!1,!1)),this.assign(c,"+=",o))}}).call(this);',operators:"~&=",options:{type:"string"},id:56},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a,o;return r=this,c=e.left,a=e.op,o=e.right,this.maybeCacheAccess(c,function(e,r){return s("MacroAccess",18563,30,571,{left:t(e),op:":=",right:s("MacroAccess",18576,62,571,{left:t(r),inverted:!1,op:"^",right:t(o)},"expression",!1,!1,!1)},"expression",!1,!1,!1)})}}).call(this);',operators:"^=",options:{type:"number"},id:63},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a,o;return r=this,c=e.left,a=e.op,o=e.right,this.maybeCacheAccess(c,function(e,r){return s("MacroAccess",19418,30,602,{left:t(e),op:":=",right:s("MacroAccess",19431,64,602,{left:t(r),inverted:!1,op:"\\\\",right:t(o)},"expression",!1,!1,!1)},"expression",!1,!1,!1)})}}).call(this);',operators:"\\=",options:{type:"number"},id:68},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a,o;return r=this,c=e.left,a=e.op,o=e.right,this.getConstValue("DISABLE_TYPE_CHECKING",!1)?s("MacroAccess",20030,56,620,{left:t(c),op:"~&=",right:t(o)},"expression",!1,!1,!1):this.isType(c,"string")?s("MacroAccess",20089,56,622,{left:t(c),op:"~&=",right:s("MacroAccess",20099,69,622,{left:s("Const",20100,""),inverted:!1,op:"&",right:t(o)},"expression",!1,!1,!1)},"expression",!1,!1,!1):this.maybeCacheAccess(c,function(e,r){return s("MacroAccess",20178,30,625,{left:t(e),op:":=",right:s("MacroAccess",20191,69,625,{left:t(r),inverted:!1,op:"&",right:t(o)},"expression",!1,!1,!1)},"expression",!1,!1,!1)})}}).call(this);',operators:"&=",options:{type:"string"},id:70},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a,o;return r=this,c=e.left,a=e.op,o=e.right,this.maybeCacheAccess(c,function(e,c){return r.maybeCache(e,function(e,a){return r.maybeCache(o,function(r,o){return s("MacroAccess",25887,16,809,{macroName:"if",macroData:{test:s("MacroAccess",25890,10,809,{left:t(e),inverted:!1,op:"~>",right:t(r)},"expression",!1,!1,!1),body:s("MacroAccess",25921,30,809,{left:t(c),op:":=",right:t(o)},"expression",!1,!1,!1),elseIfs:[],elseBody:t(a)}},"expression",!1,!1,!1)})})})}}).call(this);',operators:"~min=",id:86},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a,o;return r=this,c=e.left,a=e.op,o=e.right,this.maybeCacheAccess(c,function(e,c){return r.maybeCache(e,function(e,a){return r.maybeCache(o,function(r,o){return s("MacroAccess",26143,16,815,{macroName:"if",macroData:{test:s("MacroAccess",26146,9,815,{left:t(e),inverted:!1,op:"~<",right:t(r)},"expression",!1,!1,!1),body:s("MacroAccess",26177,30,815,{left:t(c),op:":=",right:t(o)},"expression",!1,!1,!1),elseIfs:[],elseBody:t(a)}},"expression",!1,!1,!1)})})})}}).call(this);',operators:"~max=",id:87},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a,o;return r=this,c=e.left,a=e.op,o=e.right,this.maybeCacheAccess(c,function(e,c){return r.maybeCache(e,function(e,a){return r.maybeCache(o,function(r,o){return s("MacroAccess",26398,16,821,{macroName:"if",macroData:{test:s("MacroAccess",26401,79,821,{left:t(e),inverted:!1,op:">",right:t(r)},"expression",!1,!1,!1),body:s("MacroAccess",26431,30,821,{left:t(c),op:":=",right:t(o)},"expression",!1,!1,!1),elseIfs:[],elseBody:t(a)}},"expression",!1,!1,!1)})})})}}).call(this);',operators:"min=",id:88},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a,o;return r=this,c=e.left,a=e.op,o=e.right,this.maybeCacheAccess(c,function(e,c){return r.maybeCache(e,function(e,a){return r.maybeCache(o,function(r,o){return s("MacroAccess",26652,16,827,{macroName:"if",macroData:{test:s("MacroAccess",26655,78,827,{left:t(e),inverted:!1,op:"<",right:t(r)},"expression",!1,!1,!1),body:s("MacroAccess",26685,30,827,{left:t(c),op:":=",right:t(o)},"expression",!1,!1,!1),elseIfs:[],elseBody:t(a)}},"expression",!1,!1,!1)})})})}}).call(this);',operators:"max=",id:89},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a,o;return r=this,c=e.left,a=e.op,o=e.right,this.maybeCacheAccess(c,function(e,r){return s("MacroAccess",26803,30,831,{left:t(e),op:":=",right:s("MacroAccess",26816,84,831,{left:t(r),inverted:!1,op:"xor",right:t(o)},"expression",!1,!1,!1)},"expression",!1,!1,!1)})}}).call(this);',operators:"xor=",id:90},{code:'return(function(){"use strict";return function(e,t,s){var r,c,a,o;return r=this,c=e.left,a=e.op,o=e.right,this.maybeCacheAccess(c,function(e,c){return r.maybeCache(e,function(e,a){return r.position==="expression"?s("MacroAccess",27006,16,837,{macroName:"if",macroData:{test:s("MacroAccess",27009,20,837,{op:"?",node:t(e)},"expression",!1,!1,!1),body:t(a),elseIfs:[],elseBody:s("MacroAccess",27044,30,837,{left:t(c),op:":=",right:t(o)},"expression",!1,!1,!1)}},"expression",!1,!1,!1):s("MacroAccess",27083,17,839,{macroName:"if",macroData:{test:s("MacroAccess",27086,3,839,{op:"not",node:s("MacroAccess",27090,20,839,{op:"?",node:t(e)},"statement",!1,!1,!1)},"statement",!1,!1,!1),body:s("MacroAccess",27102,30,840,{left:t(c),op:":=",right:t(o)},"statement",!1,!1,!1),elseIfs:[],elseBody:t(a)}},"statement",!1,!1,!1)})})}}).call(this);',operators:"?=",id:91},{code:'return(function(){"use strict";return function(e){var t,s,r,c;return t=this,s=e.left,r=e.op,c=e.right,this.canMutateLast(c)&&this.isIdentOrTmp(s)?this.mutateLast(c||this.noop(),function(e){return"~bitand="===r?t.assign(s,"&=",e):"~bitor="===r?t.assign(s,"|=",e):t.assign(s,"^=",e)},!0):"~bitand="===r?this.assign(s,"&=",c):"~bitor="===r?this.assign(s,"|=",c):this.assign(s,"^=",c)}}).call(this);',operators:["~bitand=","~bitor=","~bitxor="],options:{type:"number"},id:95},{code:'return(function(){"use strict";return function(e,t,s){var r,c,o,a;return r=this,c=e.left,o=e.op,a=e.right,this.getConstValue("DISABLE_TYPE_CHECKING",!1)||this.isType(c,"number")?"*="===o?s("MacroAccess",29135,46,906,{left:t(c),op:"~*=",right:s("MacroAccess",29145,60,906,{op:"+",node:t(a)},"expression",!1,!1,!1)},"expression",!1,!1,!1):"/="===o?s("MacroAccess",29187,46,908,{left:t(c),op:"~/=",right:s("MacroAccess",29197,60,908,{op:"+",node:t(a)},"expression",!1,!1,!1)},"expression",!1,!1,!1):"%="===o?s("MacroAccess",29239,46,910,{left:t(c),op:"~%=",right:s("MacroAccess",29249,60,910,{op:"+",node:t(a)},"expression",!1,!1,!1)},"expression",!1,!1,!1):"+="===o?s("MacroAccess",29291,52,912,{left:t(c),op:"~+=",right:s("MacroAccess",29301,60,912,{op:"+",node:t(a)},"expression",!1,!1,!1)},"expression",!1,!1,!1):"-="===o?s("MacroAccess",29343,53,914,{left:t(c),op:"~-=",right:s("MacroAccess",29353,60,914,{op:"+",node:t(a)},"expression",!1,!1,!1)},"expression",!1,!1,!1):"bitlshift="===o?s("MacroAccess",29403,55,916,{left:t(c),op:"~bitlshift=",right:s("MacroAccess",29421,60,916,{op:"+",node:t(a)},"expression",!1,!1,!1)},"expression",!1,!1,!1):"bitrshift="===o?s("MacroAccess",29471,55,918,{left:t(c),op:"~bitrshift=",right:s("MacroAccess",29489,60,918,{op:"+",node:t(a)},"expression",!1,!1,!1)},"expression",!1,!1,!1):"biturshift="===o?s("MacroAccess",29540,55,920,{left:t(c),op:"~biturshift=",right:s("MacroAccess",29559,60,920,{op:"+",node:t(a)},"expression",!1,!1,!1)},"expression",!1,!1,!1):"bitand="===o?s("MacroAccess",29606,95,922,{left:t(c),op:"~bitand=",right:s("MacroAccess",29621,60,922,{op:"+",node:t(a)},"expression",!1,!1,!1)},"expression",!1,!1,!1):"bitor="===o?s("MacroAccess",29667,95,924,{left:t(c),op:"~bitor=",right:s("MacroAccess",29681,60,924,{op:"+",node:t(a)},"expression",!1,!1,!1)},"expression",!1,!1,!1):"bitxor="===o?s("MacroAccess",29728,95,926,{left:t(c),op:"~bitxor=",right:s("MacroAccess",29743,60,926,{op:"+",node:t(a)},"expression",!1,!1,!1)},"expression",!1,!1,!1):this.error("Unknown operator "+o):this.maybeCacheAccess(c,function(e,c){var n;return n="*="===o?s("MacroAccess",29901,64,932,{left:t(c),inverted:!1,op:"*",right:t(a)},"expression",!1,!1,!1):"/="===o?s("MacroAccess",29954,64,934,{left:t(c),inverted:!1,op:"/",right:t(a)},"expression",!1,!1,!1):"%="===o?s("MacroAccess",30007,64,936,{left:t(c),inverted:!1,op:"%",right:t(a)},"expression",!1,!1,!1):"+="===o?s("MacroAccess",30060,66,938,{left:t(c),inverted:!1,op:"+",right:t(a)},"expression",!1,!1,!1):"-="===o?s("MacroAccess",30113,66,940,{left:t(c),inverted:!1,op:"-",right:t(a)},"expression",!1,!1,!1):"bitlshift="===o?s("MacroAccess",30174,67,942,{left:t(c),inverted:!1,op:"bitlshift",right:t(a)},"expression",!1,!1,!1):"bitrshift="===o?s("MacroAccess",30243,67,944,{left:t(c),inverted:!1,op:"bitrshift",right:t(a)},"expression",!1,!1,!1):"biturshift="===o?s("MacroAccess",30313,67,946,{left:t(c),inverted:!1,op:"biturshift",right:t(a)},"expression",!1,!1,!1):"bitand="===o?s("MacroAccess",30380,96,948,{left:t(c),inverted:!1,op:"bitand",right:t(a)},"expression",!1,!1,!1):"bitor="===o?s("MacroAccess",30442,97,950,{left:t(c),inverted:!1,op:"bitor",right:t(a)},"expression",!1,!1,!1):"bitxor="===o?s("MacroAccess",30504,98,952,{left:t(c),inverted:!1,op:"bitxor",right:t(a)},"expression",!1,!1,!1):r.error("Unknown operator "+o),s("MacroAccess",30587,30,955,{left:t(e),op:":=",right:t(n)},"expression",!1,!1,!1)})}}).call(this);',operators:["*=","/=","%=","+=","-=","bitlshift=","bitrshift=","biturshift=","bitand=","bitor=","bitxor="],options:{type:"number"},id:103}],defineSyntax:[{code:'return(function(){"use strict";return function(e){var t,s,r;return r=e.isMutable,s=e.ident,t=e.asType,this.isIdentOrTmp(s)?{type:"ident",isMutable:"mutable"===r,ident:s,asType:t}:s}}).call(this);',options:{name:"DeclarableIdent"},params:[["ident","isMutable","many","?","const","mutable"],["ident","ident","ident","Identifier"],["ident","asType","many","?","sequence",["const","as"],["this","ident","Type"]]],id:31},{code:'return(function(){"use strict";return function(e){var t,s;return t=e.head,s=e.tail,{type:"array",elements:[t].concat(s)}}}).call(this);',options:{name:"DeclarableArray"},params:[["const","["],["ident","head","choice",["ident","Declarable"],["const",""]],["ident","tail","many","*","sequence",["const",","],["this","choice",["ident","Declarable"],["const",""]]],["const","]"]],id:32},{code:'return(function(){"use strict";return function(e){var t;return t=e.value,t=this.macroExpand1(t),{key:this.name(t.ident),value:t}}}).call(this);',options:{name:"DeclarableObjectSingularPair"},params:[["ident","value","ident","DeclarableIdent"]],id:33},{options:{name:"DeclarableObjectDualPair"},params:[["this","sequence",["ident","key","ident","ObjectKey"],["const",":"],["ident","value","ident","Declarable"]]],id:34},{options:{name:"DeclarableObjectPair"},params:[["this","choice",["ident","DeclarableObjectDualPair"],["ident","DeclarableObjectSingularPair"]]],id:35},{code:'return(function(){"use strict";return function(e){var t,s;return t=e.head,s=e.tail,{type:"object",pairs:[t].concat(s)}}}).call(this);',options:{name:"DeclarableObject"},params:[["const","{"],["ident","head","ident","DeclarableObjectPair"],["ident","tail","many","*","sequence",["const",","],["this","ident","DeclarableObjectPair"]],["const","}"]],id:36},{options:{name:"Declarable"},params:[["this","choice",["ident","DeclarableArray"],["ident","DeclarableObject"],["ident","DeclarableIdent"]]],id:37}],call:[{code:'return(function(){"use strict";return function(e,t,s){var r,c,o,a,n;return o=e.macroName,c=e.macroData,r=c[0],a=arguments[0].macroData.slice(1),a.length===0?t(r):this.position==="statement"?(n=this.tmp("ref"),s("Block",16865,[s("MacroAccess",16865,38,506,{macroName:"let",macroData:{declarable:s("MacroAccess",16874,37,506,s("MacroAccess",16874,31,506,{ident:t(n)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:t(r)}},"statement",!1,!1,!1),t(a),t(n)],null)):s("Call",16925,s("Ident",16925,"__first"),[t(r),t(a)],!1,!1)}}).call(this);',names:"first!",id:58},{code:'return(function(){"use strict";return function(e,t,s){var r,c,o,a,n;return a=e.macroName,o=e.macroData,n=arguments[0].macroData.slice(0,-1),c=(r=arguments[0].macroData)[r.length-1],n.length===0?t(c):s("Block",17179,[t(n),t(c)],null)}}).call(this);',names:"last!",id:59},{code:'return(function(){"use strict";return function(e,t,s,r){var c,a,o,n,i,l;return n=e.macroName,o=e.macroData,a=o[0],l=o[1],this.isFunc(a)?(c=this.funcBody(a),i=this.tmp("once",!0,"boolean"),a=this.rewrap(this.func(this.funcParams(a),s("Block",80937,[s("MacroAccess",80937,17,2417,{macroName:"if",macroData:{test:t(i),body:s("MacroAccess",80953,17,2418,{macroName:"if",macroData:{test:t(l),body:s("MacroAccess",80979,39,2419,{macroName:"return",macroData:{}},"statement",!1,!1,!1),elseIfs:[],elseBody:s("MacroAccess",81013,11,2421,{op:"throw",node:s("Call",81030,s("Ident",81030,"Error"),[s("Const",81037,"Attempted to call function more than once")],!1,!1)},"statement",!1,!1,!1)}},"statement",!1,!1,!1),elseIfs:[],elseBody:s("MacroAccess",81094,30,2423,{left:t(i),op:":=",right:r("true")},"statement",!1,!1,!1)}},"statement",!1,!1,!1),t(c)],null),this.funcIsAutoReturn(a),this.funcIsBound(a),this.funcIsCurried(a),this.funcAsType(a),this.funcIsGenerator(a),this.funcGeneric(a))),s("Block",81307,[s("MacroAccess",81307,38,2432,{macroName:"let",macroData:{declarable:s("MacroAccess",81316,37,2432,s("MacroAccess",81316,31,2432,{isMutable:"mutable",ident:t(i)},"statement",!1,!1,!1),"statement",!1,!1,!1),value:r("false")}},"statement",!1,!1,!1),t(a)],null)):this.isConst(l)&&!this.value(l)?s("Call",81425,s("Ident",81425,"__once"),[t(a)],!1,!1):s("Call",81458,s("Ident",81458,"__once"),[t(a),t(l)],!1,!1)}}).call(this);',names:"once!",id:126},{code:'return(function(){"use strict";var e,t;return e=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+t(e));return e},t=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(t,s,r){var c,o,a,n;return c=this,a=t.macroName,o=t.macroData,n=o[0],e(o.length)>1&&this.error("fulfilled! only expects one argument"),this.mutateLast(n||this.noop(),function(e){return r("Call",120208,r("Access",120208,r("Ident",120208,"__defer"),r("Const",120217,"fulfilled")),[s(e)],!1,!1)},!0)}}).call(this);',names:"fulfilled!",id:156},{code:'return(function(){"use strict";var e,t;return e=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+t(e));return e},t=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(t,s,r){var c,o,a,n;return c=this,a=t.macroName,o=t.macroData,n=o[0],e(o.length)>1&&this.error("rejected! only expects one argument"),this.mutateLast(n||this.noop(),function(e){return r("Call",120383,r("Access",120383,r("Ident",120383,"__defer"),r("Const",120392,"rejected")),[s(e)],!1,!1)},!0)}}).call(this);',names:"rejected!",id:157},{code:'return(function(){"use strict";var e,t;return e=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+t(e));return e},t=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(t,s,r){var c,o,a;return o=t.macroName,c=t.macroData,a=c[0],e(c.length)>1&&this.error("from-promise! only expects one argument"),r("Call",120719,r("Ident",120719,"__fromPromise"),[s(a)],!1,!1)}}).call(this);',names:"fromPromise!",id:158},{code:'return(function(){"use strict";var e,t,s;return e=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+s(e));return e},t=Array.prototype.slice,s=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(s,r,c,o){var a,n,i,l,u,m,p,h;return a=this,m=s.macroName,u=s.macroData,p=u[0],e(u.length)>1&&this.error("to-promise! only expects one argument"),this.isCall(p)||this.error("to-promise! call expression must be a call",p),i=this.callFunc(p),n=this.callArgs(p),this.callIsNew(p)?(n=this.array(n),c("Call",121271,c("Ident",121271,"__toPromise"),[c("Ident",121285,"__new"),r(i),r(n)],!1,!1)):this.callIsApply(p)?n.length!==0&&this.isSpread(n[0])?this.maybeCache(this.array(n),function(e,t){return c("Call",121566,c("Ident",121566,"__toPromise"),[r(i),c("Access",121586,r(e),c("Const",121597,0)),c("Call",121600,c("Access",121600,r(t),c("Const",121607,"slice")),[c("Const",121613,1)],!1,!1)],!1,!1)}):(l=n[0],h=this.array(t.call(n,1)),c("Call",121460,c("Ident",121460,"__toPromise"),[r(i),r(l),r(h)],!1,!1)):(n=this.array(n),this.isAccess(i)?this.maybeCache(this.parent(i),function(e,t){var s;return s=a.child(i),c("Call",121772,c("Ident",121772,"__toPromise"),[c("Access",121786,r(e),r(s)),r(t),r(n)],!1,!1)}):c("Call",121841,c("Ident",121841,"__toPromise"),[r(i),o("void"),r(n)],!1,!1))}}).call(this);',options:{type:"promise"},names:"toPromise!",id:159},{code:'return(function(){"use strict";var e,t;return e=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+t(e));return e},t=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(t,s,r){var c,o,a;return o=t.macroName,c=t.macroData,a=c[0],e(c.length)>1&&this.error("some-promise! only expects one argument"),this.hasType(a,"array")||this.error("some-promise! should be used on an Array",a),r("Call",122663,r("Ident",122663,"__somePromise"),[s(a)],!1,!1)}}).call(this);',names:"somePromise!",id:160},{code:'return(function(){"use strict";var e,t;return e=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+t(e));return e},t=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(t,s,r){var c,o,a;return o=t.macroName,c=t.macroData,a=c[0],e(c.length)>1&&this.error("some-promise! only expects one argument"),this.hasType(a,"array")||this.hasType(a,"object")||this.error("every-promise! should be used on an Array or Object",a),r("Call",123501,r("Ident",123501,"__everyPromise"),[s(a)],!1,!1)}}).call(this);',names:"everyPromise!",id:161},{code:'return(function(){"use strict";var e,t;return e=function(e){if("number"!=typeof e)throw TypeError("Expected a number, got "+t(e));return e},t=function(){var e;return e=Object.prototype.toString,function(t){return void 0===t?"Undefined":null===t?"Null":t.constructor&&t.constructor.name||e.call(t).slice(8,-1)}}(),function(t,s,r){var c,o,a,n,i;return a=t.macroName,o=t.macroData,n=o[0],i=o[1],this.hasType(n,"number")||this.error("delay! should take a number in milliseconds"),c=!this.isConst(i)||this.value(i)!==void 0,this.isConst(n)&&typeof this.value(n)=="number"&&e(this.value(n))<=0?c?r("Call",124066,r("Access",124066,r("Ident",124066,"__defer"),r("Const",124075,"fulfilled")),[s(i)],!1,!1):r("Call",124111,r("Access",124111,r("Ident",124111,"__defer"),r("Const",124120,"fulfilled")),[],!1,!1):c?r("Call",124166,r("Ident",124166,"__delay"),[s(n),s(i)],!1,!1):r("Call",124216,r("Ident",124216,"__delay"),[s(n)],!1,!1)}}).call(this);',names:"delay!",id:162}]})
}("undefined"!=typeof module&&"function"==typeof require?require:void 0);"function"==typeof define&&define.amd?define(function(){return b}):a.GorillaScript=b}(this);